Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 4
Rules claiming more threads will be scaled down.
Conda environments: ignored
Job stats:
job                          count
-------------------------  -------
all                              1
extract_max_freq                 8
extract_node_fastas              8
translate_nucleotide_json        8
total                           25

Select jobs to execute...
Execute 4 jobs...

[Tue Apr 15 16:08:17 2025]
localrule translate_nucleotide_json:
    input: h3n2_Sequences/h3n2_60y_mp.json, h3n2_Sequences/h3n2_60y_mp_root-sequence.json, scripts/translate_nucleotide_to_protein.py
    output: root_tree_translated/h3n2_60y_mp_root-sequence.json
    jobid: 18
    reason: Missing output files: root_tree_translated/h3n2_60y_mp_root-sequence.json
    wildcards: segment=mp
    resources: tmpdir=/tmp

Activating singularity image envs/nextclade.sif

[Tue Apr 15 16:08:17 2025]
localrule translate_nucleotide_json:
    input: h3n2_Sequences/h3n2_60y_pb1.json, h3n2_Sequences/h3n2_60y_pb1_root-sequence.json, scripts/translate_nucleotide_to_protein.py
    output: root_tree_translated/h3n2_60y_pb1_root-sequence.json
    jobid: 6
    reason: Missing output files: root_tree_translated/h3n2_60y_pb1_root-sequence.json
    wildcards: segment=pb1
    resources: tmpdir=/tmp

Activating singularity image envs/nextclade.sif

[Tue Apr 15 16:08:17 2025]
localrule translate_nucleotide_json:
    input: h3n2_Sequences/h3n2_60y_na.json, h3n2_Sequences/h3n2_60y_na_root-sequence.json, scripts/translate_nucleotide_to_protein.py
    output: root_tree_translated/h3n2_60y_na_root-sequence.json
    jobid: 15
    reason: Missing output files: root_tree_translated/h3n2_60y_na_root-sequence.json
    wildcards: segment=na
    resources: tmpdir=/tmp

Activating singularity image envs/nextclade.sif

[Tue Apr 15 16:08:17 2025]
localrule translate_nucleotide_json:
    input: h3n2_Sequences/h3n2_60y_np.json, h3n2_Sequences/h3n2_60y_np_root-sequence.json, scripts/translate_nucleotide_to_protein.py
    output: root_tree_translated/h3n2_60y_np_root-sequence.json
    jobid: 12
    reason: Missing output files: root_tree_translated/h3n2_60y_np_root-sequence.json
    wildcards: segment=np
    resources: tmpdir=/tmp

Activating singularity image envs/nextclade.sif
[Tue Apr 15 16:08:17 2025]
Error in rule translate_nucleotide_json:
    jobid: 18
    input: h3n2_Sequences/h3n2_60y_mp.json, h3n2_Sequences/h3n2_60y_mp_root-sequence.json, scripts/translate_nucleotide_to_protein.py
    output: root_tree_translated/h3n2_60y_mp_root-sequence.json
    conda-env: /home/cavendan/esm-selection/Flu_Snakemake_Pipeline/.snakemake/conda/bfcdef661ca3225b17af93b13017fa6d_
    shell:
        
        mkdir -p root_tree_translated
        python scripts/translate_nucleotide_to_protein.py --tree h3n2_Sequences/h3n2_60y_mp.json --root h3n2_Sequences/h3n2_60y_mp_root-sequence.json --segment mp
        mv h3n2_60y_mp_root-sequence.json root_tree_translated/h3n2_60y_mp_root-sequence.json
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Tue Apr 15 16:08:17 2025]
Error in rule translate_nucleotide_json:
    jobid: 12
    input: h3n2_Sequences/h3n2_60y_np.json, h3n2_Sequences/h3n2_60y_np_root-sequence.json, scripts/translate_nucleotide_to_protein.py
    output: root_tree_translated/h3n2_60y_np_root-sequence.json
    conda-env: /home/cavendan/esm-selection/Flu_Snakemake_Pipeline/.snakemake/conda/bfcdef661ca3225b17af93b13017fa6d_
    shell:
        
        mkdir -p root_tree_translated
        python scripts/translate_nucleotide_to_protein.py --tree h3n2_Sequences/h3n2_60y_np.json --root h3n2_Sequences/h3n2_60y_np_root-sequence.json --segment np
        mv h3n2_60y_np_root-sequence.json root_tree_translated/h3n2_60y_np_root-sequence.json
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Tue Apr 15 16:08:17 2025]
Error in rule translate_nucleotide_json:
    jobid: 6
    input: h3n2_Sequences/h3n2_60y_pb1.json, h3n2_Sequences/h3n2_60y_pb1_root-sequence.json, scripts/translate_nucleotide_to_protein.py
    output: root_tree_translated/h3n2_60y_pb1_root-sequence.json
    conda-env: /home/cavendan/esm-selection/Flu_Snakemake_Pipeline/.snakemake/conda/bfcdef661ca3225b17af93b13017fa6d_
    shell:
        
        mkdir -p root_tree_translated
        python scripts/translate_nucleotide_to_protein.py --tree h3n2_Sequences/h3n2_60y_pb1.json --root h3n2_Sequences/h3n2_60y_pb1_root-sequence.json --segment pb1
        mv h3n2_60y_pb1_root-sequence.json root_tree_translated/h3n2_60y_pb1_root-sequence.json
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Tue Apr 15 16:08:17 2025]
Error in rule translate_nucleotide_json:
    jobid: 15
    input: h3n2_Sequences/h3n2_60y_na.json, h3n2_Sequences/h3n2_60y_na_root-sequence.json, scripts/translate_nucleotide_to_protein.py
    output: root_tree_translated/h3n2_60y_na_root-sequence.json
    conda-env: /home/cavendan/esm-selection/Flu_Snakemake_Pipeline/.snakemake/conda/bfcdef661ca3225b17af93b13017fa6d_
    shell:
        
        mkdir -p root_tree_translated
        python scripts/translate_nucleotide_to_protein.py --tree h3n2_Sequences/h3n2_60y_na.json --root h3n2_Sequences/h3n2_60y_na_root-sequence.json --segment na
        mv h3n2_60y_na_root-sequence.json root_tree_translated/h3n2_60y_na_root-sequence.json
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2025-04-15T160816.876492.snakemake.log
WorkflowError:
At least one job did not complete successfully.
