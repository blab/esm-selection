/*! For license information please see auspice.chunk.218.bundle.a0f6fe189864e602ecbd.js.LICENSE.txt */
(self.webpackChunkauspice=self.webpackChunkauspice||[]).push([[218],{98292:e=>{function n(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}n.keys=()=>[],n.resolve=n,n.id=98292,e.exports=n},47943:(e,n)=>{"use strict";n.byteLength=function(e){var n=l(e),t=n[0],r=n[1];return 3*(t+r)/4-r},n.toByteArray=function(e){var n,t,i=l(e),a=i[0],c=i[1],s=new o(function(e,n,t){return 3*(n+t)/4-t}(0,a,c)),u=0,f=c>0?a-4:a;for(t=0;t<f;t+=4)n=r[e.charCodeAt(t)]<<18|r[e.charCodeAt(t+1)]<<12|r[e.charCodeAt(t+2)]<<6|r[e.charCodeAt(t+3)],s[u++]=n>>16&255,s[u++]=n>>8&255,s[u++]=255&n;return 2===c&&(n=r[e.charCodeAt(t)]<<2|r[e.charCodeAt(t+1)]>>4,s[u++]=255&n),1===c&&(n=r[e.charCodeAt(t)]<<10|r[e.charCodeAt(t+1)]<<4|r[e.charCodeAt(t+2)]>>2,s[u++]=n>>8&255,s[u++]=255&n),s},n.fromByteArray=function(e){for(var n,r=e.length,o=r%3,i=[],a=16383,l=0,s=r-o;l<s;l+=a)i.push(c(e,l,l+a>s?s:l+a));return 1===o?(n=e[r-1],i.push(t[n>>2]+t[n<<4&63]+"==")):2===o&&(n=(e[r-2]<<8)+e[r-1],i.push(t[n>>10]+t[n>>4&63]+t[n<<2&63]+"=")),i.join("")};for(var t=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)t[a]=i[a],r[i.charCodeAt(a)]=a;function l(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");return-1===t&&(t=n),[t,t===n?0:4-t%4]}function c(e,n,r){for(var o,i,a=[],l=n;l<r;l+=3)o=(e[l]<<16&16711680)+(e[l+1]<<8&65280)+(255&e[l+2]),a.push(t[(i=o)>>18&63]+t[i>>12&63]+t[i>>6&63]+t[63&i]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},80365:(e,n,t)=>{"use strict";function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,n){return o=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},o(e,n)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}var c=t(47943),s=t(48405),u="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;n.lW=p,n.h2=50;var f=2147483647;function d(e){if(e>f)throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=new Uint8Array(e);return Object.setPrototypeOf(n,p.prototype),n}function p(e,n,t){if("number"==typeof e){if("string"==typeof n)throw new TypeError('The "string" argument must be of type string. Received type number');return m(e)}return h(e,n,t)}function h(e,n,t){if("string"==typeof e)return function(e,n){if("string"==typeof n&&""!==n||(n="utf8"),!p.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var t=0|w(e,n),r=d(t),o=r.write(e,n);return o!==t&&(r=r.slice(0,o)),r}(e,n);if(ArrayBuffer.isView(e))return function(e){if(ee(e,Uint8Array)){var n=new Uint8Array(e);return b(n.buffer,n.byteOffset,n.byteLength)}return g(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(e));if(ee(e,ArrayBuffer)||e&&ee(e.buffer,ArrayBuffer))return b(e,n,t);if("undefined"!=typeof SharedArrayBuffer&&(ee(e,SharedArrayBuffer)||e&&ee(e.buffer,SharedArrayBuffer)))return b(e,n,t);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return p.from(r,n,t);var o=function(e){if(p.isBuffer(e)){var n=0|v(e.length),t=d(n);return 0===t.length||e.copy(t,0,0,n),t}return void 0!==e.length?"number"!=typeof e.length||ne(e.length)?d(0):g(e):"Buffer"===e.type&&Array.isArray(e.data)?g(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return p.from(e[Symbol.toPrimitive]("string"),n,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(e))}function y(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function m(e){return y(e),d(e<0?0:0|v(e))}function g(e){for(var n=e.length<0?0:0|v(e.length),t=d(n),r=0;r<n;r+=1)t[r]=255&e[r];return t}function b(e,n,t){if(n<0||e.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<n+(t||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===n&&void 0===t?new Uint8Array(e):void 0===t?new Uint8Array(e,n):new Uint8Array(e,n,t),Object.setPrototypeOf(r,p.prototype),r}function v(e){if(e>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|e}function w(e,n){if(p.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ee(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+l(e));var t=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===t)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return J(e).length;default:if(o)return r?-1:Z(e).length;n=(""+n).toLowerCase(),o=!0}}function O(e,n,t){var r=!1;if((void 0===n||n<0)&&(n=0),n>this.length)return"";if((void 0===t||t>this.length)&&(t=this.length),t<=0)return"";if((t>>>=0)<=(n>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,n,t);case"utf8":case"utf-8":return k(this,n,t);case"ascii":return P(this,n,t);case"latin1":case"binary":return I(this,n,t);case"base64":return D(this,n,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,n,t);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function S(e,n,t){var r=e[n];e[n]=e[t],e[t]=r}function x(e,n,t,r,o){if(0===e.length)return-1;if("string"==typeof t?(r=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),ne(t=+t)&&(t=o?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(o)return-1;t=e.length-1}else if(t<0){if(!o)return-1;t=0}if("string"==typeof n&&(n=p.from(n,r)),p.isBuffer(n))return 0===n.length?-1:A(e,n,t,r,o);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,n,t):Uint8Array.prototype.lastIndexOf.call(e,n,t):A(e,[n],t,r,o);throw new TypeError("val must be string, number or Buffer")}function A(e,n,t,r,o){var i,a=1,l=e.length,c=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||n.length<2)return-1;a=2,l/=2,c/=2,t/=2}function s(e,n){return 1===a?e[n]:e.readUInt16BE(n*a)}if(o){var u=-1;for(i=t;i<l;i++)if(s(e,i)===s(n,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===c)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(t+c>l&&(t=l-c),i=t;i>=0;i--){for(var f=!0,d=0;d<c;d++)if(s(e,i+d)!==s(n,d)){f=!1;break}if(f)return i}return-1}function E(e,n,t,r){t=Number(t)||0;var o=e.length-t;r?(r=Number(r))>o&&(r=o):r=o;var i,a=n.length;for(r>a/2&&(r=a/2),i=0;i<r;++i){var l=parseInt(n.substr(2*i,2),16);if(ne(l))return i;e[t+i]=l}return i}function C(e,n,t,r){return Q(Z(n,e.length-t),e,t,r)}function B(e,n,t,r){return Q(function(e){for(var n=[],t=0;t<e.length;++t)n.push(255&e.charCodeAt(t));return n}(n),e,t,r)}function j(e,n,t,r){return Q(J(n),e,t,r)}function T(e,n,t,r){return Q(function(e,n){for(var t,r,o,i=[],a=0;a<e.length&&!((n-=2)<0);++a)r=(t=e.charCodeAt(a))>>8,o=t%256,i.push(o),i.push(r);return i}(n,e.length-t),e,t,r)}function D(e,n,t){return 0===n&&t===e.length?c.fromByteArray(e):c.fromByteArray(e.slice(n,t))}function k(e,n,t){t=Math.min(e.length,t);for(var r=[],o=n;o<t;){var i=e[o],a=null,l=i>239?4:i>223?3:i>191?2:1;if(o+l<=t){var c=void 0,s=void 0,u=void 0,f=void 0;switch(l){case 1:i<128&&(a=i);break;case 2:128==(192&(c=e[o+1]))&&(f=(31&i)<<6|63&c)>127&&(a=f);break;case 3:c=e[o+1],s=e[o+2],128==(192&c)&&128==(192&s)&&(f=(15&i)<<12|(63&c)<<6|63&s)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:c=e[o+1],s=e[o+2],u=e[o+3],128==(192&c)&&128==(192&s)&&128==(192&u)&&(f=(15&i)<<18|(63&c)<<12|(63&s)<<6|63&u)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,l=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=l}return function(e){var n=e.length;if(n<=_)return String.fromCharCode.apply(String,e);for(var t="",r=0;r<n;)t+=String.fromCharCode.apply(String,e.slice(r,r+=_));return t}(r)}p.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(e,n),42===e.foo()}catch(e){return!1}}(),p.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}}),p.poolSize=8192,p.from=function(e,n,t){return h(e,n,t)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array),p.alloc=function(e,n,t){return function(e,n,t){return y(e),e<=0?d(e):void 0!==n?"string"==typeof t?d(e).fill(n,t):d(e).fill(n):d(e)}(e,n,t)},p.allocUnsafe=function(e){return m(e)},p.allocUnsafeSlow=function(e){return m(e)},p.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==p.prototype},p.compare=function(e,n){if(ee(e,Uint8Array)&&(e=p.from(e,e.offset,e.byteLength)),ee(n,Uint8Array)&&(n=p.from(n,n.offset,n.byteLength)),!p.isBuffer(e)||!p.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;for(var t=e.length,r=n.length,o=0,i=Math.min(t,r);o<i;++o)if(e[o]!==n[o]){t=e[o],r=n[o];break}return t<r?-1:r<t?1:0},p.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(e,n){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return p.alloc(0);var t;if(void 0===n)for(n=0,t=0;t<e.length;++t)n+=e[t].length;var r=p.allocUnsafe(n),o=0;for(t=0;t<e.length;++t){var i=e[t];if(ee(i,Uint8Array))o+i.length>r.length?(p.isBuffer(i)||(i=p.from(i)),i.copy(r,o)):Uint8Array.prototype.set.call(r,i,o);else{if(!p.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o)}o+=i.length}return r},p.byteLength=w,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<e;n+=2)S(this,n,n+1);return this},p.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<e;n+=4)S(this,n,n+3),S(this,n+1,n+2);return this},p.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<e;n+=8)S(this,n,n+7),S(this,n+1,n+6),S(this,n+2,n+5),S(this,n+3,n+4);return this},p.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):O.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(e){if(!p.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===p.compare(this,e)},p.prototype.inspect=function(){var e="",t=n.h2;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},u&&(p.prototype[u]=p.prototype.inspect),p.prototype.compare=function(e,n,t,r,o){if(ee(e,Uint8Array)&&(e=p.from(e,e.offset,e.byteLength)),!p.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+l(e));if(void 0===n&&(n=0),void 0===t&&(t=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),n<0||t>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&n>=t)return 0;if(r>=o)return-1;if(n>=t)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(t>>>=0)-(n>>>=0),c=Math.min(i,a),s=this.slice(r,o),u=e.slice(n,t),f=0;f<c;++f)if(s[f]!==u[f]){i=s[f],a=u[f];break}return i<a?-1:a<i?1:0},p.prototype.includes=function(e,n,t){return-1!==this.indexOf(e,n,t)},p.prototype.indexOf=function(e,n,t){return x(this,e,n,t,!0)},p.prototype.lastIndexOf=function(e,n,t){return x(this,e,n,t,!1)},p.prototype.write=function(e,n,t,r){if(void 0===n)r="utf8",t=this.length,n=0;else if(void 0===t&&"string"==typeof n)r=n,t=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n>>>=0,isFinite(t)?(t>>>=0,void 0===r&&(r="utf8")):(r=t,t=void 0)}var o=this.length-n;if((void 0===t||t>o)&&(t=o),e.length>0&&(t<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return E(this,e,n,t);case"utf8":case"utf-8":return C(this,e,n,t);case"ascii":case"latin1":case"binary":return B(this,e,n,t);case"base64":return j(this,e,n,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,n,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;function P(e,n,t){var r="";t=Math.min(e.length,t);for(var o=n;o<t;++o)r+=String.fromCharCode(127&e[o]);return r}function I(e,n,t){var r="";t=Math.min(e.length,t);for(var o=n;o<t;++o)r+=String.fromCharCode(e[o]);return r}function M(e,n,t){var r=e.length;(!n||n<0)&&(n=0),(!t||t<0||t>r)&&(t=r);for(var o="",i=n;i<t;++i)o+=te[e[i]];return o}function R(e,n,t){for(var r=e.slice(n,t),o="",i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function F(e,n,t){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+n>t)throw new RangeError("Trying to access beyond buffer length")}function N(e,n,t,r,o,i){if(!p.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<i)throw new RangeError('"value" argument is out of bounds');if(t+r>e.length)throw new RangeError("Index out of range")}function L(e,n,t,r,o){H(n,r,o,e,t,7);var i=Number(n&BigInt(4294967295));e[t++]=i,i>>=8,e[t++]=i,i>>=8,e[t++]=i,i>>=8,e[t++]=i;var a=Number(n>>BigInt(32)&BigInt(4294967295));return e[t++]=a,a>>=8,e[t++]=a,a>>=8,e[t++]=a,a>>=8,e[t++]=a,t}function U(e,n,t,r,o){H(n,r,o,e,t,7);var i=Number(n&BigInt(4294967295));e[t+7]=i,i>>=8,e[t+6]=i,i>>=8,e[t+5]=i,i>>=8,e[t+4]=i;var a=Number(n>>BigInt(32)&BigInt(4294967295));return e[t+3]=a,a>>=8,e[t+2]=a,a>>=8,e[t+1]=a,a>>=8,e[t]=a,t+8}function z(e,n,t,r,o,i){if(t+r>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function G(e,n,t,r,o){return n=+n,t>>>=0,o||z(e,0,t,4),s.write(e,n,t,r,23,4),t+4}function V(e,n,t,r,o){return n=+n,t>>>=0,o||z(e,0,t,8),s.write(e,n,t,r,52,8),t+8}p.prototype.slice=function(e,n){var t=this.length;(e=~~e)<0?(e+=t)<0&&(e=0):e>t&&(e=t),(n=void 0===n?t:~~n)<0?(n+=t)<0&&(n=0):n>t&&(n=t),n<e&&(n=e);var r=this.subarray(e,n);return Object.setPrototypeOf(r,p.prototype),r},p.prototype.readUintLE=p.prototype.readUIntLE=function(e,n,t){e>>>=0,n>>>=0,t||F(e,n,this.length);for(var r=this[e],o=1,i=0;++i<n&&(o*=256);)r+=this[e+i]*o;return r},p.prototype.readUintBE=p.prototype.readUIntBE=function(e,n,t){e>>>=0,n>>>=0,t||F(e,n,this.length);for(var r=this[e+--n],o=1;n>0&&(o*=256);)r+=this[e+--n]*o;return r},p.prototype.readUint8=p.prototype.readUInt8=function(e,n){return e>>>=0,n||F(e,1,this.length),this[e]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(e,n){return e>>>=0,n||F(e,2,this.length),this[e]|this[e+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(e,n){return e>>>=0,n||F(e,2,this.length),this[e]<<8|this[e+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(e,n){return e>>>=0,n||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(e,n){return e>>>=0,n||F(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},p.prototype.readBigUInt64LE=re((function(e){Y(e>>>=0,"offset");var n=this[e],t=this[e+7];void 0!==n&&void 0!==t||X(e,this.length-8);var r=n+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),o=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+t*Math.pow(2,24);return BigInt(r)+(BigInt(o)<<BigInt(32))})),p.prototype.readBigUInt64BE=re((function(e){Y(e>>>=0,"offset");var n=this[e],t=this[e+7];void 0!==n&&void 0!==t||X(e,this.length-8);var r=n*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],o=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+t;return(BigInt(r)<<BigInt(32))+BigInt(o)})),p.prototype.readIntLE=function(e,n,t){e>>>=0,n>>>=0,t||F(e,n,this.length);for(var r=this[e],o=1,i=0;++i<n&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*n)),r},p.prototype.readIntBE=function(e,n,t){e>>>=0,n>>>=0,t||F(e,n,this.length);for(var r=n,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*n)),i},p.prototype.readInt8=function(e,n){return e>>>=0,n||F(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},p.prototype.readInt16LE=function(e,n){e>>>=0,n||F(e,2,this.length);var t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},p.prototype.readInt16BE=function(e,n){e>>>=0,n||F(e,2,this.length);var t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},p.prototype.readInt32LE=function(e,n){return e>>>=0,n||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},p.prototype.readInt32BE=function(e,n){return e>>>=0,n||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},p.prototype.readBigInt64LE=re((function(e){Y(e>>>=0,"offset");var n=this[e],t=this[e+7];void 0!==n&&void 0!==t||X(e,this.length-8);var r=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(t<<24);return(BigInt(r)<<BigInt(32))+BigInt(n+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),p.prototype.readBigInt64BE=re((function(e){Y(e>>>=0,"offset");var n=this[e],t=this[e+7];void 0!==n&&void 0!==t||X(e,this.length-8);var r=(n<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+t)})),p.prototype.readFloatLE=function(e,n){return e>>>=0,n||F(e,4,this.length),s.read(this,e,!0,23,4)},p.prototype.readFloatBE=function(e,n){return e>>>=0,n||F(e,4,this.length),s.read(this,e,!1,23,4)},p.prototype.readDoubleLE=function(e,n){return e>>>=0,n||F(e,8,this.length),s.read(this,e,!0,52,8)},p.prototype.readDoubleBE=function(e,n){return e>>>=0,n||F(e,8,this.length),s.read(this,e,!1,52,8)},p.prototype.writeUintLE=p.prototype.writeUIntLE=function(e,n,t,r){e=+e,n>>>=0,t>>>=0,r||N(this,e,n,t,Math.pow(2,8*t)-1,0);var o=1,i=0;for(this[n]=255&e;++i<t&&(o*=256);)this[n+i]=e/o&255;return n+t},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(e,n,t,r){e=+e,n>>>=0,t>>>=0,r||N(this,e,n,t,Math.pow(2,8*t)-1,0);var o=t-1,i=1;for(this[n+o]=255&e;--o>=0&&(i*=256);)this[n+o]=e/i&255;return n+t},p.prototype.writeUint8=p.prototype.writeUInt8=function(e,n,t){return e=+e,n>>>=0,t||N(this,e,n,1,255,0),this[n]=255&e,n+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(e,n,t){return e=+e,n>>>=0,t||N(this,e,n,2,65535,0),this[n]=255&e,this[n+1]=e>>>8,n+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(e,n,t){return e=+e,n>>>=0,t||N(this,e,n,2,65535,0),this[n]=e>>>8,this[n+1]=255&e,n+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(e,n,t){return e=+e,n>>>=0,t||N(this,e,n,4,4294967295,0),this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e,n+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(e,n,t){return e=+e,n>>>=0,t||N(this,e,n,4,4294967295,0),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e,n+4},p.prototype.writeBigUInt64LE=re((function(e){return L(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),p.prototype.writeBigUInt64BE=re((function(e){return U(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),p.prototype.writeIntLE=function(e,n,t,r){if(e=+e,n>>>=0,!r){var o=Math.pow(2,8*t-1);N(this,e,n,t,o-1,-o)}var i=0,a=1,l=0;for(this[n]=255&e;++i<t&&(a*=256);)e<0&&0===l&&0!==this[n+i-1]&&(l=1),this[n+i]=(e/a>>0)-l&255;return n+t},p.prototype.writeIntBE=function(e,n,t,r){if(e=+e,n>>>=0,!r){var o=Math.pow(2,8*t-1);N(this,e,n,t,o-1,-o)}var i=t-1,a=1,l=0;for(this[n+i]=255&e;--i>=0&&(a*=256);)e<0&&0===l&&0!==this[n+i+1]&&(l=1),this[n+i]=(e/a>>0)-l&255;return n+t},p.prototype.writeInt8=function(e,n,t){return e=+e,n>>>=0,t||N(this,e,n,1,127,-128),e<0&&(e=255+e+1),this[n]=255&e,n+1},p.prototype.writeInt16LE=function(e,n,t){return e=+e,n>>>=0,t||N(this,e,n,2,32767,-32768),this[n]=255&e,this[n+1]=e>>>8,n+2},p.prototype.writeInt16BE=function(e,n,t){return e=+e,n>>>=0,t||N(this,e,n,2,32767,-32768),this[n]=e>>>8,this[n+1]=255&e,n+2},p.prototype.writeInt32LE=function(e,n,t){return e=+e,n>>>=0,t||N(this,e,n,4,2147483647,-2147483648),this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24,n+4},p.prototype.writeInt32BE=function(e,n,t){return e=+e,n>>>=0,t||N(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e,n+4},p.prototype.writeBigInt64LE=re((function(e){return L(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),p.prototype.writeBigInt64BE=re((function(e){return U(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),p.prototype.writeFloatLE=function(e,n,t){return G(this,e,n,!0,t)},p.prototype.writeFloatBE=function(e,n,t){return G(this,e,n,!1,t)},p.prototype.writeDoubleLE=function(e,n,t){return V(this,e,n,!0,t)},p.prototype.writeDoubleBE=function(e,n,t){return V(this,e,n,!1,t)},p.prototype.copy=function(e,n,t,r){if(!p.isBuffer(e))throw new TypeError("argument should be a Buffer");if(t||(t=0),r||0===r||(r=this.length),n>=e.length&&(n=e.length),n||(n=0),r>0&&r<t&&(r=t),r===t)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-n<r-t&&(r=e.length-n+t);var o=r-t;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(n,t,r):Uint8Array.prototype.set.call(e,this.subarray(t,r),n),o},p.prototype.fill=function(e,n,t,r){if("string"==typeof e){if("string"==typeof n?(r=n,n=0,t=this.length):"string"==typeof t&&(r=t,t=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!p.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(n<0||this.length<n||this.length<t)throw new RangeError("Out of range index");if(t<=n)return this;var i;if(n>>>=0,t=void 0===t?this.length:t>>>0,e||(e=0),"number"==typeof e)for(i=n;i<t;++i)this[i]=e;else{var a=p.isBuffer(e)?e:p.from(e,r),l=a.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<t-n;++i)this[i+n]=a[i%l]}return this};var q={};function $(e,n,t){q[e]=function(t){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&o(e,n)}(p,t);var c,s,u,f,d=(u=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=a(u);if(f){var t=a(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===l(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return i(e)}(this,e)});function p(){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,p),t=d.call(this),Object.defineProperty(i(t),"message",{value:n.apply(i(t),arguments),writable:!0,configurable:!0}),t.name="".concat(t.name," [").concat(e,"]"),t.stack,delete t.name,t}return c=p,(s=[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}])&&r(c.prototype,s),p}(t)}function W(e){for(var n="",t=e.length,r="-"===e[0]?1:0;t>=r+4;t-=3)n="_".concat(e.slice(t-3,t)).concat(n);return"".concat(e.slice(0,t)).concat(n)}function H(e,n,t,r,o,i){if(e>t||e<n){var a,l="bigint"==typeof n?"n":"";throw a=i>3?0===n||n===BigInt(0)?">= 0".concat(l," and < 2").concat(l," ** ").concat(8*(i+1)).concat(l):">= -(2".concat(l," ** ").concat(8*(i+1)-1).concat(l,") and < 2 ** ")+"".concat(8*(i+1)-1).concat(l):">= ".concat(n).concat(l," and <= ").concat(t).concat(l),new q.ERR_OUT_OF_RANGE("value",a,e)}!function(e,n,t){Y(n,"offset"),void 0!==e[n]&&void 0!==e[n+t]||X(n,e.length-(t+1))}(r,o,i)}function Y(e,n){if("number"!=typeof e)throw new q.ERR_INVALID_ARG_TYPE(n,"number",e)}function X(e,n,t){if(Math.floor(e)!==e)throw Y(e,t),new q.ERR_OUT_OF_RANGE(t||"offset","an integer",e);if(n<0)throw new q.ERR_BUFFER_OUT_OF_BOUNDS;throw new q.ERR_OUT_OF_RANGE(t||"offset",">= ".concat(t?1:0," and <= ").concat(n),e)}$("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),$("ERR_INVALID_ARG_TYPE",(function(e,n){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(l(n))}),TypeError),$("ERR_OUT_OF_RANGE",(function(e,n,t){var r='The value of "'.concat(e,'" is out of range.'),o=t;return Number.isInteger(t)&&Math.abs(t)>Math.pow(2,32)?o=W(String(t)):"bigint"==typeof t&&(o=String(t),(t>Math.pow(BigInt(2),BigInt(32))||t<-Math.pow(BigInt(2),BigInt(32)))&&(o=W(o)),o+="n"),r+" It must be ".concat(n,". Received ").concat(o)}),RangeError);var K=/[^+/0-9A-Za-z-_]/g;function Z(e,n){var t;n=n||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((t=e.charCodeAt(a))>55295&&t<57344){if(!o){if(t>56319){(n-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(n-=3)>-1&&i.push(239,191,189);continue}o=t;continue}if(t<56320){(n-=3)>-1&&i.push(239,191,189),o=t;continue}t=65536+(o-55296<<10|t-56320)}else o&&(n-=3)>-1&&i.push(239,191,189);if(o=null,t<128){if((n-=1)<0)break;i.push(t)}else if(t<2048){if((n-=2)<0)break;i.push(t>>6|192,63&t|128)}else if(t<65536){if((n-=3)<0)break;i.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;i.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return i}function J(e){return c.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Q(e,n,t,r){var o;for(o=0;o<r&&!(o+t>=n.length||o>=e.length);++o)n[o+t]=e[o];return o}function ee(e,n){return e instanceof n||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===n.name}function ne(e){return e!=e}var te=function(){for(var e="0123456789abcdef",n=new Array(256),t=0;t<16;++t)for(var r=16*t,o=0;o<16;++o)n[r+o]=e[t]+e[o];return n}();function re(e){return"undefined"==typeof BigInt?oe:e}function oe(){throw new Error("BigInt not supported")}},93892:e=>{e.exports=function(){for(var e=arguments.length,n=[],t=0;t<e;t++)n[t]=arguments[t];if(0!==(n=n.filter((function(e){return null!=e}))).length)return 1===n.length?n[0]:n.reduce((function(e,n){return function(){e.apply(this,arguments),n.apply(this,arguments)}}))}},55788:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=function(e,n){var t,r,o,i=e[1]||"",a=e[3];if(!a)return i;if(n&&"function"==typeof btoa){var l=(t=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(o," */")),c=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot).concat(e," */")}));return[i].concat(c).concat([l]).join("\n")}return[i].join("\n")}(n,e);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var r=0;r<e.length;r++){var o=[].concat(e[r]);t&&(o[2]?o[2]="".concat(t," and ").concat(o[2]):o[2]=t),n.push(o)}},n}},46485:e=>{"use strict";e.exports=function(e,n){return n||(n={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},32269:function(e,n,t){var r,o,i,a,l;function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}a=void 0!==t.g?t.g:this,l=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var n=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var n,t=String(e),r=t.length,o=-1,i="",a=t.charCodeAt(0);++o<r;)0!=(n=t.charCodeAt(o))?i+=n>=1&&n<=31||127==n||0==o&&n>=48&&n<=57||1==o&&n>=48&&n<=57&&45==a?"\\"+n.toString(16)+" ":0==o&&1==r&&45==n||!(n>=128||45==n||95==n||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122)?"\\"+t.charAt(o):t.charAt(o):i+="�";return i};return e.CSS||(e.CSS={}),e.CSS.escape=n,n},"object"==c(n)?e.exports=l(a):(o=[],void 0===(i="function"==typeof(r=l.bind(a,a))?r.apply(n,o):r)||(e.exports=i))},89483:(e,n,t)=>{"use strict";var r=t(58740),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function c(e){return r.isMemo(e)?a:l[e.$$typeof]||o}l[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[r.Memo]=a;var s=Object.defineProperty,u=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(n,t,r){if("string"!=typeof t){if(h){var o=p(t);o&&o!==h&&e(n,o,r)}var a=u(t);f&&(a=a.concat(f(t)));for(var l=c(n),y=c(t),m=0;m<a.length;++m){var g=a[m];if(!(i[g]||r&&r[g]||y&&y[g]||l&&l[g])){var b=d(t,g);try{s(n,g,b)}catch(e){}}}}return n}},48405:(e,n)=>{n.read=function(e,n,t,r,o){var i,a,l=8*o-r-1,c=(1<<l)-1,s=c>>1,u=-7,f=t?o-1:0,d=t?-1:1,p=e[n+f];for(f+=d,i=p&(1<<-u)-1,p>>=-u,u+=l;u>0;i=256*i+e[n+f],f+=d,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[n+f],f+=d,u-=8);if(0===i)i=1-s;else{if(i===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=s}return(p?-1:1)*a*Math.pow(2,i-r)},n.write=function(e,n,t,r,o,i){var a,l,c,s=8*i-o-1,u=(1<<s)-1,f=u>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,y=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(l=isNaN(n)?1:0,a=u):(a=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-a))<1&&(a--,c*=2),(n+=a+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=u?(l=0,a=u):a+f>=1?(l=(n*c-1)*Math.pow(2,o),a+=f):(l=n*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[t+p]=255&l,p+=h,l/=256,o-=8);for(a=a<<o|l,s+=o;s>0;e[t+p]=255&a,p+=h,a/=256,s-=8);e[t+p-h]|=128*y}},75177:(e,n,t)=>{"use strict";t.d(n,{Z:()=>i});var r=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function o(e,n){if(e.length!==n.length)return!1;for(var t=0;t<e.length;t++)if(!((o=e[t])===(i=n[t])||r(o)&&r(i)))return!1;var o,i;return!0}const i=function(e,n){var t;void 0===n&&(n=o);var r,i=[],a=!1;return function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return a&&t===this&&n(o,i)||(r=e.apply(this,o),a=!0,t=this,i=o),r}}},56437:(e,n,t)=>{"use strict";function r(e){return Object.prototype.toString.call(e).slice(8,-1)}function o(e){return"Object"===r(e)&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function i(e){return"Array"===r(e)}function a(e){return"Symbol"===r(e)}function l(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;var r=Array(e),o=0;for(n=0;n<t;n++)for(var i=arguments[n],a=0,l=i.length;a<l;a++,o++)r[o]=i[a];return r}function c(e,n,t,r){var o=r.propertyIsEnumerable(n)?"enumerable":"nonenumerable";"enumerable"===o&&(e[n]=t),"nonenumerable"===o&&Object.defineProperty(e,n,{value:t,enumerable:!1,writable:!0,configurable:!0})}function s(e,n,t){if(!o(n))return t&&i(t)&&t.forEach((function(t){n=t(e,n)})),n;var r={};return o(e)&&(r=l(Object.getOwnPropertyNames(e),Object.getOwnPropertySymbols(e)).reduce((function(t,r){var o=e[r];return(!a(r)&&!Object.getOwnPropertyNames(n).includes(r)||a(r)&&!Object.getOwnPropertySymbols(n).includes(r))&&c(t,r,o,e),t}),{})),l(Object.getOwnPropertyNames(n),Object.getOwnPropertySymbols(n)).reduce((function(r,a){var l=n[a],u=o(e)?e[a]:void 0;return t&&i(t)&&t.forEach((function(e){l=e(u,l)})),void 0!==u&&o(l)&&(l=s(u,l,t)),c(r,a,l,n),r}),r)}t.d(n,{ZP:()=>u});const u=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var r=null,i=e;return o(e)&&e.extensions&&1===Object.keys(e).length&&(i={},r=e.extensions),n.reduce((function(e,n){return s(e,n,r)}),i)}},40468:()=>{},75535:e=>{"use strict";var n=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(e){return n[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var i,a,l=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var s in i=Object(arguments[c]))t.call(i,s)&&(l[s]=i[s]);if(n){a=n(i);for(var u=0;u<a.length;u++)r.call(i,a[u])&&(l[a[u]]=i[a[u]])}}return l}},59739:(e,n,t)=>{"use strict";var r=t(56669);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,n,t,o,i,a){if(a!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function n(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:i,resetWarningCache:o};return t.PropTypes=t,t}},47329:(e,n,t)=>{e.exports=t(59739)()},56669:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},69587:(e,n,t)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var o=t(80757),i=t(75535);function a(e,n){return n.encode?n.strict?o(e):encodeURIComponent(e):e}function l(e){return Array.isArray(e)?e.sort():"object"===r(e)?l(Object.keys(e)).sort((function(e,n){return Number(e)-Number(n)})).map((function(n){return e[n]})):e}n.extract=function(e){return e.split("?")[1]||""},n.parse=function(e,n){var t=function(e){var n;switch(e.arrayFormat){case"index":return function(e,t,r){n=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),n?(void 0===r[e]&&(r[e]={}),r[e][n[1]]=t):r[e]=t};case"bracket":return function(e,t,r){n=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),n?void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=[t]:r[e]=t};default:return function(e,n,t){void 0!==t[e]?t[e]=[].concat(t[e],n):t[e]=n}}}(n=i({arrayFormat:"none"},n)),o=Object.create(null);return"string"!=typeof e?o:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var n=e.replace(/\+/g," ").split("="),r=n.shift(),i=n.length>0?n.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),t(decodeURIComponent(r),i,o)})),Object.keys(o).sort().reduce((function(e,n){var t=o[n];return Boolean(t)&&"object"===r(t)&&!Array.isArray(t)?e[n]=l(t):e[n]=t,e}),Object.create(null))):o},n.stringify=function(e,n){var t=function(e){switch(e.arrayFormat){case"index":return function(n,t,r){return null===t?[a(n,e),"[",r,"]"].join(""):[a(n,e),"[",a(r,e),"]=",a(t,e)].join("")};case"bracket":return function(n,t){return null===t?a(n,e):[a(n,e),"[]=",a(t,e)].join("")};default:return function(n,t){return null===t?a(n,e):[a(n,e),"=",a(t,e)].join("")}}}(n=i({encode:!0,strict:!0,arrayFormat:"none"},n));return e?Object.keys(e).sort().map((function(r){var o=e[r];if(void 0===o)return"";if(null===o)return a(r,n);if(Array.isArray(o)){var i=[];return o.slice().forEach((function(e){void 0!==e&&i.push(t(r,e,i.length))})),i.join("&")}return a(r,n)+"="+a(o,n)})).filter((function(e){return e.length>0})).join("&"):""}},73051:e=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var t=Array.isArray,r=Object.keys,o=Object.prototype.hasOwnProperty,i="undefined"!=typeof Element;function a(e,l){if(e===l)return!0;if(e&&l&&"object"==n(e)&&"object"==n(l)){var c,s,u,f=t(e),d=t(l);if(f&&d){if((s=e.length)!=l.length)return!1;for(c=s;0!=c--;)if(!a(e[c],l[c]))return!1;return!0}if(f!=d)return!1;var p=e instanceof Date,h=l instanceof Date;if(p!=h)return!1;if(p&&h)return e.getTime()==l.getTime();var y=e instanceof RegExp,m=l instanceof RegExp;if(y!=m)return!1;if(y&&m)return e.toString()==l.toString();var g=r(e);if((s=g.length)!==r(l).length)return!1;for(c=s;0!=c--;)if(!o.call(l,g[c]))return!1;if(i&&e instanceof Element&&l instanceof Element)return e===l;for(c=s;0!=c--;)if(!("_owner"===(u=g[c])&&e.$$typeof||a(e[u],l[u])))return!1;return!0}return e!=e&&l!=l}e.exports=function(e,n){try{return a(e,n)}catch(e){if(e.message&&e.message.match(/stack|recursion/i)||-2146828260===e.number)return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}},38506:(e,n)=>{n.w=function(e){return e}},1967:(e,n)=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,O=r?Symbol.for("react.scope"):60119;function S(e){if("object"===t(e)&&null!==e){var n=e.$$typeof;switch(n){case o:switch(e=e.type){case f:case d:case a:case c:case l:case h:return e;default:switch(e=e&&e.$$typeof){case u:case p:case g:case m:case s:return e;default:return n}}case i:return n}}}function x(e){return S(e)===d}n.AsyncMode=f,n.ConcurrentMode=d,n.ContextConsumer=u,n.ContextProvider=s,n.Element=o,n.ForwardRef=p,n.Fragment=a,n.Lazy=g,n.Memo=m,n.Portal=i,n.Profiler=c,n.StrictMode=l,n.Suspense=h,n.isAsyncMode=function(e){return x(e)||S(e)===f},n.isConcurrentMode=x,n.isContextConsumer=function(e){return S(e)===u},n.isContextProvider=function(e){return S(e)===s},n.isElement=function(e){return"object"===t(e)&&null!==e&&e.$$typeof===o},n.isForwardRef=function(e){return S(e)===p},n.isFragment=function(e){return S(e)===a},n.isLazy=function(e){return S(e)===g},n.isMemo=function(e){return S(e)===m},n.isPortal=function(e){return S(e)===i},n.isProfiler=function(e){return S(e)===c},n.isStrictMode=function(e){return S(e)===l},n.isSuspense=function(e){return S(e)===h},n.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===c||e===l||e===h||e===y||"object"===t(e)&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===s||e.$$typeof===u||e.$$typeof===p||e.$$typeof===v||e.$$typeof===w||e.$$typeof===O||e.$$typeof===b)},n.typeOf=S},58740:(e,n,t)=>{"use strict";e.exports=t(1967)},96125:(e,n,t)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){return e&&"object"===r(e)&&"default"in e?e.default:e}var i=t(82684),a=o(i),l=o(t(69457));function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var s=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=function(e,n,t){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof n)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==t&&"function"!=typeof t)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!=typeof r)throw new Error("Expected WrappedComponent to be a React component.");var o,u=[];function f(){o=e(u.map((function(e){return e.props}))),d.canUseDOM?n(o):t&&(o=t(o))}var d=function(e){var n,t;function i(){return e.apply(this,arguments)||this}t=e,(n=i).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t,i.peek=function(){return o},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=o;return o=void 0,u=[],e};var c=i.prototype;return c.shouldComponentUpdate=function(e){return!l(e,this.props)},c.componentWillMount=function(){u.push(this),f()},c.componentDidUpdate=function(){f()},c.componentWillUnmount=function(){var e=u.indexOf(this);u.splice(e,1),f()},c.render=function(){return a.createElement(r,this.props)},i}(i.Component);return c(d,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),c(d,"canUseDOM",s),d}}},14977:(e,n)=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var r,o,i,a,l;if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,s=null,u=function e(){if(null!==c)try{var t=n.unstable_now();c(!0,t),c=null}catch(n){throw setTimeout(e,0),n}},f=Date.now();n.unstable_now=function(){return Date.now()-f},r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(u,0))},o=function(e,n){s=setTimeout(e,n)},i=function(){clearTimeout(s)},a=function(){return!1},l=n.unstable_forceFrameRate=function(){}}else{var d=window.performance,p=window.Date,h=window.setTimeout,y=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===t(d)&&"function"==typeof d.now)n.unstable_now=function(){return d.now()};else{var g=p.now();n.unstable_now=function(){return p.now()-g}}var b=!1,v=null,w=-1,O=5,S=0;a=function(){return n.unstable_now()>=S},l=function(){},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):O=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,A=x.port2;x.port1.onmessage=function(){if(null!==v){var e=n.unstable_now();S=e+O;try{v(!0,e)?A.postMessage(null):(b=!1,v=null)}catch(e){throw A.postMessage(null),e}}else b=!1},r=function(e){v=e,b||(b=!0,A.postMessage(null))},o=function(e,t){w=h((function(){e(n.unstable_now())}),t)},i=function(){y(w),w=-1}}function E(e,n){var t=e.length;e.push(n);e:for(;;){var r=t-1>>>1,o=e[r];if(!(void 0!==o&&0<j(o,n)))break e;e[r]=n,e[t]=o,t=r}}function C(e){return void 0===(e=e[0])?null:e}function B(e){var n=e[0];if(void 0!==n){var t=e.pop();if(t!==n){e[0]=t;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],l=i+1,c=e[l];if(void 0!==a&&0>j(a,t))void 0!==c&&0>j(c,a)?(e[r]=c,e[l]=t,r=l):(e[r]=a,e[i]=t,r=i);else{if(!(void 0!==c&&0>j(c,t)))break e;e[r]=c,e[l]=t,r=l}}}return n}return null}function j(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}var T=[],D=[],k=1,_=null,P=3,I=!1,M=!1,R=!1;function F(e){for(var n=C(D);null!==n;){if(null===n.callback)B(D);else{if(!(n.startTime<=e))break;B(D),n.sortIndex=n.expirationTime,E(T,n)}n=C(D)}}function N(e){if(R=!1,F(e),!M)if(null!==C(T))M=!0,r(L);else{var n=C(D);null!==n&&o(N,n.startTime-e)}}function L(e,t){M=!1,R&&(R=!1,i()),I=!0;var r=P;try{for(F(t),_=C(T);null!==_&&(!(_.expirationTime>t)||e&&!a());){var l=_.callback;if(null!==l){_.callback=null,P=_.priorityLevel;var c=l(_.expirationTime<=t);t=n.unstable_now(),"function"==typeof c?_.callback=c:_===C(T)&&B(T),F(t)}else B(T);_=C(T)}if(null!==_)var s=!0;else{var u=C(D);null!==u&&o(N,u.startTime-t),s=!1}return s}finally{_=null,P=r,I=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=l;n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){M||I||(M=!0,r(L))},n.unstable_getCurrentPriorityLevel=function(){return P},n.unstable_getFirstCallbackNode=function(){return C(T)},n.unstable_next=function(e){switch(P){case 1:case 2:case 3:var n=3;break;default:n=P}var t=P;P=n;try{return e()}finally{P=t}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=z,n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=P;P=e;try{return n()}finally{P=t}},n.unstable_scheduleCallback=function(e,a,l){var c=n.unstable_now();if("object"===t(l)&&null!==l){var s=l.delay;s="number"==typeof s&&0<s?c+s:c,l="number"==typeof l.timeout?l.timeout:U(e)}else l=U(e),s=c;return e={id:k++,callback:a,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>c?(e.sortIndex=s,E(D,e),null===C(T)&&e===C(D)&&(R?i():R=!0,o(N,s-c))):(e.sortIndex=l,E(T,e),M||I||(M=!0,r(L))),e},n.unstable_shouldYield=function(){var e=n.unstable_now();F(e);var t=C(T);return t!==_&&null!==_&&null!==t&&null!==t.callback&&t.startTime<=e&&t.expirationTime<_.expirationTime||a()},n.unstable_wrapCallback=function(e){var n=P;return function(){var t=P;P=n;try{return e.apply(this,arguments)}finally{P=t}}}},26756:(e,n,t)=>{"use strict";e.exports=t(14977)},69457:e=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e.exports=function(e,t,r,o){var i=r?r.call(o,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==n(e)||!e||"object"!==n(t)||!t)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var u=a[s];if(!c(u))return!1;var f=e[u],d=t[u];if(!1===(i=r?r.call(o,f,d,u):void 0)||void 0===i&&f!==d)return!1}return!0}},80757:e=>{"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},11887:(e,n,t)=>{var r,o,i;function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}i=function(){"use strict";return function(e){var n="/*|*/",t=n+"}";function r(n){if(n)try{e(n+"}")}catch(e){}}return function(o,i,a,l,c,s,u,f,d,p){switch(o){case 1:if(0===d&&64===i.charCodeAt(0))return e(i+";"),"";break;case 2:if(0===f)return i+n;break;case 3:switch(f){case 102:case 112:return e(a[0]+i),"";default:return i+(0===p?n:"")}case-2:i.split(t).forEach(r)}}}},"object"===a(n)?e.exports=i():void 0===(o="function"==typeof(r=i())?r.call(n,t,n,e):r)||(e.exports=o)},71156:(e,n,t)=>{"use strict";t.d(n,{Z:()=>c});var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);function i(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}for(var a=[],l=0;l<256;++l)a[l]=(l+256).toString(16).substr(1);const c=function(e,n,t){var r=n&&t||0;"string"==typeof e&&(n="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n)for(var l=0;l<16;++l)n[r+l]=o[l];return n||function(e,n){var t=n||0,r=a;return[r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]]].join("")}(o)}},13197:e=>{"use strict";e.exports=function(){}},63463:(e,n,t)=>{"use strict";t.d(n,{D:()=>u,j:()=>s});var r=t(9045),o=t(12225),i=t(88982),a=(t(91204),t(27878)),l=t(69369),c=t(15742),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return function(n,t){var o=t(),s=o.controls,u=o.tree,f=o.treeToo,d=o.metadata,p=o.frequencies;if(null===u.nodes||!d.loaded)return null;var h=e||s.colorBy,y=(0,i.pu)(h,s,u,f,d),m=(0,r.lX)(u,y),g=f.loaded?(0,r.lX)(f,y):void 0;return n((0,a.J8)(h)),n({type:c.KA,colorBy:h,colorScale:y,nodeColors:m,nodeColorsToo:g,version:y.version}),p.loaded&&(0,l._)(n,t),null}},u=function(){return function(e,n){var t=n(),r=t.controls;if(!t.metadata.rootSequence)return console.error("Missing root sequence"),null;var i=r.colorBy;return(0,o.O$)(i)&&e(s(i)),null}}},27878:(e,n,t)=>{"use strict";t.d(n,{Bm:()=>g,J8:()=>y,QW:()=>h,wC:()=>m});var r=t(40590),o=t.n(r),i=t(83645),a=t.n(i),l=t(8515),c=t(70570),s=t(15742),u=t(12225);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return p(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var h=a()((function(e,n){var t=n(),r=t.entropy,o=t.controls,i=t.tree;if(i.nodes&&i.visibility&&r.genomeMap&&"Play"===o.animationPlayPauseButton){if(!o.panelsToDisplay.includes("entropy")||!1===r.onScreen){if(void 0===r.bars)return;return e({type:s.Rn,data:void 0,maxYVal:1})}var a=d((0,l.UB)(i.nodes,i.visibility,r.selectedCds,r.showCounts),2),c=a[0],u=a[1];e({type:s.Rn,data:c,maxYVal:u})}}),500,{leading:!0,trailing:!0}),y=function(e){return function(n,t){var r={type:s.fE},i=t().entropy;if(i.loaded){if(e===c.BJ){if(i.selectedCds===c.BJ)return;r.selectedCds=e,r.selectedPositions=[]}else if("string"==typeof e)if((0,u.O$)(e)){var a=(0,u.kW)(e);if(!a)return void console.error("Error decoding genotype colorBy for entropy recalc.");var p=(0,u.fO)(a.gene,i.genomeMap);r.selectedCds=p,r.selectedPositions=a.positions}else r.selectedCds=i.selectedCds,r.selectedPositions=[];else{if("object"!==f(e)||!e.name||!e.segments)return void console.error("Incorrect argument passed to changeEntropyCdsSelection:",e);r.selectedCds=e,r.selectedPositions=[]}if(i.selectedCds!==r.selectedCds){var h=t(),y=d((0,l.UB)(h.tree.nodes,h.tree.visibility,r.selectedCds,i.showCounts),2),m=y[0],g=y[1];r.bars=m,r.maxYVal=g}else if(o()(r.selectedPositions,i.selectedPositions))return;n(r)}}},m=function(e){return function(n,t){n({type:s.pM,showCounts:e}),h(n,t)}},g=function(e){return function(n){n({type:s.l8,zoomc:e})}}},69369:(e,n,t)=>{"use strict";t.d(n,{O:()=>l,_:()=>c});var r=t(83645),o=t.n(r),i=t(15742),a=(t(91204),t(59995)),l=function(e){return function(n,t){var r=t(),o=r.tree,l=r.controls,c=(0,a.Xp)(e,o,l),s=c.data,u=c.pivots,f=c.matrix,d=c.projection_pivot,p=c.normalizeFrequencies;n({type:i.HS,frequencies:{loaded:!0,version:1,data:s,pivots:u,matrix:f,projection_pivot:d},normalizeFrequencies:p})}},c=o()((function(e,n){var t=n(),r=t.frequencies,o=t.tree,l=t.controls;if(l.colorScale)if(r.data){var c=l.normalizeFrequencies&&(0,a.bv)(r.data,r.pivots,o.nodes,o.visibility),s=(0,a.N0)(r.data,r.pivots,o.nodes,o.visibility,l.colorScale,l.colorBy,c);e({type:i.yZ,matrix:s,normalizeFrequencies:c})}else console.error("Race condition in updateFrequencyData. Frequencies data not in state. Matrix can't be calculated.");else console.error("Race condition in updateFrequencyData. ColourScale not Set. Frequency Matrix can't be calculated.")}),500,{leading:!1,trailing:!0})},56410:(e,n,t)=>{"use strict";t.d(n,{Jd:()=>P,hA:()=>x,qz:()=>I,w2:()=>A,y4:()=>E});var r=t(69587),o=t(15742),i=t(70570),a=t(2011),l=t(73606),c=t(69369),s=t(69568),u=t(11234),f=t(33835),d=t(1974),p=t(22224),h=t(63463),y=t(397);function m(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return g(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach((function(n){w(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function w(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function O(e,n,t,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void t(e)}l.done?n(c):Promise.resolve(c).then(r,o)}function S(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){O(i,r,o,a,l,"next",e)}function l(e){O(i,r,o,a,l,"throw",e)}a(void 0)}))}}function x(e){var n;if(e.includes(":")){var t=e.replace(/^\//,"").replace(/\/$/,"").split(":");e=t[0],n=t[1]}return e.startsWith("/")&&(e=e.slice(1)),n&&n.startsWith("/")&&(n=n.slice(1)),[e,n]}var A=function(e,n){return function(){var t=S(regeneratorRuntime.mark((function t(r,i){var a,c,s,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new I(e),t.prev=1,a.fetchMain(),t.next=5,a.main;case 5:c=t.sent,t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(1),console.error("Failed to fetch additional tree",t.t0.message),r((0,u.p5)({message:"Failed to fetch second tree"})),t.abrupt("return");case 13:(s=i()).controls.explodeAttr&&r((0,y.lz)(void 0)),f=(0,l.ok)({json:c,oldState:s,originalTreeUrl:n,secondTreeUrl:e,dispatch:r}),r(v({type:o.er},f));case 17:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.url,t=void 0===n?window.location.pathname:n,i=e.search,a=void 0===i?window.location.search:i;return function(){var e=S(regeneratorRuntime.mark((function e(n,i){var l,c,s,f,d,p,h,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i().tree.loaded&&n({type:o.c5}),l=r.parse(a),!t.includes("/narratives/")){e.next=7;break}T(n,t,l),e.next=41;break;case 7:return C(n,l),c=x(t),s=m(c,2),f=s[0],d=s[1],p=new I(f),h=d?new I(d):void 0,e.prev=11,p.fetchMain(),h&&h.fetchMain(),e.next=16,B(n,p,h,l);case 16:e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(11),y="Couldn't load JSONs for ".concat(p.name," ").concat(h?"and/or ".concat(h.name):""),k(e.t0,n,y),e.abrupt("return");case 23:return e.next=25,p.fetchSidecars();case 25:return p.loadSidecars(n),e.prev=26,p.fetchAvailable(),e.t1=n,e.t2=o.TZ,e.next=32,p.available;case 32:e.t3=e.sent,e.t4={type:e.t2,data:e.t3},(0,e.t1)(e.t4),e.next=41;break;case 37:e.prev=37,e.t5=e.catch(26),console.error("Failed to fetch available datasets",e.t5.message),n((0,u.p5)({message:"Failed to fetch available datasets"}));case 41:case"end":return e.stop()}}),e,null,[[11,18],[26,37]])})));return function(n,t){return e.apply(this,arguments)}}()};function C(e,n){n.tt&&e((0,u.A)({message:"Specifing a second tree via '?tt=".concat(n.tt,"' is no longer supported."),details:"The new syntax requires the complete name for both trees. For example, instead of 'flu/seasonal/h3n2/ha/2y?tt=na' you must specify 'flu/seasonal/h3n2/ha/2y:flu/seasonal/h3n2/na/2y' "}))}function B(e,n,t,r,o){return j.apply(this,arguments)}function j(){return(j=S(regeneratorRuntime.mark((function e(n,t,r,i,a){var c,s,u,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.main;case 2:if(c=e.sent,!t.measurements){e.next=9;break}return e.next=6,t.measurements;case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=void 0;case 10:if(s=e.t0,!r){e.next=17;break}return e.next=14,r.main;case 14:e.t1=e.sent,e.next=18;break;case 17:e.t1=void 0;case 18:u=e.t1,f=r?"".concat(t.pathname,":").concat(r.pathname):t.pathname,n(v({type:o.RX,pathnameShouldBe:a?void 0:f},(0,l.f0)({json:c,measurementsData:s,secondTreeDataset:u,query:i,narrativeBlocks:a,mainTreeName:t.pathname,secondTreeName:r?r.pathname:null,dispatch:n})));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,n,t){return D.apply(this,arguments)}function D(){return(D=S(regeneratorRuntime.mark((function e(n,t,r){var i,l,c,s,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(t);case 3:i=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error("Error obtaining narratives",e.t0.message),e.abrupt("return",n((0,a.PM)("Couldn't load narrative for ".concat(t))));case 10:return l=P(i,r),c=l.datasets,s=l.initialNames,f=l.frontmatterNames,d=!0,e.prev=12,c[s[0]].fetchMain(),s[1]&&c[s[1]].fetchMain(),e.next=17,B(n,c[s[0]],c[s[1]],r,i);case 17:e.next=33;break;case 19:return e.prev=19,e.t1=e.catch(12),d=!1,e.prev=22,c[f[0]].fetchMain(),f[1]&&c[f[1]].fetchMain(),e.next=27,B(n,c[f[0]],c[f[1]],r,i);case 27:n((p=e.t1,(0,u.A)({message:"Error fetching one of the datasets. Using the YAML-defined dataset instead.",details:"Could not fetch dataset(s)specified for this slide.\n      Make sure these exist and are spelled correctly.\n      Error details:\n        status: ".concat(p.status,";\n        message: ").concat(p.message)}))),e.next=33;break;case 30:return e.prev=30,e.t2=e.catch(22),e.abrupt("return",k(e.t2,n,"Couldn't load the datasets defined in the narrative."));case 33:if(!d){e.next=39;break}return e.next=36,c[s[0]].fetchSidecars();case 36:c[s[0]].loadSidecars(n),e.next=42;break;case 39:return e.next=41,c[f[0]].fetchSidecars();case 41:c[f[0]].loadSidecars(n);case 42:return Object.values(c).forEach((function(e){e.fetchMain(),e.fetchSidecars()})),e.abrupt("return",n({type:o.tz,jsons:c}));case 44:case"end":return e.stop()}var p}),e,null,[[0,6],[12,19],[22,30]])})))).apply(this,arguments)}function k(e,n,t){e instanceof d.fD?n({type:o.cD,displayComponent:"splash",pushState:!0}):(console.error(e,e.message),n((0,a.PM)(t)))}function _(e){var n="".concat((0,i.qh)(),"/getNarrative?prefix=").concat(e,"&type=md");return(0,s.b)(n).then((function(e){return e.text()})).then((function(e){return(0,f.parseMarkdownNarrativeFile)(e,p.e)})).catch((function(e){if(!e.fileContents)throw e;return console.error("Narrative file doesn't appear to be markdown! Attempting to parse as JSON."),JSON.parse(e.fileContents)})).then((function(e){var n,t,r;return t=(n=e)[n.length-1],r=Object.assign({},t,{__html:void 0,isEndOfNarrativeSlide:!0}),n.push(r),e}))}function P(e,n){var t={},r=[],o=[],i=(0,l.wp)(n,e);return e.forEach((function(e,n){var a=m(x(e.dataset),2),l=a[0],c=a[1];t[l]||(t[l]=new I(l)),c&&!t[c]&&(t[c]=new I(c)),0===n&&(o=[l,c]),n===i&&(r=[l,c])})),{datasets:t,initialNames:r,frontmatterNames:o}}function I(e){this.name=e,this.pathname=void 0,this.apiCalls={},this.apiCalls.main="".concat((0,i.qh)(),"/getDataset?prefix=").concat(e),this.apiCalls.tipFrequencies="".concat(this.apiCalls.main,"&type=tip-frequencies"),this.apiCalls.rootSequence="".concat(this.apiCalls.main,"&type=root-sequence"),this.apiCalls.measurements="".concat(this.apiCalls.main,"&type=measurements"),this.apiCalls.getAvailable="".concat((0,i.qh)(),"/getAvailable?prefix=").concat(e)}I.prototype.fetchMain=function(){var e=this;this.main||(this.main=(0,s.b)(this.apiCalls.main).then((function(n){return e.pathname=r.parse(n.url.split("?")[1]).prefix,e.pathname!==e.name&&console.log('Pathname for "'.concat(e.name,'" changing to "').concat(e.pathname,'".')),n})).then((function(e){return e.json()})).then((function(n){return n.meta.panels&&n.meta.panels.includes("measurements")&&!e.measurements&&(e.measurements=(0,s.Z)(e.apiCalls.measurements).catch((function(e){return Promise.resolve(e)}))),n})))},I.prototype.fetchSidecars=function(){var e=S(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.main;case 2:if(n=e.sent){e.next=5;break}throw new Error("Cannot fetch sidecar files since the main JSON didn't succeed.");case 5:n.meta.panels&&n.meta.panels.includes("frequencies")&&!this.tipFrequencies&&(this.tipFrequencies=(0,s.Z)(this.apiCalls.tipFrequencies).catch((function(e){return Promise.resolve(e)}))),n.root_sequence||this.rootSequence||(this.rootSequence=(0,s.Z)(this.apiCalls.rootSequence).catch((function(e){return Promise.resolve(e)})));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),I.prototype.loadSidecars=function(e){this.tipFrequencies&&this.tipFrequencies.then((function(e){if(e instanceof Error)throw e;return e})).then((function(n){return e((0,c.O)(n))})).catch((function(n){console.error(n);var t="Failed to ".concat(n instanceof d.kp?"fetch":"parse"," tip frequencies");e((0,u.p5)({message:t}))})),this.rootSequence&&this.rootSequence.then((function(e){if(e instanceof Error)throw e;return e})).then((function(n){e({type:o.s4,data:n}),e((0,h.D)())})).catch((function(n){n instanceof d.kp||(console.error(n),e((0,u.p5)({message:"Failed to parse root sequence JSON"})))}))},I.prototype.fetchAvailable=function(){var e=S(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.available=(0,s.Z)(this.apiCalls.getAvailable);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},6461:(e,n,t)=>{"use strict";t.d(n,{Bo:()=>V,C$:()=>Q,EW:()=>U,GT:()=>L,HX:()=>M,Iy:()=>k,KC:()=>H,MP:()=>q,NG:()=>ne,RD:()=>z,WJ:()=>D,YG:()=>W,cS:()=>Z,hi:()=>$,jR:()=>G,kq:()=>N,o6:()=>T,tw:()=>R});var r=t(6469),o=t.n(r),i=t(4667),a=t(238),l=t(70570),c=t(47843),s=t(14273),u=t(11234),f=t(15742),d=t(59305),p=t(63463),h=t(397);function y(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=b(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw i}}}}function m(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||b(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,n){if(e){if("string"==typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(e,n):void 0}}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){S(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function S(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var x="mf_",A=["show","hide"],E=function(e){return A.includes(e)},C="_hasMeasurementColor",B="true",j="m-";function T(e){return e.startsWith(j)}function D(e){return"".concat(j).concat(e)}function k(e){var n=new RegExp("^".concat(j));return e.replace(n,"")}var _=function(e,n,t){var r=e.filter((function(e){return e.key===t}))[0];if(!n)return r;var o=e.filter((function(e){return e.key===n}));return 0===o.length?r:(o.length>1&&console.error("Found multiple collections with key ".concat(n,". Returning the first matching collection only.")),o[0])};function P(e,n){var t=n.display_defaults||{},r={measurementsGroupBy:"group_by",measurementsDisplay:"measurements_display",measurementsShowOverallMean:"show_overall_mean",measurementsShowThreshold:"show_threshold"}[e],o=t[r];switch(e){case"measurementsGroupBy":void 0!==o&&n.groupings.has(o)||(void 0!==o&&console.error("Ignoring invalid ".concat(r," value ").concat(o,", must be one of collection's groupings. Using first grouping as default")),o=n.groupings.keys().next().value);break;case"measurementsDisplay":void 0===o||(0,d.js)(o)||(console.error("Ignoring invalid ".concat(r," value ").concat(o,", must be one of ").concat(d.R4)),o=void 0);break;case"measurementsShowOverallMean":void 0!==o&&"boolean"!=typeof o&&(console.error("Ignoring invalid ".concat(r," value ").concat(o,", must be a boolean")),o=void 0);break;case"measurementsShowThreshold":void 0!==o&&(Array.isArray(n.thresholds)&&n.thresholds.some((function(e){return"number"==typeof e}))?"boolean"!=typeof o&&(console.error("Ignoring invalid ".concat(r," value ").concat(o,", must be a boolean")),o=void 0):(console.error("Ignoring ".concat(r," value because collection does not have valid thresholds")),o=void 0));break;case"measurementsColorGrouping":case"measurementsFilters":console.debug("Skipping control key ".concat(e," because it does not have default controls"));break;default:console.error("Skipping unknown control key ".concat(e))}return o}function I(e){var n=O({},c.TK);if(Object.keys(e).length)for(var t=0,r=Object.entries(n);t<r.length;t++){var o=g(r[t],2),i=o[0],a=o[1],l=P(i,e);n[i]=void 0!==l?l:a}return n}var M=function(e,n){var t=(0,s.h)();if(!e)return t;var r="";if(e instanceof Error)console.error(e),r="Failed to fetch measurements collections";else try{t=O(O({},t),function(e){var n=e.collections;if(!n||0===n.length)throw new Error("Measurements JSON does not have collections");var t=["key","x_axis_label","display_defaults","thresholds","title"],r=n.map((function(e){for(var n={},r=0,i=t;r<i.length;r++){var a=i[r];a in e&&(n[a]=o()(e[a]))}"number"==typeof e.threshold&&(n.thresholds=n.thresholds||[e.threshold]),n.fields=new Map((e.fields||[]).map((function(e){var n=e.key;return[n,{title:e.title||n}]})));var c=e.filters;n.filters=new Map((e.filters||[]).map((function(e){return[e,{values:new Set}]})));var s=e.groupings.reduce((function(e,n){return e[n.key]=new Map,e}),{});return n.measurements=e.measurements.map((function(e,t){var r=S({},l.$s,t);return Object.entries(e).forEach((function(e){var t=g(e,2),o=t[0],i=t[1];if("value"===o)r[o]=Number(i);else{var a=i.toString();if(r[o]=a,n.fields.has(o)||n.fields.set(o,{title:o}),n.filters.has(o)||!c){var l=n.filters.get(o)||{values:new Set};l.values.add(a),n.filters.set(o,l)}if(o in s){var u=s[o].get(a);s[o].set(a,u?u+1:1)}}})),(0,d.Jw)(r)})),n.groupings=new Map(e.groupings.map((function(e){var n=e.key,t=e.order,r=t?t.map((function(e){return e.toString()})):[],o=m(s[n].entries()).sort((function(e,n){var t=g(e,2)[1];return g(n,2)[1]-t})).filter((function(e){var n=g(e,1)[0];return!r.includes(n)})).map((function(e){return g(e,1)[0]}));return[n,{values:r.concat(o)}]}))),(0,d.RX)(n)})),i=r.map((function(e){return e.key})),a=e.default_collection;i.includes(a)||(a=i[0]);var c=r.filter((function(e){return e.key===a}))[0];return{loaded:!0,error:void 0,defaultCollectionKey:a,collections:r,collectionToDisplay:c}}(e))}catch(e){console.error(e),r="Failed to parse measurements collections"}return r&&(t.error=r,n((0,u.p5)({message:r}))),t},R=function(e){return function(n,t){var r=t(),a=r.controls,l=r.measurements,s=_(l.collections,e,l.defaultCollectionKey),u=function(e,n){var t=o()(c.TK);Object.entries(e).forEach((function(e){var n=g(e,2),r=n[0],i=n[1];r in t&&(t[r]=o()(i))})),n.groupings.has(t.measurementsGroupBy)||(t.measurementsGroupBy=void 0),t.measurementsFilters=Object.fromEntries(Object.entries(t.measurementsFilters).map((function(e){var t=g(e,2),r=t[0],o=t[1],i=new Map(m(o).filter((function(e){var t,o=g(e,1)[0];return null===(t=n.filters.get(r))||void 0===t?void 0:t.values.has(o)})));return[r,i]})).filter((function(e){var t=g(e,2),r=t[0],o=t[1];return n.filters.has(r)&&o.size})));for(var r=I(n),i=0,a=Object.entries(t);i<a.length;i++){var l=g(a[i],2),s=l[0];void 0===l[1]&&(t[s]=r[s])}var u=n.groupings.get(t.measurementsGroupBy).values||[];return void 0===t.measurementsColorGrouping||u.includes(t.measurementsColorGrouping)||(t.measurementsColorGrouping=void 0),t}(a,s),d=ee(u,s,l.defaultCollectionKey);(0,i.dC)((function(){n({type:f.z,collectionToDisplay:s,controls:u,queryParams:d}),K(u.measurementsColorGrouping,a.measurementsColorGrouping,a.colorBy,a.defaults.colorBy,n)}))}};function F(e,n,t,r){var o={measurementsFilters:e};(0,i.dC)((function(){r({type:f.FI,controls:o,queryParams:ee(o,t.collectionToDisplay,t.defaultCollectionKey)}),K(n.measurementsColorGrouping,n.measurementsColorGrouping,n.colorBy,n.defaults.colorBy,r)}))}var N=function(e,n,t){return function(r,o){var i=o(),a=i.controls,l=i.measurements,c=O({},a.measurementsFilters);c[e]=new Map(c[e]),c[e].set(n,{active:t}),F(c,a,l,r)}},L=function(e,n){return function(t,r){var o=r(),i=o.controls,a=o.measurements,l=O({},i.measurementsFilters);l[e]=new Map(l[e]),l[e].delete(n),0===l[e].size&&delete l[e],F(l,i,a,t)}},U=function(e){return function(n,t){var r=t(),o=r.controls,i=r.measurements,a=O({},o.measurementsFilters);delete a[e],F(a,o,i,n)}},z=function(e,n){return function(t,r){var o=r(),i=o.controls,a=o.measurements,l=O({},i.measurementsFilters);l[e]=new Map(l[e]);var c,s=y(l[e].keys());try{for(s.s();!(c=s.n()).done;){var u=c.value;l[e].set(u,{active:n})}}catch(e){s.e(e)}finally{s.f()}F(l,i,a,t)}},G=function(){return function(e,n){var t=n(),r=t.controls,o=t.measurements,i="measurementsShowOverallMean",a=S({},i,!r[i]);e({type:f.Q5,controls:a,queryParams:ee(a,o.collectionToDisplay,o.defaultCollectionKey)})}},V=function(){return function(e,n){var t=n(),r=t.controls,o=t.measurements,i="measurementsShowThreshold",a=S({},i,!r[i]);e({type:f.r7,controls:a,queryParams:ee(a,o.collectionToDisplay,o.defaultCollectionKey)})}},q=function(e){return function(n,t){var r=t().measurements,o=S({},"measurementsDisplay",e);n({type:f.cn,controls:o,queryParams:ee(o,r.collectionToDisplay,r.defaultCollectionKey)})}},$=function(e){return function(n,t){var r=t(),o=r.controls,a=r.measurements,l={measurementsColorGrouping:(a.collectionToDisplay.groupings.get(e).values||[]).includes(o.measurementsColorGrouping)?o.measurementsColorGrouping:void 0,measurementsGroupBy:e};(0,i.dC)((function(){n({type:f.jr,controls:l,queryParams:ee(l,a.collectionToDisplay,a.defaultCollectionKey)}),K(l.measurementsColorGrouping,o.measurementsColorGrouping,o.colorBy,o.defaults.colorBy,n)}))}};function W(e){var n={};return Object.entries(e).forEach((function(e){var t=g(e,2),r=t[0],o=t[1];n[r]=n[r]||[],o.forEach((function(e,t){e.active&&n[r].push(t)}))})),n}function H(e,n){for(var t=0,r=Object.entries(n);t<r.length;t++){var o=g(r[t],2),i=o[0],a=o[1],l=e[i];if(a.length>0&&"string"==typeof l&&!a.includes(l))return!1}return!0}function Y(e,n,t,r){for(var o,i=D(t),c=W(e),s=r.measurements.filter((function(e){return e[n]===t&&H(e,c)})).reduce((function(e,n){return(e[n.strain]=e[n.strain]||[]).push(n.value),e}),{}),u={},f=0,d=Object.entries(s);f<d.length;f++){var p,h=g(d[f],2),y=h[0],m=h[1],b=m.reduce((function(e,n){return e+n}))/m.length;u[y]=(S(p={},i,{value:b}),S(p,C,{value:B}),p)}var v=r.measurements.map((function(e){return e.value})).sort((function(e,n){return e-n})),w=l.O9[9],O=1/(w.length-1),x=w.map((function(e,n){return[(0,a.Z)(v,O*n),e]}));return{nodeAttrs:u,colorings:(o={},S(o,i,{title:"Measurements (".concat(t,")"),type:"continuous",scale:x}),S(o,C,{title:"Has measurements for ".concat(t),type:"boolean"}),o)}}var X=function(e){return function(n,t){var r=t(),o=r.controls,i=r.measurements,a=Y(o.measurementsFilters,o.measurementsGroupBy,e,i.collectionToDisplay),l=a.nodeAttrs,c=a.colorings;n({type:f.JS,newNodeAttrs:l,newColorings:c})}};function K(e,n,t,r,o){void 0!==n&&(e!==n&&t===D(n)&&(o((0,u.a1)({message:"Measurement coloring is no longer valid",details:"Falling back to the default color-by"})),o((0,p.j)(r)),o((0,h.Rb)("remove",C,[B]))),o({type:f.ah,nodeAttrsToRemove:[C,D(n)]})),void 0!==e&&(o(X(e)),o((0,h.ss)()))}var Z=function(e){return function(n,t){var r=t().controls;(0,i.dC)((function(){void 0!==r.measurementsColorGrouping&&n({type:f.ah,nodeAttrsToRemove:[C,D(r.measurementsColorGrouping)]}),r.measurementsColorGrouping!==e&&n({type:f.r5,controls:{measurementsColorGrouping:e}}),n(X(e)),n((0,p.j)(D(e))),n((0,h.Rb)("add",C,[B]))}))}},J={measurementsDisplay:"m_display",measurementsGroupBy:"m_groupBy",measurementsShowOverallMean:"m_overallMean",measurementsShowThreshold:"m_threshold"};function Q(e,n){var t=o()(e);return Object.keys(e).filter((function(e){return e.startsWith(x)&&!(e in n)})).forEach((function(e){return delete t[e]})),t}function ee(e,n,t){for(var r={m_collection:n.key===t?"":n.key},o=0,i=Object.entries(e);o<i.length;o++){var a=g(i[o],2),l=a[0],s=a[1],u=J[l],f=P(l,n);if(s===(void 0!==f?f:c.TK[l]))r[u]="";else switch(l){case"measurementsDisplay":case"measurementsGroupBy":r[u]=s;break;case"measurementsShowOverallMean":r[u]=s?"show":"hide";break;case"measurementsShowThreshold":n.thresholds?r[u]=s?"show":"hide":r[u]="";break;case"measurementsFilters":var d,p=y(n.filters.keys());try{for(p.s();!(d=p.n()).done;){var h=d.value;r[u=x+h]=""}}catch(e){p.e(e)}finally{p.f()}for(var b=0,v=Object.entries(s);b<v.length;b++){var w=g(v[b],2),O=w[0],S=w[1];u=x+O;var A=m(S).filter((function(e){var n=g(e,2);return n[0],n[1].active})).map((function(e){return g(e,1)[0]}));r[u]=A}break;default:console.error("Ignoring unsupported control ".concat(l))}}return r}var ne=function(e,n){var t=o()(n);e.collections.map((function(e){return e.key})).includes(t.m_collection)&&t.m_collection!==e.defaultCollectionKey||delete t.m_collection;for(var r=t.m_collection||e.defaultCollectionKey,i=_(e.collections,r,e.defaultCollectionKey),a=I(i),l=Array.from(i.groupings.keys()),c=0,s=Object.entries(J);c<s.length;c++){var u=g(s[c],2),f=u[0],p=u[1],h=t[p];if(void 0!==h){var m=void 0;switch(p){case"m_display":(0,d.js)(h)&&(m=h);break;case"m_groupBy":"string"==typeof h&&l.includes(h)&&(m=h);break;case"m_overallMean":E(h)&&(m="show"===h);break;case"m_threshold":i.thresholds&&E(h)&&(m="show"===h);break;default:console.error("Ignoring unsupported query ".concat(p))}void 0!==m&&m!==a[f]?a[f]=m:delete t[p]}}var b,v=y(Object.keys(t).filter((function(e){return e.startsWith(x)})));try{var w=function(){var e=b.value,n=e.replace(x,"");if(!i.filters.has(n))return delete t[e],"continue";var r=t[e];"string"==typeof r&&(r=Array(r));var o=i.filters.get(n).values,l=r.filter((function(e){return o.has(e)}));if(!l.length)return delete t[e],"continue";t[e]=l;var c=O({},a.measurementsFilters);c[n]=new Map(c[n]);var s,u=y(l);try{for(u.s();!(s=u.n()).done;){var f=s.value;c[n].set(f,{active:!0})}}catch(e){u.e(e)}finally{u.f()}a.measurementsFilters=c};for(v.s();!(b=v.n()).done;)w()}catch(e){v.e(e)}finally{v.f()}var S=void 0;if("string"==typeof t.c&&T(t.c)){var A=k(t.c);(i.groupings.get(a.measurementsGroupBy).values||[]).includes(A)?(a.measurementsColorGrouping=A,S=O({coloringsPresentOnTree:[t.c]},Y(a.measurementsFilters,a.measurementsGroupBy,A,i))):t.c=void 0}return{collectionToDisplay:i,collectionControls:a,updatedQuery:t,newColoringData:S}}},2011:(e,n,t)=>{"use strict";t.d(n,{NL:()=>p,PM:()=>m,oO:()=>y});var r=t(69587),o=t(73606),i=t(15742),a=t(56410),l=t(11234);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){u(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function d(e,n,t,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void t(e)}l.done?n(c):Promise.resolve(c).then(r,o)}var p=function(e){var n=e.toLowerCase().replace(/^\/+/,"").replace(/\/+$/,"").split("/");return function(e){return 2===e.length&&"edit"===e[0]&&"narratives"===e[1]}(n)?"debugNarrative":!n.length||1===n.length&&""===n[0]||1===n.length&&"staging"===n[0]||1===n.length&&"community"===n[0]||1===n.length&&"narratives"===n[0]||2===n.length&&"groups"===n[0]?"splash":"status"===n[0]?"status":"datasetLoader"},h=function(){var e,n=(e=regeneratorRuntime.mark((function e(n,t,r,c,u){var d,p,h,y,m,g,b,v,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d=(0,a.hA)(c),S=2,p=function(e){if(Array.isArray(e))return e}(O=d)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(O,S)||function(e,n){if(e){if("string"==typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}(O,S)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=p[0],y=p[1],m=t[h],g=t[y],e.next=6,m.main;case 6:if(b=e.sent,!m.measurements){e.next=13;break}return e.next=10,m.measurements;case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0=void 0;case 14:if(v=e.t0,!g){e.next=21;break}return e.next=18,g.main;case 18:e.t1=e.sent,e.next=22;break;case 21:e.t1=!1;case 22:w=e.t1,n(s(s({type:i.Ue},(0,o.f0)({json:b,measurementsData:v,secondTreeDataset:w,mainTreeName:h,secondTreeName:y,narrativeBlocks:r,query:u,dispatch:n})),{},{pushState:!0,query:u})),m.loadSidecars(n),e.next=31;break;case 27:e.prev=27,e.t2=e.catch(0),n((0,l.A)({message:"Error loading the datasets for this narrative slide",details:"Please contact the author of this narrative!"})),console.error(e.t2);case 31:case"end":return e.stop()}var O,S}),e,null,[[0,27]])})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){d(i,r,o,a,l,"next",e)}function l(e){d(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e,t,r,o,i){return n.apply(this,arguments)}}(),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.path,t=void 0===n?void 0:n,a=e.query,l=void 0===a?void 0:a,c=e.push,u=void 0===c||c,f=e.changeDatasetOnly,d=void 0!==f&&f;return function(e,n){var a=n();if(t||(t=window.location.pathname),l||(l=r.parse(window.location.search)),a.general.pathname!==t)d?h(e,a.jsonCache.jsons,a.narrative.blocks,t,l):e({type:i.cD,path:t,displayComponent:p(t),pushState:u,query:l});else{var c=(0,o.f0)({oldState:a,query:l,narrativeBlocks:a.narrative.blocks,dispatch:e});e(s(s({type:i.Ue},c),{},{pushState:u,query:l}))}}},m=function(e){return{type:i.cD,displayComponent:"splash",errorMessage:e,pushState:!0}}},11234:(e,n,t)=>{"use strict";t.d(n,{A:()=>l,GO:()=>c,a1:()=>a,p5:()=>s});var r=t(15742),o=t(70570),i=function(e){return function(n,t){var i=t().notifications.counter+1;n(Object.assign({},e,{type:r.Dv,id:i})),"error"!==e.notificationType&&window.setTimeout((function(){return n({type:r.Kf,id:i})}),o.Ck)}},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.message,t=void 0===n?"Info":n,r=e.details;return i({notificationType:"info",message:t,details:void 0===r?"":r})},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.message,t=void 0===n?"Error":n,r=e.details;return i({notificationType:"error",message:t,details:void 0===r?"":r})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.message,t=void 0===n?"Success!":n,r=e.details;return i({notificationType:"success",message:t,details:void 0===r?"":r})},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.message,t=void 0===n?"Warning":n,r=e.details;return i({notificationType:"warning",message:t,details:void 0===r?"":r})}},59180:(e,n,t)=>{"use strict";t.d(n,{_$:()=>f,_w:()=>s,px:()=>u});var r=t(72267),o=t.n(r),i=t(15742),a=t(8515);function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var c=["tree","measurements","map"],s=function(e){return o()(e,c).length},u=function(e){return s(e)>1},f=function(e){return function(n,t){var r,o=t(),c=o.controls,s=o.entropy,f=o.tree,d=c.panelsToDisplay.indexOf(e),p=-1===d;p?r=c.panelsAvailable.filter((function(n){return-1!==c.panelsToDisplay.indexOf(n)||n===e})):(r=c.panelsToDisplay.slice()).splice(d,1);var h,y,m,g,b=u(r),v=b?c.panelLayout:"full";if(p&&"entropy"===e&&!s.bars){var w=(m=(0,a.UB)(f.nodes,f.visibility,s.selectedCds,s.showCounts),g=2,function(e){if(Array.isArray(e))return e}(m)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(m,g)||function(e,n){if(e){if("string"==typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}(m,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());h=w[0],y=w[1]}n({type:i.bg,panelsToDisplay:r,panelLayout:v,canTogglePanelLayout:b,entropyData:h,entropyMaxYVal:y})}}},73606:(e,n,t)=>{"use strict";t.d(n,{f0:()=>Se,ok:()=>xe,ID:()=>he,wp:()=>Oe});var r=t(6803),o=t.n(r),i=t(6469),a=t.n(i),l=t(69587),c=t(58640),s=t(70570),u=t(682),f=t(57513),d=t(93604),p=t(47843),h=t(74671),y=t(96139),m=t(8515),g=t(65414),b=t(37275);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){O(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function O(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function S(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function A(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||E(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,n){if(e){if("string"==typeof e)return C(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?C(e,n):void 0}}function C(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var B=function(){return(1e32*Math.random()).toString(36).slice(0,6)},j=function(e){var n=[],t=[];for(n.push(e);0!==n.length;){var r=n.pop();if(t.push(r),r.children)for(var o=r.children.length-1;o>=0;o-=1)n.push(r.children[o])}return t},T=function(e){e.parent=e;var n=[];for(n.push(e);0!==n.length;){var t=n.pop();if(t.children)for(var r=t.children.length-1;r>=0;r-=1)t.children[r].parent=t,n.push(t.children[r])}},D=function(e){var n,t=[],r=[],o=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=E(e))){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw i}}}}(Array.isArray(e)?e:[e]);try{for(o.s();!(n=o.n()).done;){var i=n.value;T(i),r.push(t.length),t.push.apply(t,S(j(i)))}}catch(e){o.e(e)}finally{o.f()}t.unshift(function(e,n){var t={name:"__ROOT",node_attrs:{hidden:"always"},children:n.map((function(n){return e[n]}))};t.parent=t;var r=t.children.map((function(e){return(0,b.KT)(e)})).filter((function(e){return void 0!==e}));r.length&&(t.node_attrs.div=Math.min.apply(Math,S(r)));var o=t.children.map((function(e){return(0,b.rs)(e,"num_date")})).filter((function(e){return void 0!==e}));return o.length&&(t.node_attrs.num_date={value:Math.min.apply(Math,S(o))}),t}(t,r));var a=function(e){var n=new Set,t=new Set;return(0,y.BA)(e[0]),e.forEach((function(e,r){if(e.arrayIdx=r,e.hasChildren=void 0!==e.children,e.name||(e.name=B(),console.warn("Tree node without a name detected. Using the name '".concat(e.name,"' and continuing..."))),n.has(e.name)){var o=e.name;e.name="".concat(e.name,"_").concat(B()),console.warn("Tree node detected with a duplicate name. Changing '".concat(o,"' to '").concat(e.name,"' and continuing..."))}n.add(e.name);for(var i=0,a=Object.entries(e.node_attrs||{});i<a.length;i++){var l=A(a[i],2),c=l[0],s=l[1];"object"===x(s)&&"value"in s&&t.add(c)}})),{nodeAttrKeys:t,nodes:e}}(t),l=a.nodeAttrKeys,c=a.nodes;!function(e){e.forEach((function(e){e.parentInfo={original:e.parent}}))}(t);var s=c.filter((function(e){var n=(0,b.nt)(e);return n&&(Object.keys(n).length>1||"serum"!==Object.keys(n)[0])})),u=function(e){var n=new Set;return e.forEach((function(e){e.branch_attrs&&e.branch_attrs.labels&&Object.keys(e.branch_attrs.labels).forEach((function(t){n.add(t),e.branch_attrs.labels[t]=String(e.branch_attrs.labels[t])}))})),["none"].concat(S(n))}(t),f=function(e){var n={};return e.forEach((function(e){e.branch_attrs&&e.branch_attrs.mutations&&Object.entries(e.branch_attrs.mutations).forEach((function(e){var t=A(e,2),r=t[0];t[1].forEach((function(e){n["".concat(r,":").concat(e)]?n["".concat(r,":").concat(e)]++:n["".concat(r,":").concat(e)]=1}))}))})),n}(t);return w(w({},(0,g.v)()),{},{nodes:c,nodeAttrKeys:l,vaccines:s,observedMutations:f,availableBranchLabels:u,loaded:!0})};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function _(e,n){if(e){if("string"==typeof e)return P(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?P(e,n):void 0}}function P(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var I=function(e,n){try{var t=new Set;Object.entries(e.colorings||{}).forEach((function(e){var n,r,o=(r=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(n,r)||_(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0];"continuous"===o[1].type&&t.add(i)})),n.nodes.forEach((function(e){var n,r=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_(e))){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw i}}}}(t);try{for(r.s();!(n=r.n()).done;){var o,i=n.value,a=null==e||null===(o=e.node_attrs)||void 0===o?void 0:o[i];a&&M(a)}}catch(e){r.e(e)}finally{r.f()}}))}catch(e){console.error(e)}};function M(e){switch(k(e.value)){case"number":break;case"string":var n=e.value.trim();""===n||isNaN(n)||"Infinity"===n||"-Infinity"===n?e.value=void 0:e.value=Number(n);break;default:e.value=void 0}}var R=t(29473);function F(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=G(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw i}}}}var L=regeneratorRuntime.mark(W);function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function z(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||G(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,n){if(e){if("string"==typeof e)return V(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?V(e,n):void 0}}function V(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var q=function(e){var n=Object.entries(e).filter((function(e){return"nuc"===z(e,1)[0]})).map((function(e){return z(e,2)[1]}))[0];if(!n)throw new Error("Genome annotation missing 'nuc' definition");if("object"!==U(n))throw new Error("Genome annotation for 'nuc' is not a JSON object.");if(!("start"in n)||!("end"in n))throw new Error("Genome annotation for 'nuc' missing start or end");if("number"!=typeof n.start||"number"!=typeof n.end)throw new Error("Genome annotation for 'nuc.start' or 'nuc.end' is not a number.");if("strand"in n&&"-"===n.strand)throw new Error("Auspice can only display genomes represented as positive strand.Note that -ve strand RNA viruses are typically annotated as 5' → 3'.");var t=[n.start,n.end],r={};Object.entries(e).filter((function(e){return"nuc"!==z(e,1)[0]})).map((function(e){var n=z(e,2),t=n[0],o=n[1];if("object"!==U(o))throw new Error("Genome annotation for '".concat(t,"' is not a JSON object."));var i=t;if("gene"in o){if("string"!=typeof o.gene)throw new Error("Genome annotation '".concat(t,".gene' is not a string."));i=o.gene}i in r||(r[i]={}),r[i][t]=o}));var o=W(),i=new Set,a=Object.entries(r).map((function(e){var n=z(e,2),r=n[0],a=n[1],l={name:r,cds:[]},c=o.next().value;return l.cds=Object.entries(a).map((function(e){var n=z(e,2);return function(e,n,t,r){var o={name:"__INVALID__",length:0,segments:[],strand:"+",isWrapping:!1,color:"#000"},i=n.strand;if("+"!==i&&"-"!==i)return console.error("[Genome annotation]  ".concat(e," has strand ")+(void 0!==n.strand?n.strand:"(missing)")+". This CDS will be ignored."),o;var a="+"===i,l=0,c=[];if(n.start&&n.end){if("number"!=typeof n.start||"number"!=typeof n.end)return console.error("[Genome annotation] ".concat(e," start (").concat(n.start,") and/or end (").concat(n.end,") is not a number.")),o;n.end<=t[1]?(l=n.end-n.start+1,c.push({segmentNumber:1,rangeLocal:[1,l],rangeGenome:[n.start,n.end],phase:0,frame:H(n.start,n.end,0,t[1],a)})):(n.segments=[{start:n.start,end:t[1]},{start:1,end:n.end-t[1]}],Array.isArray(n.segments)&&(a||n.segments.reverse()))}if(n.segments&&Array.isArray(n.segments)){if(c.length)return console.error("[Genome annotation] ".concat(e," defines both start/stop and segments, but they are mutually exclusive.")),o;var s,u=0,f=1,d=N(n.segments);try{for(d.s();!(s=d.n()).done;){var p=s.value,h=p.end-p.start+1,y=l%3==0?0:l%3==1?2:1,m={segmentNumber:f++,rangeLocal:[u+1,u+h],rangeGenome:[p.start,p.end],phase:y,frame:H(p.start,p.end,y,t[1],a)};c.push(m),l+=h,u+=h}}catch(e){d.e(e)}finally{d.f()}}if(!c.length)return console.error("[Genome annotation] ".concat(e," requires either start+end or segments to be defined")),o;if(l%3)return console.error("[Genome annotation] ".concat(e," has length ").concat(l," which is not a multiple of 3")),o;var g,b={name:e,length:l,segments:c,strand:i,isWrapping:X(i,c),color:(g=n.color,"string"==typeof g&&g||r||"#000")};return"string"==typeof n.display_name&&(b.displayName=n.display_name),"string"==typeof n.description&&(b.description=n.description),b}(n[0],n[1],t,c)})).filter((function(e){return"__INVALID__"!==e.name})),l.cds.forEach((function(e){return i.add(e.strand)})),l})),l={strandsObserved:i,posStrandStackHeight:Y(a,"+"),negStrandStackHeight:Y(a,"-")};return[{name:"source",range:t,genes:a,metadata:l}]},$=function(e){if(e)try{return{showCounts:!1,loaded:!0,genomeMap:q(e)}}catch(e){e instanceof Error&&console.error(e.message),console.error("Genotype colorings and the entropy panel will not be available.")}return(0,R.t)()};function W(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=0;case 1:return n.next=4,s.p3[e++];case 4:e===s.p3.length&&(e=0),n.next=1;break;case 7:case"end":return n.stop()}}),L)}function H(e,n,t,r,o){return o?(e+t-1)%3:Math.abs((n-t-r)%3)}function Y(e,n){var t,r=e.reduce((function(e,n){return[].concat(F(e),F(n.cds))}),[]).filter((function(e){return e.strand===n})).sort((function(e,n){return Math.min.apply(Math,F(e.segments.map((function(e){return e.rangeGenome[0]}))))<Math.min.apply(Math,F(n.segments.map((function(e){return e.rangeGenome[0]}))))?-1:1})),o=[],i=N(r);try{var a=function(){var e=t.value,n=Math.min.apply(Math,F(e.segments.map((function(e){return e.rangeGenome[0]})))),r=(o=o.filter((function(e){return!(Math.max.apply(Math,F(e.segments.map((function(e){return e.rangeGenome[1]}))))<n)}))).map((function(e){return e.stackPosition||0})).sort(),i=function(e){if((e[0]||0)>1)return 1;for(var n=1;n<e.length;n++){var t=[e[n-1],e[n]],r=t[0],o=t[1];if(r&&o&&o-r>1)return r+1}return 0}(r);if(i)return e.stackPosition=i,o.push(e),"continue";var a=function(e,n){var t,r=Math.min.apply(Math,F(n.segments.map((function(e){return e.rangeGenome[0]})))),o=Math.max.apply(Math,F(n.segments.map((function(e){return e.rangeGenome[1]})))),i=N(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(1!==a.segments.length){var l=F(a.segments);l.sort((function(e,n){return e.rangeGenome[0]<n.rangeGenome[1]?-1:1}));for(var c=function(n){var t,i,c=(null===(t=l[n])||void 0===t?void 0:t.rangeGenome[1])||0,s=(null===(i=l[n+1])||void 0===i?void 0:i.rangeGenome[0])||0,u=a.stackPosition||0;if(c<r&&s>o){var f=!1;if(e.forEach((function(e){e.stackPosition===u&&(f||e.segments.forEach((function(e){e.rangeGenome[1]>=r&&e.rangeGenome[0]<=o&&(f=!0)})))})),!f)return{v:u}}},s=0;s<l.length-1;s++){var u=c(s);if("object"===U(u))return u.v}}}}catch(e){i.e(e)}finally{i.f()}return 0}(o,e);if(a)return e.stackPosition=a,o.push(e),"continue";e.stackPosition=(r[r.length-1]||0)+1,o.push(e)};for(i.s();!(t=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}return Math.max.apply(Math,F(r.map((function(e){return e.stackPosition||0}))))}function X(e,n){var t,r,o="+"===e,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(t){if(o&&t.rangeGenome[0]>a.rangeGenome[0])return!0;if(!o&&t.rangeGenome[0]<a.rangeGenome[0])return!0}t=a}}catch(e){i.e(e)}finally{i.f()}return!1}var K=t(9045),Z=t(88982),J=t(59995),Q=t(397),ee=t(72061),ne=t(12225),te=t(43539),re=t(59180),oe=t(60686),ie=t(6461);function ae(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function le(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ae(Object(t),!0).forEach((function(n){ce(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ae(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ce(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function se(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||de(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function fe(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=de(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw i}}}}function de(e,n){if(e){if("string"==typeof e)return pe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?pe(e,n):void 0}}function pe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var he=function(e,n){return e.coloringsPresentOnTreeWithConfidence.has(n)},ye=function(e,n){var t=(0,b.rs)(e[0],"num_date");return void 0===t?(0,c.hT)(n.dateMaxNumeric-s.Zk):(0,c.hT)(t-.01)},me=function(e){var n=s.FU;return e.forEach((function(e){var t=(0,b.rs)(e,"num_date");void 0!==t&&t>n&&(n=t)})),n+=.01,(0,c.hT)(n)},ge=function(e,n,t){if(n.analysisSlider&&(e.analysisSlider={key:n.analysisSlider,valid:!1}),n.filters?e.filtersInFooter=function(e){if(Array.isArray(e))return pe(e)}(a=n.filters)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||de(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():(console.warn("JSON did not include any filters"),e.filtersInFooter=[]),n.displayDefaults)for(var r=["geoResolution","colorBy","distanceMeasure","layout","mapTriplicate","selectedBranchLabel","tipLabelKey","sidebar","showTransmissionLines","normalizeFrequencies"],o=["string","string","string","string","boolean","string","string","string","boolean","boolean"],i=0;i<r.length;i+=1)Object.hasOwnProperty.call(n.displayDefaults,r[i])&&(ue(n.displayDefaults[r[i]])===o[i]?"sidebar"===r[i]?"open"===n.displayDefaults[r[i]]?(e.defaults.sidebarOpen=!0,e.sidebarOpen=!0):"closed"===n.displayDefaults[r[i]]?(e.defaults.sidebarOpen=!1,e.sidebarOpen=!1):console.error("Skipping 'display_default' for sidebar as it's not 'open' or 'closed'"):(e[r[i]]=n.displayDefaults[r[i]],e.defaults[r[i]]=n.displayDefaults[r[i]]):console.error("Skipping 'display_default' for ",r[i],"as it is not of type ",o[i]));else n.displayDefaults={};var a;return n.panels?(e.panelsAvailable=n.panels.slice(),e.panelsToDisplay=n.panels.slice()):(e.panelsAvailable=["tree","entropy"],e.panelsToDisplay=["tree","entropy"]),n.geoResolutions&&n.geoResolutions.length||(e.panelsAvailable=e.panelsAvailable.filter((function(e){return"map"!==e})),e.panelsToDisplay=e.panelsToDisplay.filter((function(e){return"map"!==e}))),n.colorings||(n.colorings={}),t&&e.coloringsPresentOnTree.has("gt")?Object.keys(n.colorings).includes("gt")||(n.colorings.gt={title:"Genotype",type:"categorical"}):(e.panelsAvailable=e.panelsAvailable.filter((function(e){return"entropy"!==e})),e.panelsToDisplay=e.panelsToDisplay.filter((function(e){return"entropy"!==e})),Object.keys(n.colorings).includes("gt")&&(console.error("Genotype coloring ('gt') was specified as an option in the JSON, however the data does not support this: check that 'metadata.genome_annotations' is correct and that mutations have been assigned to 'branch_attrs' on the tree."),delete n.colorings.gt)),n.displayDefaults&&n.displayDefaults.panels&&Array.isArray(n.displayDefaults.panels)?(n.displayDefaults.panels=n.displayDefaults.panels.filter((function(n){return e.panelsAvailable.includes(n)})),e.panelsToDisplay=e.panelsToDisplay.filter((function(e){return n.displayDefaults.panels.includes(e)})),e.defaults.panels=n.displayDefaults.panels):e.defaults.panels=e.panelsAvailable.slice(),(0,re.px)(e.panelsToDisplay)||(e.panelLayout="full",e.canTogglePanelLayout=!1),e},be=function(e,n,t,r){if(e.dateMin=ye(n.nodes,e),e.dateMax=me(n.nodes),e.dateMinNumeric=(0,c.O$)(e.dateMin),e.dateMaxNumeric=(0,c.O$)(e.dateMax),t){var o=ye(t.nodes,e),i=me(t.nodes),a=(0,c.O$)(o),l=(0,c.O$)(i);a<e.dateMinNumeric&&(e.dateMinNumeric=a,e.dateMin=o),l>e.dateMaxNumeric&&(e.dateMaxNumeric=l,e.dateMax=i)}e.absoluteDateMin=e.dateMin,e.absoluteDateMax=e.dateMax,e.absoluteDateMinNumeric=(0,c.O$)(e.absoluteDateMin),e.absoluteDateMaxNumeric=(0,c.O$)(e.absoluteDateMax);var s=[];r&&(s=Object.keys(r));var u=!1,f=!1,d=!1,p=function(n){n.forEach((function(n){if(s.forEach((function(t){e.coloringsPresentOnTreeWithConfidence.has(t)||((0,b.rs)(n,t,{confidence:!0})?(e.coloringsPresentOnTreeWithConfidence.add(t),e.coloringsPresentOnTree.add(t)):(0,b.rs)(n,t)&&e.coloringsPresentOnTree.add(t))})),n.branch_attrs&&n.branch_attrs.mutations){var t=Object.keys(n.branch_attrs.mutations);(t.length>1||1===t.length&&"nuc"!==t[0])&&(u=!0),t.includes("nuc")&&(f=!0)}!d&&(0,b.rs)(n,"num_date",{confidence:!0})&&(d=!0)}))};p(n.nodes),t&&p(t.nodes),(u||f)&&e.coloringsPresentOnTree.add("gt");var h=void 0!==(0,b.rs)(n.nodes[0],"num_date"),y=void 0!==(0,b.KT)(n.nodes[0]);return e.branchLengthsToDisplay=h&&y?"divAndDate":h?"dateOnly":"divOnly",e.distanceMeasure="divOnly"===e.branchLengthsToDisplay?"div":"dateOnly"===e.branchLengthsToDisplay?"num_date":e.distanceMeasure,-1!==n.availableBranchLabels.indexOf("clade")&&(e.defaults.selectedBranchLabel="clade",e.selectedBranchLabel="clade"),e.temporalConfidence={exists:d,display:d,on:!1},e},ve=function(e,n,t,r){var o=e.idxOfInViewRootNode;if(n){var i=se(n.split(":"),2),a=i[0],l=i[1],c=(0,f.s9)(e.nodes,a,l,r);e.selectedClade=n,o=(0,Q.CX)(c,e)}else e.selectedClade=void 0,o=(0,Q.CX)(0,e);var s=(0,f.vK)(e,t,{dateMinNumeric:t.dateMinNumeric,dateMaxNumeric:t.dateMaxNumeric}),u=Object.assign({},e,s);return u.idxOfInViewRootNode=o,u},we=function(e){var n={};return e.forEach((function(e){n[e.key]=le({},e),delete n[e.key].key})),n},Oe=function(e,n){var t=parseInt(e.n,10)||0;return t>=n.length&&(console.warn("Attempted to go to narrative page ".concat(t," which doesn't exist")),t=0),t},Se=function(e){var n,t,r,o,i,f,d,g,v,w,O=e.json,S=void 0!==O&&O,x=e.measurementsData,A=void 0!==x&&x,E=e.secondTreeDataset,C=void 0!==E&&E,B=e.oldState,j=void 0!==B&&B,T=e.narrativeBlocks,k=void 0!==T&&T,_=e.mainTreeName,P=void 0!==_&&_,M=e.secondTreeName,R=void 0!==M&&M,F=e.query,N=e.dispatch;if(S){if(f=function(e){var n={};if(e.meta.colorings&&(n.colorings=we(e.meta.colorings)),n.title=e.meta.title,n.updated=e.meta.updated,e.meta.description&&(n.description=e.meta.description),e.meta.warning&&(n.warning=e.meta.warning),e.version&&(n.version=e.version),e.meta.maintainers&&(n.maintainers=e.meta.maintainers),e.meta.build_url&&(n.buildUrl=e.meta.build_url),e.meta.data_provenance&&(n.dataProvenance=e.meta.data_provenance),e.meta.filters&&(n.filters=e.meta.filters),e.meta.panels&&(n.panels=e.meta.panels),e.root_sequence&&(n.rootSequence=e.root_sequence),e.meta.display_defaults){n.displayDefaults={};for(var t=0,r=Object.entries({color_by:"colorBy",geo_resolution:"geoResolution",distance_measure:"distanceMeasure",branch_label:"selectedBranchLabel",tip_label:"tipLabelKey",map_triplicate:"mapTriplicate",layout:"layout",language:"language",sidebar:"sidebar",panels:"panels",transmission_lines:"showTransmissionLines"});t<r.length;t++){var o=se(r[t],2),i=o[0],a=o[1];Object.prototype.hasOwnProperty.call(e.meta.display_defaults,i)&&(n.displayDefaults[a]=e.meta.display_defaults[i])}}return e.meta.geo_resolutions&&(n.geoResolutions=e.meta.geo_resolutions),Object.prototype.hasOwnProperty.call(n,"loaded")&&console.error('Metadata JSON must not contain the key "loaded". Ignoring.'),n.loaded=!0,n}(S),o=$(S.meta.genome_annotations),g=(0,h.P)(),v=(0,ie.HX)(A,N),t=D(S.tree),I(f,t),t.debug="LEFT",t.name=P,f.mainTreeNumTips=(0,y.Tr)(t.nodes),C){var L,U=Ae(C,f,null===(L=o)||void 0===L?void 0:L.genomeMap,R);r=U.treeToo,f=U.metadata}i=(0,p.lU)(),i=be(i,t,r,f.colorings),i=ge(i,f,o.genomeMap)}else j&&(i=a()(j.controls),o=le({},j.entropy),t=le({},j.tree),r=le({},j.treeToo),f=le({},j.metadata),g=le({},j.frequencies),v=le({},j.measurements),i=function(e){for(var n=0,t=Object.keys(e.defaults);n<t.length;n++){var r=t[n];switch(ue(e.defaults[r])){case"boolean":case"string":e[r]=e.defaults[r];break;case"object":e[r]=JSON.parse(JSON.stringify(e.defaults[r]));break;default:console.error("unknown typeof for default state of ",r,e.defaults[r])}}return e.dateMin=e.absoluteDateMin,e.dateMax=e.absoluteDateMax,e.dateMinNumeric=e.absoluteDateMinNumeric,e.dateMaxNumeric=e.absoluteDateMaxNumeric,e.zoomMax=void 0,e.zoomMin=void 0,e.panelLayout=(0,u.j)().width>s.Tr?"grid":"full",e.panelsToDisplay=e.panelsAvailable.slice(),e.tipLabelKey=s.Ac,e.scatterVariables={},e.showAllBranchLabels=!1,e}(i),i=ge(i,f,o.genomeMap));k&&(w=Oe(F,d=k),F=l.parse(d[w].query)),i=function(e,n){if(n.l&&(e.layout=n.l),n.gmin&&(e.zoomMin=parseInt(n.gmin,10)),n.gmax&&(e.zoomMax=parseInt(n.gmax,10)),n.m&&"divAndDate"===e.branchLengthsToDisplay&&(e.distanceMeasure=n.m),n.c&&(e.colorBy=n.c),void 0===n.ci?e.temporalConfidence.on=!1:e.temporalConfidence.on=!0,n.r&&(e.geoResolution=n.r),n.d){var t=n.d.split(",");e.panelsToDisplay=e.panelsAvailable.filter((function(e){return-1!==t.indexOf(e)})),e.canTogglePanelLayout=(0,re.px)(e.panelsToDisplay),e.canTogglePanelLayout||(e.panelLayout="full")}if(n.p&&e.canTogglePanelLayout&&("full"===n.p||"grid"===n.p)&&(e.panelLayout=n.p),n.tl&&(e.tipLabelKey=n.tl===oe.T?s.Ac:n.tl),n.dmin){var r=(0,c.O$)(n.dmin);O(r,e.absoluteDateMinNumeric,e.absoluteDateMaxNumeric)?(e.dateMin=n.dmin,e.dateMinNumeric=r):(console.error('URL query "dmin='.concat(n.dmin,'" is invalid ').concat("divOnly"===e.branchLengthsToDisplay?"(the tree is not a timetree)":"")),delete n.dmin)}if(n.dmax){var o=(0,c.O$)(n.dmax);O(o,e.absoluteDateMinNumeric,e.absoluteDateMaxNumeric)?n.dmin&&o<=e.dateMinNumeric?(console.error('Requested "dmax='.concat(n.dmax,'" is earlier than "dmin=').concat(n.dmin,'", ignoring dmax.')),delete n.dmax):(e.dateMax=n.dmax,e.dateMaxNumeric=o):(console.error('URL query "dmax='.concat(n.dmax,'" is invalid ').concat("divOnly"===e.branchLengthsToDisplay?"(the tree is not a timetree)":"")),delete n.dmax)}var i,a=fe(Object.keys(n).filter((function(e){return e.startsWith("f_")})));try{for(a.s();!(i=a.n()).done;){var l=i.value,u=l.replace("f_",""),f=n[l]?n[l].split(","):[];e.filters[u]=f.map((function(e){return{value:e,active:!0}}))}}catch(e){a.e(e)}finally{a.f()}if(n.s){var d=n.s?n.s.split(","):[];e.filters[s.Ac]=d.map((function(e){return{value:e,active:!0}}))}if(n.gt&&(e.filters[s.vD]=(0,ne.eL)(n.gt||"")),e.animationPlayPauseButton="Play",n.animate){var p=n.animate.split(",");if(5!==p.length)console.error("Invalid 'animate' URL query (not enough fields)"),delete n.animate;else if("divOnly"===e.branchLengthsToDisplay)console.error("Invalid 'animate' URL query (tree is not a timetree)"),delete n.animate;else{var h=[p[0],(0,c.O$)(p[0])],y=h[0],m=h[1],g=[p[1],(0,c.O$)(p[1])],b=g[0],v=g[1];if(!O(m,e.absoluteDateMinNumeric,e.absoluteDateMaxNumeric)||!O(v,e.absoluteDateMinNumeric,e.absoluteDateMaxNumeric)||m>=v)console.error("Invalid 'animate' URL query (invalid date range)"),delete n.animate;else{window.NEXTSTRAIN.animationStartPoint=m,window.NEXTSTRAIN.animationEndPoint=v,e.dateMin=y,e.dateMax=b,e.dateMinNumeric=m,e.dateMaxNumeric=v,e.mapAnimationShouldLoop="1"===p[2],e.mapAnimationCumulative="1"===p[3];var w=parseInt(p[4],10);e.mapAnimationDurationInMilliseconds=isNaN(w)?3e4:w,e.animationPlayPauseButton="Pause"}}}return n.branchLabel&&(e.selectedBranchLabel=n.branchLabel),"all"===n.showBranchLabels&&(e.showAllBranchLabels=!0),n.sidebar&&("open"===n.sidebar?(e.defaults.sidebarOpen=!0,e.sidebarOpen=!0):"closed"===n.sidebar&&(e.defaults.sidebarOpen=!1,e.sidebarOpen=!1)),n.legend&&("open"===n.legend?e.legendOpen=!0:"closed"===n.legend&&(e.legendOpen=!1)),"onlyPanels"in n&&(e.showOnlyPanels=!0),n.transmissions&&("show"===n.transmissions?e.showTransmissionLines=!0:"hide"===n.transmissions&&(e.showTransmissionLines=!1)),"hide"===n.branches&&(e.scatterVariables.showBranches=!1),"show"===n.regression&&(e.scatterVariables.showRegression=!0),"hide"===n.regression&&(e.scatterVariables.showRegression=!1),n.scatterX&&(e.scatterVariables.x=n.scatterX),n.scatterY&&(e.scatterVariables.y=n.scatterY),e;function O(e,n,t){return!(void 0===e||e>t||e<n)}}(i,F);var z=!1;if(v.loaded){var G,V=(0,ie.NG)(v,F),q=V.collectionToDisplay,W=V.collectionControls,H=V.updatedQuery,Y=V.newColoringData;if(v.collectionToDisplay=q,i=le(le({},i),W),F=H,void 0!==(null==j||null===(G=j.controls)||void 0===G?void 0:G.measurementsColorGrouping)){var X=(0,ie.WJ)(j.controls.measurementsColorGrouping);i.coloringsPresentOnTree.delete(X),X in f.colorings&&delete f.colorings[X],(0,b.rL)(t.nodes,[X]),t.nodeAttrKeys.delete(X),X in t.totalStateCounts&&delete t.totalStateCounts[X],r&&r.loaded&&(0,b.rL)(r.nodes,[X])}if(void 0!==Y){z=!0,Y.coloringsPresentOnTree.forEach((function(e){return i.coloringsPresentOnTree.add(e)})),f.colorings=le(le({},f.colorings),Y.colorings),(0,b.tX)(t.nodes,Y.nodeAttrs),Object.keys(Y.colorings).forEach((function(e){return t.nodeAttrKeys.add(e)}));var Q=Object.keys(Y.colorings).filter((function(e){return"continuous"!==Y.colorings[e].type}));t.totalStateCounts=le(le({},t.totalStateCounts),(0,y.CU)(t.nodes,Q,!1,!0)),r&&r.loaded&&(0,b.tX)(r.nodes,Y.nodeAttrs)}}else i.panelsToDisplay=i.panelsToDisplay.filter((function(e){return"measurements"!==e})),i.canTogglePanelLayout=(0,re.px)(i.panelsToDisplay),i.panelLayout=i.canTogglePanelLayout?i.panelLayout:"full",F=Object.fromEntries(Object.entries(F).filter((function(e){var n=se(e,2),t=n[0];return n[1],!(t.startsWith("m_")||t.startsWith("mf_"))})));k&&d[w].mainDisplayMarkdown&&(i.panelsToDisplay=["MainDisplayMarkdown"]);var ae=k||j&&j.narrative.display,ce=(0,y.WO)(t.nodes,f.colorings);if(t.totalStateCounts=(0,y.CU)(t.nodes,ce,!1,!0),i=function(e,n,t,r,o,i){var a;n.colorings||(n.colorings={});var l=function(){var t=Object.keys(n.colorings).filter((function(e){return"gt"!==e}));n.displayDefaults&&n.displayDefaults.colorBy&&-1!==t.indexOf(n.displayDefaults.colorBy)?(console.warn("colorBy falling back to",n.displayDefaults.colorBy),e.colorBy=n.displayDefaults.colorBy,e.defaults.colorBy=n.displayDefaults.colorBy):t.length?-1!==t.indexOf(s.VK)?(e.colorBy=s.VK,e.defaults.colorBy=s.VK):(console.error("Error detected trying to set colorBy to",e.colorBy,"falling back to",t[0]),e.colorBy=t[0],e.defaults.colorBy=t[0]):(console.error("Error detected trying to set colorBy to",e.colorBy," as there are no color options defined in the JSONs!"),e.colorBy="none",e.defaults.colorBy="none"),delete r.c};if((0,ne.O$)(e.colorBy))if(t){var c=(0,ne.kW)(e.colorBy,t);if(c){var u=(0,ne.bP)(c);e.colorBy!==u&&(console.error("Genotype color-by ".concat(e.colorBy," contains at lease one invalid position. ")+"Color-by has been changed to ".concat(u,".")),r.c=u,e.colorBy=u)}else l()}else l();else-1===Object.keys(n.colorings).indexOf(e.colorBy)&&l();var f=null==t||null===(a=t[0])||void 0===a?void 0:a.range;if(f){if((e.zoomMin<=f[0]||e.zoomMin>=f[1])&&(e.zoomMin=void 0,delete r.gmin),(e.zoomMax<=f[0]||e.zoomMax>=f[1])&&(e.zoomMax=void 0,delete r.gmax),e.zoomMin&&e.zoomMax&&e.zoomMin>e.zoomMax){var d=[e.zoomMax,e.zoomMin];e.zoomMin=d[0],e.zoomMax=d[1];var h=[e.zoomMin,e.zoomMax];r.gmin=h[0],r.gmax=h[1]}}else{var y=[void 0,void 0];e.zoomMin=y[0],e.zoomMax=y[1],delete r.gmin,delete r.gmax}if(e.colorByConfidence=he(e,e.colorBy),-1===["div","num_date"].indexOf(e.distanceMeasure)&&(e.distanceMeasure="num_date",console.error("Error detected. Setting distanceMeasure to ",e.distanceMeasure)),n.geoResolutions){var m=n.geoResolutions.map((function(e){return e.key}));-1===m.indexOf(e.geoResolution)&&(n.displayDefaults&&n.displayDefaults.geoResolution&&-1!==m.indexOf(n.displayDefaults.geoResolution)?e.geoResolution=n.displayDefaults.geoResolution:-1!==m.indexOf(s.Eq)?e.geoResolution=s.Eq:e.geoResolution=m[0],console.error("Error detected. Setting geoResolution to ",e.geoResolution),delete r.r)}e.selectedBranchLabel&&!o.availableBranchLabels.includes(e.selectedBranchLabel)&&(console.error("Can't set selected branch label to ",e.selectedBranchLabel),e.selectedBranchLabel="none",e.defaults.selectedBranchLabel="none");var g=(0,te.I)(o.nodeAttrKeys,n.colorings).map((function(e){return e.value}));g.includes(e.defaults.tipLabelKey)||(console.error("Invalid JSON-defined tip label:",e.defaults.tipLabelKey),e.defaults.tipLabelKey=s.Ac),g.includes(e.tipLabelKey)||(r.tl&&(console.error("Invalid URL-defined tip label:",e.tipLabelKey),delete r.tl),e.tipLabelKey=e.defaults.tipLabelKey),(0,p.xi)(e.temporalConfidence.exists,e.distanceMeasure,e.layout)?e.temporalConfidence.display=!0:(e.temporalConfidence.display=!1,e.temporalConfidence.on=!1,delete r.ci);var v,w=function(e){return e===s.Ac?"s":e===s.vD?"gt":"f_".concat(e)},O=fe(Reflect.ownKeys(e.filters));try{var S=function(){var n=v.value;if(!e.filters[n].length)return delete e.filters[n],delete r[w(n)],"continue";if(!Object.keys(o.totalStateCounts).includes(n)&&n!==s.Ac&&n!==s.vD)return delete e.filters[n],delete r[w(n)],"continue";var t=e.filters[n].map((function(e){return e.value})),i=void 0;if(n===s.Ac){var a=new Set(o.nodes.map((function(e){return e.name})));i=t.filter((function(e){return a.has(e)}))}else if(n===s.vD){var l=(0,b.nx)(o.nodes);i=t.filter((function(e){return l.has(e)}))}else i=t.filter((function(e){return o.totalStateCounts[n].has(e)}));0===i.length?(delete e.filters[n],delete r[w(n)]):t.length!==i.length&&(e.filters[n]=i.map((function(e){return{value:e,active:!0}})),r[w(n)]=n===s.vD?(0,ne.FQ)(e.filters[n]):i.join(","))};for(O.s();!(v=O.n()).done;)S()}catch(e){O.e(e)}finally{O.f()}return e.filtersInFooter=e.filtersInFooter.filter((function(e){return e in o.totalStateCounts})),r.m&&"divAndDate"!==e.branchLengthsToDisplay&&delete r.m,"open"!==r.sidebar&&"closed"!==r.sidebar&&delete r.sidebar,i&&("sidebarOpen"in e.defaults&&delete e.defaults.sidebarOpen,e.sidebarOpen=!0),"scatter"===e.layout||"clock"===e.layout?(e.scatterVariables=(0,ee.HO)(e,n,o,"clock"===e.layout),r.scatterX&&r.scatterX!==e.scatterVariables.x&&delete r.scatterX,r.scatterY&&r.scatterY!==e.scatterVariables.y&&delete r.scatterY,"clock"===e.layout&&(delete r.scatterX,delete r.scatterY)):(e.scatterVariables={},delete r.scatterX,delete r.scatterY,delete r.regression,delete r.branches),e}(i,f,o.genomeMap,F,t,ae),S||i.colorBy!==j.controls.colorBy||z){var de=(0,Z.pu)(i.colorBy,i,t,r,f),pe=(0,K.lX)(t,de);i.colorScale=de,i.colorByConfidence=he(i,i.colorBy),t.nodeColorsVersion=de.version,t.nodeColors=pe}if(F.clade&&(F.label||"root"===F.clade||(F.label="clade:".concat(F.clade)),delete F.clade),F.label&&(F.label.includes(":")||(console.error("Defined a label without ':' separator."),delete F.label),t.availableBranchLabels.includes(F.label.split(":")[0])||(console.error("Label name ".concat(F.label.split(":")[0]," doesn't exist")),delete F.label)),t=ve(t,F.label,i,N),r&&r.loaded&&(r=Ee(t,r,i,N)),i.colorScale.visibleLegendValues=(0,Z.Sb)({colorBy:i.colorBy,scaleType:i.colorScale.scaleType,genotype:i.colorScale.genotype,legendValues:i.colorScale.legendValues,treeNodes:t.nodes,treeTooNodes:r?r.nodes:void 0,visibility:t.visibility,visibilityToo:null===(n=r)||void 0===n?void 0:n.visibility}),o.loaded){if(o.selectedCds=s.BJ,o.selectedPositions=[],(0,ne.O$)(i.colorBy)){var ye=(0,ne.kW)(i.colorBy),me=(0,ne.fO)(null==ye?void 0:ye.gene,o.genomeMap);me&&(o.selectedCds=me,o.selectedPositions=(null==ye?void 0:ye.positions)||[])}var Se=se((0,m.UB)(t.nodes,t.visibility,o.selectedCds,o.showCounts),2),xe=Se[0],Ce=Se[1];o.bars=xe,o.maxYVal=Ce,o.onScreen=!0}return g&&g.loaded&&(g.version++,(0,J.bv)(g.data,g.pivots,t.nodes,t.visibility)||(i.normalizeFrequencies=!1),g.matrix=(0,J.N0)(g.data,g.pivots,t.nodes,t.visibility,i.colorScale,i.colorBy,i.normalizeFrequencies)),k&&(F={n:w}),{tree:t,treeToo:r,metadata:f,entropy:o,controls:i,narrative:d,frequencies:g,measurements:v,query:F}},xe=function(e){var n,t=e.json,r=e.oldState,o=e.originalTreeUrl,i=e.secondTreeUrl,a=e.dispatch,l=Object.assign({},r.tree);l.name=o;var c=Ae(t,r.metadata,null===(n=r.entropy)||void 0===n?void 0:n.genomeMap,i),s=c.treeToo,u=c.metadata,f=be(le({},r.controls),l,s,r.metadata.colorings);return f.colorScale=(0,Z.pu)(f.colorBy,f,l,s,u),f.colorByConfidence=he(f,f.colorBy),l.nodeColors=(0,K.lX)(l,f.colorScale),l.nodeColorsVersion++,{tree:l,treeToo:s=Ee(l,s,f,a),controls:f,metadata:u}};function Ae(e,n,t,r){var i,a=D(e.tree);I(n,a),a.debug="RIGHT",a.name=r,function(e,n,t){if(t&&n.meta.genome_annotations){try{e.identicalGenomeMapAcrossBothTrees=o()(t,q(n.meta.genome_annotations),(function(e,n,t){return"color"===t||"metadata"===t||void 0}))}catch(e){e instanceof Error&&console.error(e.message)}e.identicalGenomeMapAcrossBothTrees||console.warn("Heads up! The two trees have different genome_annotations and thus genotype colorings will only be applied to the LHS tree")}e.identicalGenomeMapAcrossBothTrees&&n.root_sequence&&(e.rootSequenceSecondTree=n.root_sequence)}(le({},n),e,t);var l=we((null===(i=e.meta)||void 0===i?void 0:i.colorings)||[]),c=(0,y.WO)(a.nodes,l);return a.totalStateCounts=(0,y.CU)(a.nodes,c,!1,!0),{treeToo:a,metadata:n}}function Ee(e,n,t,r){return n.nodeColorsVersion=e.nodeColorsVersion,n.nodeColors=(0,K.lX)(n,t.colorScale),(n=ve(n,void 0,t,r)).tangleTipLookup=(0,d.w)(e.nodes,n.nodes,e.visibility,n.visibility),t.showTreeToo=n.name,t.showTangle=!0,t.layout="rect",t.panelsToDisplay=t.panelsToDisplay.filter((function(e){return!["map","entropy","frequencies"].includes(e)})),t.canTogglePanelLayout=!1,t.panelLayout="full",n}},397:(e,n,t)=>{"use strict";t.d(n,{CX:()=>O,DP:()=>C,Rb:()=>E,VB:()=>A,lz:()=>j,ms:()=>x,ss:()=>S});var r=t(4699),o=t(57513),i=t(15742),a=t(27878),l=t(69369),c=t(58640),s=t(69446),u=t(93604),f=t(88982),d=t(37275),p=t(11234),h=t(96139);function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){g(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function g(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=v(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw i}}}}function v(e,n){if(e){if("string"==typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w(e,n):void 0}}function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var O=function(e,n){var t=void 0!==e?e:n.idxOfInViewRootNode;return n.nodes[0].shell?(n.nodes.forEach((function(e){e.shell.inView=!1,e.shell.update=!0})),n.nodes[t].hasChildren?(0,s.Yo)(n.nodes[t].shell,(function(e){e.inView=!0})):0===n.nodes[t].parent.arrayIdx?n.nodes[t].shell.inView=!0:(0,s.Yo)(n.nodes[t].parent.shell,(function(e){e.inView=!0}))):(n.nodes.forEach((function(e){e.inView=!1})),function e(n){if(n.inView=!0,n.children){var t,r=b(n.children);try{for(r.s();!(t=r.n()).done;)e(t.value)}catch(e){r.e(e)}finally{r.f()}}}(n.nodes[t].hasChildren?n.nodes[t]:n.nodes[t].parent)),t},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.root,t=void 0===n?[void 0,void 0]:n,r=e.cladeSelected,c=void 0===r?void 0:r;return function(e,n){var r=n(),s=r.tree,d=r.treeToo,p=r.controls,h=r.frequencies;if(void 0===t[0]&&!c&&s.selectedClade&&(c=s.selectedClade),s.nodes){var y=O(t[0],s),m=(0,o.vK)(s,p,{dateMinNumeric:p.dateMinNumeric,dateMaxNumeric:p.dateMaxNumeric}),g={type:i.st,visibility:m.visibility,visibilityVersion:m.visibilityVersion,branchThickness:m.branchThickness,branchThicknessVersion:m.branchThicknessVersion,idxOfInViewRootNode:y,idxOfFilteredRoot:m.idxOfFilteredRoot,cladeName:c,selectedClade:c};if(p.showTreeToo){var b=O(t[1],d),v=(0,o.vK)(d,p,{dateMinNumeric:p.dateMinNumeric,dateMaxNumeric:p.dateMaxNumeric});g.tangleTipLookup=(0,u.w)(s.nodes,d.nodes,m.visibility,v.visibility),g.visibilityToo=v.visibility,g.visibilityVersionToo=v.visibilityVersion,g.branchThicknessToo=v.branchThickness,g.branchThicknessVersionToo=v.branchThicknessVersion,g.idxOfInViewRootNodeToo=b,g.idxOfFilteredRootToo=v.idxOfFilteredRoot}g.visibleLegendValues=(0,f.Sb)({colorBy:p.colorBy,genotype:p.colorScale.genotype,scaleType:p.colorScale.scaleType,legendValues:p.colorScale.legendValues,treeNodes:s.nodes,treeTooNodes:d?d.nodes:void 0,visibility:g.visibility,visibilityToo:g.visibilityToo}),e(g),(0,a.QW)(e,n),h.loaded&&(0,l._)(e,n)}}},x=function(e){var n=e.newMin,t=void 0!==n&&n,r=e.newMax,s=void 0!==r&&r,d=e.quickdraw,p=void 0!==d&&d;return function(e,n){var r=n(),d=r.tree,h=r.treeToo,y=r.controls,m=r.frequencies;if(d.nodes){var g={dateMinNumeric:t?(0,c.O$)(t):y.dateMinNumeric,dateMaxNumeric:s?(0,c.O$)(s):y.dateMaxNumeric},b=(0,o.vK)(d,y,g),v={type:i.OV,quickdraw:p,dateMin:t||y.dateMin,dateMax:s||y.dateMax,dateMinNumeric:g.dateMinNumeric,dateMaxNumeric:g.dateMaxNumeric,visibility:b.visibility,visibilityVersion:b.visibilityVersion,branchThickness:b.branchThickness,branchThicknessVersion:b.branchThicknessVersion,idxOfInViewRootNode:d.idxOfInViewRootNode};if(y.showTreeToo){var w=(0,o.vK)(h,y,g);v.tangleTipLookup=(0,u.w)(d.nodes,h.nodes,b.visibility,w.visibility),v.visibilityToo=w.visibility,v.visibilityVersionToo=w.visibilityVersion,v.branchThicknessToo=w.branchThickness,v.branchThicknessVersionToo=w.branchThicknessVersion}v.visibleLegendValues=(0,f.Sb)({colorBy:y.colorBy,scaleType:y.colorScale.scaleType,genotype:y.colorScale.genotype,legendValues:y.colorScale.legendValues,treeNodes:d.nodes,treeTooNodes:h?h.nodes:void 0,visibility:v.visibility,visibilityToo:v.visibilityToo}),e(v),(0,a.QW)(e,n),m.loaded&&(0,l._)(e,n)}}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.tipSelectedIdx,t=void 0!==n&&n,a=e.selectedLegendItem,l=void 0!==a&&a,c=e.geoFilter,s=void 0===c?[]:c;return function(e,n){var a=n(),c=a.controls,u=a.tree,f=a.treeToo,d=c.colorScale,p={type:i.S,version:u.tipRadiiVersion+1},h=c.showTreeToo;if(t){if(p.data=(0,r.e)({tipSelectedIdx:t,colorScale:d,tree:u}),h){var y=(0,o.oJ)(f.nodes,u.nodes[t].name);p.dataToo=(0,r.e)({tipSelectedIdx:y,colorScale:d,tree:f})}}else p.data=(0,r.e)({selectedLegendItem:l,geoFilter:s,colorScale:d,tree:u}),h&&(p.dataToo=(0,r.e)({selectedLegendItem:l,geoFilter:s,colorScale:d,tree:f}));e(p)}},E=function(e,n,t){return function(r,o){var a,l=o().controls,c=Reflect.ownKeys(l.filters);switch(e){case"set":a=t.map((function(e){return{value:e,active:!0}}));break;case"add":if(-1===c.indexOf(n))a=t.map((function(e){return{value:e,active:!0}}));else{var s=(a=l.filters[n].slice()).map((function(e){return e.value}));t.forEach((function(e){var n=s.indexOf(e);-1===n?a.push({value:e,active:!0}):a[n].active=!0}))}break;case"remove":case"inactivate":if(-1===c.indexOf(n))return void console.error("trying to ".concat(e," values from an un-initialised filter!"));var u,f=(a=l.filters[n].map((function(e){return m({},e)}))).map((function(e){return e.value})),d=b(t);try{for(d.s();!(u=d.n()).done;){var p=u.value,h=f.indexOf(p);-1!==h?"remove"===e?a.splice(h,1):a[h].active=!1:console.error("trying to ".concat(e," filter value ").concat(p," which was not part of the filter selection"))}}catch(e){d.e(e)}finally{d.f()}break;default:return void console.error("applyFilter called with invalid mode: ".concat(e))}r({type:i.MY,trait:n,values:a}),r(S())}},C=function(){return{type:i.EV}},B=function e(n,t,r){var o,i=t.hasChildren?function(e){if(Array.isArray(e))return w(e)}(o=t.children)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||v(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():[];if(0===t.arrayIdx)t.unexplodedChildren=i;else if(t.hasChildren){var a=(0,d.rs)(t,r),l=t.children.map((function(e){return(0,d.rs)(e,r)})).map((function(e,n){return e!==a?n:void 0})).filter((function(e){return void 0!==e}));l.length&&(l.forEach((function(e){var r=t.children[e];n.children.push(r),r.parent=n})),t.unexplodedChildren=i,t.children=t.children.filter((function(e,n){return!l.includes(n)})),0===t.children.length&&(t.hasChildren=!1))}var c,s=b(i);try{for(s.s();!(c=s.n()).done;){var u=c.value;e(n,u,r)}}catch(e){s.e(e)}finally{s.f()}},j=function(e){return function(n,t){var r=t(),a=r.tree,l=r.metadata,c=r.controls;if(a.nodes.forEach((function(e){if(Object.prototype.hasOwnProperty.call(e,"unexplodedChildren")){e.children=e.unexplodedChildren,e.hasChildren=!0,delete e.unexplodedChildren;var n,t=b(e.children);try{for(t.s();!(n=t.n()).done;)n.value.parent=e}catch(e){t.e(e)}finally{t.f()}}})),e){var s=a.nodes[0];if(B(s,s,e),s.unexplodedChildren.length===s.children.length)return void n((0,p.p5)({message:"Cannot explode tree on this trait - is it defined on internal nodes?"}));!function(e,n,t){var r=(0,f.xk)(t,e.colorings[t],n,void 0);n[0].children.sort((function(e,n){var o=[(0,d.rs)(e,t),(0,d.rs)(n,t)],i=o[0],a=o[1];if(r.length){var l=[r.indexOf(i),r.indexOf(a)],c=l[0],s=l[1];return-1===c&&-1===s||-1===s||c<s?-1:c>s?1:0}return i>a?-1:1}))}(l,a.nodes,e)}(0,h.BA)(a.nodes[0]),(0,h.fL)(a.nodes[0],a.visibility),O(0,a);var u=(0,o.vK)(a,c,{dateMinNumeric:c.dateMinNumeric,dateMaxNumeric:c.dateMaxNumeric});u.idxOfInViewRootNode=0,u.visibleLegendValues=(0,f.Sb)({colorBy:c.colorBy,genotype:c.colorScale.genotype,scaleType:c.colorScale.scaleType,legendValues:c.colorScale.legendValues,treeNodes:a.nodes,visibility:u.visibility}),n(m({type:i.g1,explodeAttr:e},u))}}},15742:(e,n,t)=>{"use strict";t.d(n,{$f:()=>M,Ab:()=>f,Ct:()=>s,Dg:()=>S,Dv:()=>j,EV:()=>C,FI:()=>le,HS:()=>i,Hb:()=>U,I_:()=>p,JS:()=>P,Jv:()=>K,KA:()=>o,Kf:()=>T,Lv:()=>D,M0:()=>N,MY:()=>b,Nn:()=>X,OV:()=>d,Q5:()=>oe,R7:()=>y,RX:()=>g,Rj:()=>q,Rn:()=>R,S:()=>r,T3:()=>u,TZ:()=>H,Ue:()=>z,W2:()=>Q,YU:()=>V,ZQ:()=>se,ah:()=>I,b1:()=>O,bg:()=>k,c5:()=>E,c7:()=>ue,cD:()=>L,cn:()=>ie,eO:()=>l,er:()=>G,fE:()=>w,g1:()=>ee,gZ:()=>Y,i0:()=>_,if:()=>B,jr:()=>te,l8:()=>W,nm:()=>A,oE:()=>$,pM:()=>F,q$:()=>fe,r5:()=>ae,r7:()=>re,s3:()=>m,s4:()=>J,sJ:()=>ce,st:()=>v,tz:()=>Z,u7:()=>h,v8:()=>c,yZ:()=>a,z:()=>ne,zp:()=>x});var r="UPDATE_TIP_RADII",o="NEW_COLORS",i="LOAD_FREQUENCIES",a="FREQUENCY_MATRIX",l="BROWSER_DIMENSIONS",c="CHANGE_LAYOUT",s="CHANGE_BRANCH_LABEL",u="CHANGE_DISTANCE_MEASURE",f="TOGGLE_FOCUS",d="CHANGE_DATES_VISIBILITY_THICKNESS",p="CHANGE_ABSOLUTE_DATE_MIN",h="CHANGE_ABSOLUTE_DATE_MAX",y="CHANGE_GEO_RESOLUTION",m="CHANGE_LANGUAGE",g="CLEAN_START",b="APPLY_FILTER",v="UPDATE_VISIBILITY_AND_BRANCH_THICKNESS",w="CHANGE_ENTROPY_CDS_SELECTION",O="CHANGE_ANIMATION_START",S="CHANGE_ANIMATION_TIME",x="CHANGE_ANIMATION_CUMULATIVE",A="CHANGE_ANIMATION_LOOP",E="DATA_INVALID",C="TOGGLE_TEMPORAL_CONF",B="MAP_ANIMATION_PLAY_PAUSE_BUTTON",j="ADD_NOTIFICATION",T="REMOVE_NOTIFICATION",D="CHANGE_PANEL_LAYOUT",k="TOGGLE_PANEL_DISPLAY",_="SET_MODAL",P="ADD_EXTRA_METADATA",I="REMOVE_METADATA",M="TOGGLE_NARRATIVE",R="ENTROPY_DATA",F="ENTROPY_COUNTS_TOGGLE",N="ENTROPY_ONSCREEN_CHANGE",L="PAGE_CHANGE",U="MIDDLEWARE_ONLY_ANIMATION_STARTED",z="URL_QUERY_CHANGE_WITH_COMPUTED_STATE",G="TREE_TOO_DATA",V="REMOVE_TREE_TOO",q="TOGGLE_TANGLE",$="UPDATE_PATHNAME",W="CHANGE_ZOOM",H="SET_AVAILABLE",Y="TOGGLE_SIDEBAR",X="TOGGLE_LEGEND",K="TOGGLE_TRANSMISSION_LINES",Z="CACHE_JSONS",J="SET_ROOT_SEQUENCE",Q="CHANGE_TIP_LABEL_KEY",ee="CHANGE_EXPLODE_ATTR",ne="CHANGE_MEASUREMENTS_COLLECTION",te="CHANGE_MEASUREMENTS_GROUP_BY",re="TOGGLE_MEASUREMENTS_THRESHOLD",oe="TOGGLE_MEASUREMENTS_OVERALL_MEAN",ie="CHANGE_MEASUREMENTS_DISPLAY",ae="CHANGE_MEASUREMENTS_COLOR_GROUPING",le="APPLY_MEASUREMENTS_FILTER",ce="TOGGLE_SHOW_ALL_BRANCH_LABELS",se="TOGGLE_MOBILE_DISPLAY",ue="SELECT_NODE",fe="DESELECT_NODE"},43539:(e,n,t)=>{"use strict";t.d(n,{I:()=>b,Z:()=>g});var r,o=t(82684),i=t(4667),a=t(26439),l=t(15742),c=t(56113),s=t(70570),u=t(24177);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function p(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,n){return h=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},h(e,n)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var m=(0,i.$j)((function(e){return{selected:e.controls.tipLabelKey,options:b(e.tree.nodeAttrKeys,e.metadata.colorings)}}))(r=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&h(e,n)}(d,e);var n,t,r,i,a=(r=d,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=y(r);if(i){var t=y(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===f(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function d(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,d),(n=a.call(this,e)).change=function(e){n.props.dispatch({type:l.W2,key:e.value})},n}return n=d,(t=[{key:"render",value:function(){var e=this,n=this.props.t;return o.createElement("div",{style:{paddingTop:5}},o.createElement(c.om,null,n("sidebar:Tip Labels")),o.createElement("div",{style:{width:s.HB,fontSize:14}},o.createElement(u.Z,{value:this.props.options.filter((function(n){return n.value===e.props.selected})),getOptionValue:function(e){return e.value.toString()},options:this.props.options,isClearable:!1,isSearchable:!1,isMulti:!1,onChange:this.change})))}}])&&p(n.prototype,t),d}(o.Component))||r;const g=(0,a.Z)()(m);function b(e,n){return[{value:"none",label:"none"},{value:s.Ac,label:"Sample Name"}].concat(function(e){if(Array.isArray(e))return d(e)}(t=Array.from(e).map((function(e){var t;return{value:e,label:(null===(t=n[e]||{})||void 0===t?void 0:t.title)||e}})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,n){if(e){if("string"==typeof e)return d(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var t}},24177:(e,n,t)=>{"use strict";t.d(n,{X:()=>u,Z:()=>f});var r=t(82684),o=t(48411),i=t(75311);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var s={IndicatorSeparator:function(){return null},DropdownIndicator:function(e){return r.createElement(o.c.DropdownIndicator,e,r.createElement("span",{style:{borderColor:"#999 transparent transparent",borderStyle:"solid",borderWidth:"5px 5px 2.5px",display:"inline-block",height:0,width:0,position:"relative"}}))}},u={menu:function(e){return l(l({},e),{},{marginTop:0})},placeholder:function(e){return l(l({},e),{},{color:"#aaa"})}};const f=function(e){var n=l(l({},s),e.components),t=l(l({},u),e.styles),o=l(l({},e),{},{components:n,styles:t});return r.createElement(i.ZP,o)}},56113:(e,n,t)=>{"use strict";t.d(n,{Gh:()=>s,TO:()=>c,Zw:()=>u,c8:()=>l,fP:()=>f,gM:()=>a,iq:()=>p,k2:()=>i,mi:()=>y,om:()=>d,vb:()=>h});var r=t(63001),o=t(53809),i=r.ZP.div.withConfig({displayName:"styles__ControlsContainer",componentId:"sc-3vqs3j-0"})(["display:flex;flex-direction:column;align-content:stretch;flex-wrap:nowrap;height:100%;order:0;flex-grow:0;flex-shrink:1;flex-basis:auto;align-self:auto;padding:0px 20px 20px 20px;"]),a=r.ZP.div.withConfig({displayName:"styles__HeaderContainer",componentId:"sc-3vqs3j-1"})(["display:flex;justify-content:space-between;align-items:center;line-height:28px;min-height:28px;margin-top:15px;margin-bottom:5px;"]),l=r.ZP.div.withConfig({displayName:"styles__PanelSectionContainer",componentId:"sc-3vqs3j-2"})(["padding-top:2px;padding-bottom:8px;border-top:1px solid ",";border-bottom:1px solid ",";& + &{border-top:none;}"],(function(e){return e.theme.alternateBackground}),(function(e){return e.theme.alternateBackground})),c=r.ZP.span.withConfig({displayName:"styles__TitleAndIconContainer",componentId:"sc-3vqs3j-3"})(["display:inline-flex;align-items:center;"]),s=r.ZP.span.withConfig({displayName:"styles__HeaderTitle",componentId:"sc-3vqs3j-4"})(["font-family:",";font-size:16px;font-weight:500;color:",";"],(function(e){return e.theme["font-family"]}),(function(e){return e.theme.color})),u=r.ZP.span.withConfig({displayName:"styles__HeaderIconContainer",componentId:"sc-3vqs3j-5"})(["display:inline-flex;font-size:16px;padding-left:6px;cursor:help;color:#888;"]),f=r.ZP.button.withConfig({displayName:"styles__SidebarButton",componentId:"sc-3vqs3j-6"})(["border:0px;background-color:inherit;margin:5px 5px 10px 5px;border-radius:2px;cursor:pointer;padding:2px;font-family:",";color:",";font-weight:400;text-transform:uppercase;font-size:14px;vertical-align:top;outline:0;"],(function(e){return e.theme["font-family"]}),(function(e){return e.selected?e.theme.selectedColor:e.theme.unselectedColor})),d=r.ZP.div.withConfig({displayName:"styles__SidebarSubtitle",componentId:"sc-3vqs3j-7"})(["font-family:",";margin:","px 0px 5px 0px;font-size:12px;font-weight:400;color:",";"],(function(e){return e.theme["font-family"]}),(function(e){return e.spaceAbove?"5":"0"}),(function(e){return e.theme.color})),p=(0,r.ZP)(d).withConfig({displayName:"styles__SidebarSubtitleFlex",componentId:"sc-3vqs3j-8"})(["display:flex;justify-content:space-between;"]),h=r.ZP.span.withConfig({displayName:"styles__SidebarIconContainer",componentId:"sc-3vqs3j-9"})(["padding-right:3px;font-size:16px;cursor:help;color:#888;"]),y=(0,r.ZP)(o.Z).withConfig({displayName:"styles__StyledTooltip",componentId:"sc-3vqs3j-10"})(["max-width:30vh;white-space:normal;line-height:1.2;padding:21px !important;z-index:1001 !important;& > br{margin-bottom:10px;}"])},87899:(e,n,t)=>{"use strict";t.d(n,{Z:()=>d});var r=t(82684),o=t(14179);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,n){return u=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},u(e,n)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}const d=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&u(e,n)}(p,e);var n,t,a,c,d=(a=p,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=f(a);if(c){var t=f(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===i(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,p),d.apply(this,arguments)}return n=p,(t=[{key:"getStyles",value:function(){return{base:{backgroundColor:"#FFFFFF",display:"inline-block",marginLeft:14,marginRight:0,marginTop:0,marginBottom:10,paddingLeft:6,paddingRight:6,paddingBottom:6,overflow:"hidden",position:"relative"},title:{fontFamily:o.Cc,color:o.I6,fontSize:16,marginLeft:0,marginTop:0,marginBottom:8,fontWeight:500,backgroundColor:"#FFFFFF",borderTop:"thin solid #BBB",minHeight:"15px"}}}},{key:"getStylesInfoCard",value:function(){return{base:{backgroundColor:"#FFFFFF",display:"inline-block",marginLeft:14,marginRight:0,marginTop:0,marginBottom:10,paddingLeft:6,paddingRight:6,paddingBottom:6,overflow:"hidden",position:"relative"},title:{fontFamily:o.Cc,color:"#fff",fontSize:16,marginLeft:0,marginTop:0,marginBottom:8,fontWeight:500,backgroundColor:"#FFFFFF"}}}},{key:"render",value:function(){var e=this.props.infocard?this.getStylesInfoCard():this.getStyles();return r.createElement("div",{id:"".concat(this.props.title,"Card"),style:l(l({},e.base),this.props.style)},r.createElement("div",{id:"CardTitle",style:l(l({},e.title),this.props.titleStyles)},this.props.title),r.createElement("div",{id:"CardContentContainer",style:{display:"flex",justifyContent:this.props.center?"center":"flex-start"}},this.props.children))}}])&&s(n.prototype,t),p}(r.Component)},80724:(e,n,t)=>{"use strict";t.d(n,{Z:()=>c,f:()=>l});var r=t(82684),o=t(87899),i=t(57617),a=function(e){var n=e.availableHeight,t=void 0!==n&&n;t||(t=isNaN(window.innerHeight)?window.clientHeight:window.innerHeight);var o={marginTop:"".concat(t/2-100,"px")};return r.createElement("img",{className:"spinner",src:i,alt:"loading",style:o})},l=function(e){var n=e.height,t=e.width;return r.createElement(o.Z,null,r.createElement("div",{style:{height:n,width:t}},r.createElement(a,{availableHeight:n})))};const c=a},69446:(e,n,t)=>{"use strict";t.d(n,{Fw:()=>v,Td:()=>f,Yo:()=>s,dX:()=>d,gH:()=>u,jP:()=>g,rG:()=>w,s7:()=>m,uN:()=>p,yQ:()=>c});var r=t(74001),o=t(37275),i=t(70570);function a(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(c)throw i}}}}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}t(91204);var c=function(e,n){var t="".concat(e,"_").concat(n).replace(/(\W+)/g,"-");return CSS.escape(t)},s=function e(n,t){t(n);var r=n.n;if(r.hasChildren&&void 0!==r.children){var o,i=a(r.children);try{for(i.s();!(o=i.n()).done;)e(o.value.shell,t)}catch(e){i.e(e)}finally{i.f()}}},u=function e(n,t,r){var o=n.n.children;if(!o||!o.length)return 0!==n.n.fullTipCount&&void 0!==r&&(r+=t(n)),n.displayOrder=r,n.displayOrderRange=[r,r],r;for(var i=o.length-1;i>=0;i--)r=e(o[i].shell,t,r);return n.displayOrder=o.reduce((function(e,n){return e+n.shell.displayOrder}),0)/o.length,n.displayOrderRange=[o[0].shell.displayOrder,o[o.length-1].shell.displayOrder],r},f=function(e){var n,t,r,o=e.nodes,l=e.focus,c=(t=o[0].n.children.filter((function(e){return 0!==e.fullTipCount})).length,r=l?o[0].n.tipCount:o[0].n.fullTipCount,1===t||r<10||2*t>r?0:r/20),s=function(e){return 1};if(l){var f=o[0].n.tipCount,d=o[0].n.fullTipCount,p=.8;p=Math.min(p,f/5);var h=(p=Math.max(p,f/d))*d/f,y=(1-p)*d/(d-f);n=!1,s=function(e){var t=e.visibility===i.m7||n?h:y;return n=e.visibility===i.m7,t}}var m,g=0,b=a(o[0].n.children);try{for(b.s();!(m=b.n()).done;){var v=m.value;0===v.fullTipCount?u(o[v.arrayIdx],s,void 0):(g=u(o[v.arrayIdx],s,g),g+=c)}}catch(e){b.e(e)}finally{b.f()}o[0].displayOrder=void 0,o[0].displayOrderRange=[void 0,void 0]},d=function(e){return e>1?Math.round(1e3*(e+Number.EPSILON))/1e3:e>.01?Math.round(1e4*(e+Number.EPSILON))/1e4:e.toExponential(3)},p=function(e){return e.shell.that.zoomNode.n.arrayIdx};function h(e,n,t){if("num_date"===t){var r=(e.shell.that.dateRange[1]-e.shell.that.dateRange[0])/50;return(0,o.rs)(e,"num_date")-r<(0,o.rs)(n,"num_date")}var i=(e.shell.that.xScale.domain()[1]-e.shell.that.nodes[0].depth)/50;return(0,o.KT)(e)-i<(0,o.KT)(n)}function y(e){var n,t;if(e.parent===e)return e;var r=(0,o.MS)(e,{});return(null==r||null===(n=r.nuc)||void 0===n||null===(t=n.unique)||void 0===t?void 0:t.length)>0?e.parent:y(e.parent)}var m=function(e,n,t){var r=e.parent;if("div"===n&&function(e){for(var n=Object.keys(e),t=n.length-1;t>=0;t--)if(n[t].startsWith("nuc:"))return!0;return!1}(t))return y(e);for(;h(e,r,n)&&r!==r.parent;)r=r.parent;return r};function g(e){return(0,r.Z)(e.domain())<=5}var b=function(e){return"__ROOT"===e.parent.name&&void 0!==e.parentInfo.original},v=function(e){return b(e)?e.parentInfo.original:e.parent},w=function(e){var n=e.map((function(e){return e.displayOrder})).reduce((function(e,n){return(null!=n?n:0)>e?n:e}),0);return function(e){return[n-e.displayOrder,b(e.n)?void 0:n-e.n.parent.shell.displayOrder]}}},14179:(e,n,t)=>{"use strict";t.d(n,{CA:()=>u,Cc:()=>i,H2:()=>p,I6:()=>c,PD:()=>o,PJ:()=>y,S5:()=>h,Vd:()=>s,Ws:()=>f,XD:()=>l,cq:()=>b,fp:()=>g,fu:()=>v,kU:()=>a,re:()=>d,ug:()=>m});var r=t(70570),o="Lato, Helvetica Neue, Helvetica, sans-serif",i="Lato, Helvetica Neue, Helvetica, sans-serif",a="Lato, Helvetica Neue, Helvetica, sans-serif",l="rgb(200, 200, 200)",c="#333",s="#888",u="#BBB",f="#F2F2F2",d="#89B77F",p={backgroundColor:"#FFF",fontFamily:a,width:r.HB-13,borderSpacing:0,fontSize:14,paddingLeft:"10px",border:"1px solid #ccc",height:36,appearance:"none",borderRadius:"4px",color:c,fontWeight:400,marginBottom:"3px"},h={border:"0px",backgroundColor:"inherit",marginLeft:0,marginTop:5,marginRight:10,marginBottom:5,borderRadius:2,cursor:"pointer",padding:2,fontFamily:a,color:c,fontWeight:400,textTransform:"uppercase",fontSize:14,verticalAlign:"top",outline:0},y={borderTop:"1px solid #BBB",borderLeft:"1px solid #CCC",borderRight:"1px solid #CCC",borderBottom:"1px solid #CCC",borderRadius:"0px 0px 3px 3px",paddingTop:3,paddingBottom:3,paddingLeft:6,paddingRight:6,backgroundColor:"#fff",fontWeight:400,color:c,fontFamily:a,fontSize:12,textTransform:"uppercase"},m={borderTop:"1px solid #BBB",borderLeft:"1px solid #CCC",borderRight:"1px solid #CCC",borderBottom:"1px solid #CCC",borderRadius:"0px 0px 3px 3px",paddingTop:3,paddingBottom:3,paddingLeft:6,paddingRight:6,backgroundColor:"#fff"},g={border:"none",backgroundColor:"inherit",padding:0,margin:0,cursor:"pointer",fontFamily:a,color:c,fontWeight:400,textTransform:"uppercase",fontSize:12},b={border:"none",backgroundColor:"inherit",padding:0,margin:0,cursor:"pointer",fontFamily:a,color:"#5097BA",fontWeight:400,textTransform:"uppercase",fontSize:12},v={branchInfoHeading:{fontSize:15,fontWeight:400,verticalAlign:"middle",padding:"5px"},buttonLink:{float:"right",fontFamily:a,fontSize:14,fontWeight:400,textDecoration:"none",pointerEvents:"auto",background:"none",color:"white",cursor:"pointer",textTransform:"uppercase",borderRadius:2,border:"1px solid #CCC",verticalAlign:"middle"},tooltip:{position:"relative",padding:5,color:"white",fontFamily:a,fontSize:14,lineHeight:1,fontWeight:300},modalContainer:{position:"absolute",width:"100%",height:"100%",pointerEvents:"all",top:0,left:0,zIndex:2e3,backgroundColor:"rgba(80, 80, 80, .20)",display:"flex",justifyContent:"center",alignItems:"center",wordWrap:"break-word",wordBreak:"break-word"},panel:{position:"relative",paddingLeft:30,padding:"5% 5%",borderRadius:5,backgroundColor:"rgba(55,55,55,0.9)",color:"white",fontFamily:a,fontSize:18,lineHeight:1,fontWeight:300,maxWidth:"80%",overflowY:"auto"},modalHeading:{fontSize:24,fontWeight:400},modalSubheading:{fontSize:20,fontWeight:400,marginTop:"20px",marginBottom:"20px"},tooltipHeading:{fontSize:18,fontWeight:400,marginBottom:"10px"},comment:{fontStyle:"italic",fontWeight:200,fontSize:14,marginTop:"10px"},topRightMessage:{fontStyle:"italic",fontWeight:200,fontSize:14,textAlign:"right",marginTop:"-20px"},list:{paddingLeft:15,listStyleType:"disc"},item:{paddingTop:4,paddingBottom:4,minWidth:130,verticalAlign:"top"},break:{marginBottom:"10px"}}},15212:(e,n,t)=>{"use strict";t.r(n),t(96866),t(81486),t(35666),t(32269);var r=t(82684),o=t(42374),i=t(4667);function a(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(t.length?" "+t.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function l(e){return!!e&&!!e[H]}function c(e){var n;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var n=Object.getPrototypeOf(e);if(null===n)return!0;var t=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return t===Object||"function"==typeof t&&Function.toString.call(t)===Y}(e)||Array.isArray(e)||!!e[W]||!!(null===(n=e.constructor)||void 0===n?void 0:n[W])||h(e)||y(e))}function s(e,n,t){void 0===t&&(t=!1),0===u(e)?(t?Object.keys:X)(e).forEach((function(r){t&&"symbol"==typeof r||n(r,e[r],e)})):e.forEach((function(t,r){return n(r,t,e)}))}function u(e){var n=e[H];return n?n.i>3?n.i-4:n.i:Array.isArray(e)?1:h(e)?2:y(e)?3:0}function f(e,n){return 2===u(e)?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function d(e,n,t){var r=u(e);2===r?e.set(n,t):3===r?e.add(t):e[n]=t}function p(e,n){return e===n?0!==e||1/e==1/n:e!=e&&n!=n}function h(e){return G&&e instanceof Map}function y(e){return V&&e instanceof Set}function m(e){return e.o||e.t}function g(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var n=K(e);delete n[H];for(var t=X(n),r=0;r<t.length;r++){var o=t[r],i=n[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(n[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),n)}function b(e,n){return void 0===n&&(n=!1),w(e)||l(e)||!c(e)||(u(e)>1&&(e.set=e.add=e.clear=e.delete=v),Object.freeze(e),n&&s(e,(function(e,n){return b(n,!0)}),!0)),e}function v(){a(2)}function w(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function O(e){var n=Z[e];return n||a(18,e),n}function S(){return U}function x(e,n){n&&(O("Patches"),e.u=[],e.s=[],e.v=n)}function A(e){E(e),e.p.forEach(B),e.p=null}function E(e){e===U&&(U=e.l)}function C(e){return U={p:[],l:U,h:e,m:!0,_:0}}function B(e){var n=e[H];0===n.i||1===n.i?n.j():n.g=!0}function j(e,n){n._=n.p.length;var t=n.p[0],r=void 0!==e&&e!==t;return n.h.O||O("ES5").S(n,e,r),r?(t[H].P&&(A(n),a(4)),c(e)&&(e=T(n,e),n.l||k(n,e)),n.u&&O("Patches").M(t[H].t,e,n.u,n.s)):e=T(n,t,[]),A(n),n.u&&n.v(n.u,n.s),e!==$?e:void 0}function T(e,n,t){if(w(n))return n;var r=n[H];if(!r)return s(n,(function(o,i){return D(e,r,n,o,i,t)}),!0),n;if(r.A!==e)return n;if(!r.P)return k(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=g(r.k):r.o,i=o,a=!1;3===r.i&&(i=new Set(o),o.clear(),a=!0),s(i,(function(n,i){return D(e,r,o,n,i,t,a)})),k(e,o,!1),t&&e.u&&O("Patches").N(r,t,e.u,e.s)}return r.o}function D(e,n,t,r,o,i,a){if(l(o)){var s=T(e,o,i&&n&&3!==n.i&&!f(n.R,r)?i.concat(r):void 0);if(d(t,r,s),!l(s))return;e.m=!1}else a&&t.add(o);if(c(o)&&!w(o)){if(!e.h.D&&e._<1)return;T(e,o),n&&n.A.l||k(e,o)}}function k(e,n,t){void 0===t&&(t=!1),!e.l&&e.h.D&&e.m&&b(n,t)}function _(e,n){var t=e[H];return(t?m(t):e)[n]}function P(e,n){if(n in e)for(var t=Object.getPrototypeOf(e);t;){var r=Object.getOwnPropertyDescriptor(t,n);if(r)return r;t=Object.getPrototypeOf(t)}}function I(e){e.P||(e.P=!0,e.l&&I(e.l))}function M(e){e.o||(e.o=g(e.t))}function R(e,n,t){var r=h(n)?O("MapSet").F(n,t):y(n)?O("MapSet").T(n,t):e.O?function(e,n){var t=Array.isArray(e),r={i:t?1:0,A:n?n.A:S(),P:!1,I:!1,R:{},l:n,t:e,k:null,o:null,j:null,C:!1},o=r,i=J;t&&(o=[r],i=Q);var a=Proxy.revocable(o,i),l=a.revoke,c=a.proxy;return r.k=c,r.j=l,c}(n,t):O("ES5").J(n,t);return(t?t.A:S()).p.push(r),r}function F(e){return l(e)||a(22,e),function e(n){if(!c(n))return n;var t,r=n[H],o=u(n);if(r){if(!r.P&&(r.i<4||!O("ES5").K(r)))return r.t;r.I=!0,t=N(n,o),r.I=!1}else t=N(n,o);return s(t,(function(n,o){r&&function(e,n){return 2===u(e)?e.get(n):e[n]}(r.t,n)===o||d(t,n,e(o))})),3===o?new Set(t):t}(e)}function N(e,n){switch(n){case 2:return new Map(e);case 3:return Array.from(e)}return g(e)}var L,U,z="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),G="undefined"!=typeof Map,V="undefined"!=typeof Set,q="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,$=z?Symbol.for("immer-nothing"):((L={})["immer-nothing"]=!0,L),W=z?Symbol.for("immer-draftable"):"__$immer_draftable",H=z?Symbol.for("immer-state"):"__$immer_state",Y=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),X="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,K=Object.getOwnPropertyDescriptors||function(e){var n={};return X(e).forEach((function(t){n[t]=Object.getOwnPropertyDescriptor(e,t)})),n},Z={},J={get:function(e,n){if(n===H)return e;var t=m(e);if(!f(t,n))return function(e,n,t){var r,o=P(n,t);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,t,n);var r=t[n];return e.I||!c(r)?r:r===_(e.t,n)?(M(e),e.o[n]=R(e.A.h,r,e)):r},has:function(e,n){return n in m(e)},ownKeys:function(e){return Reflect.ownKeys(m(e))},set:function(e,n,t){var r=P(m(e),n);if(null==r?void 0:r.set)return r.set.call(e.k,t),!0;if(!e.P){var o=_(m(e),n),i=null==o?void 0:o[H];if(i&&i.t===t)return e.o[n]=t,e.R[n]=!1,!0;if(p(t,o)&&(void 0!==t||f(e.t,n)))return!0;M(e),I(e)}return e.o[n]===t&&(void 0!==t||n in e.o)||Number.isNaN(t)&&Number.isNaN(e.o[n])||(e.o[n]=t,e.R[n]=!0),!0},deleteProperty:function(e,n){return void 0!==_(e.t,n)||n in e.t?(e.R[n]=!1,M(e),I(e)):delete e.R[n],e.o&&delete e.o[n],!0},getOwnPropertyDescriptor:function(e,n){var t=m(e),r=Reflect.getOwnPropertyDescriptor(t,n);return r?{writable:!0,configurable:1!==e.i||"length"!==n,enumerable:r.enumerable,value:t[n]}:r},defineProperty:function(){a(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){a(12)}},Q={};s(J,(function(e,n){Q[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}})),Q.deleteProperty=function(e,n){return Q.set.call(this,e,n,void 0)},Q.set=function(e,n,t){return J.set.call(this,e[0],n,t,e[0])};var ee=function(){function e(e){var n=this;this.O=q,this.D=!0,this.produce=function(e,t,r){if("function"==typeof e&&"function"!=typeof t){var o=t;t=e;var i=n;return function(e){var n=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return i.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(a))}))}}var l;if("function"!=typeof t&&a(6),void 0!==r&&"function"!=typeof r&&a(7),c(e)){var s=C(n),u=R(n,e,void 0),f=!0;try{l=t(u),f=!1}finally{f?A(s):E(s)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(e){return x(s,r),j(e,s)}),(function(e){throw A(s),e})):(x(s,r),j(l,s))}if(!e||"object"!=typeof e){if(void 0===(l=t(e))&&(l=e),l===$&&(l=void 0),n.D&&b(l,!0),r){var d=[],p=[];O("Patches").M(e,l,d,p),r(d,p)}return l}a(21,e)},this.produceWithPatches=function(e,t){if("function"==typeof e)return function(t){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return n.produceWithPatches(t,(function(n){return e.apply(void 0,[n].concat(o))}))};var r,o,i=n.produce(e,t,(function(e,n){r=e,o=n}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,o]})):[i,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var n=e.prototype;return n.createDraft=function(e){c(e)||a(8),l(e)&&(e=F(e));var n=C(this),t=R(this,e,void 0);return t[H].C=!0,E(n),t},n.finishDraft=function(e,n){var t=(e&&e[H]).A;return x(t,n),j(void 0,t)},n.setAutoFreeze=function(e){this.D=e},n.setUseProxies=function(e){e&&!q&&a(20),this.O=e},n.applyPatches=function(e,n){var t;for(t=n.length-1;t>=0;t--){var r=n[t];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}t>-1&&(n=n.slice(t+1));var o=O("Patches").$;return l(e)?o(e,n):this.produce(e,(function(e){return o(e,n)}))},e}(),ne=new ee;ne.produce,ne.produceWithPatches.bind(ne),ne.setAutoFreeze.bind(ne),ne.setUseProxies.bind(ne),ne.applyPatches.bind(ne),ne.createDraft.bind(ne),ne.finishDraft.bind(ne);var te=t(9717);function re(e){return function(n){var t=n.dispatch,r=n.getState;return function(n){return function(o){return"function"==typeof o?o(t,r,e):n(o)}}}}var oe=re();oe.withExtraArgument=re;const ie=oe;function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}var le,ce=(le=function(e,n){return le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},le(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}le(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),se=function(e,n){for(var t=0,r=n.length,o=e.length;t<r;t++,o++)e[o]=n[t];return e},ue=Object.defineProperty,fe=Object.defineProperties,de=Object.getOwnPropertyDescriptors,pe=Object.getOwnPropertySymbols,he=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable,me=function(e,n,t){return n in e?ue(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t},ge=function(e,n){for(var t in n||(n={}))he.call(n,t)&&me(e,t,n[t]);if(pe)for(var r=0,o=pe(n);r<o.length;r++)t=o[r],ye.call(n,t)&&me(e,t,n[t]);return e},be=function(e,n){return fe(e,de(n))},ve="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===ae(arguments[0])?te.qC:te.qC.apply(null,arguments)};function we(e,n){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(n){var o=n.apply(void 0,t);if(!o)throw new Error("prepareAction did not return an object");return ge(ge({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:t[0]}}return t.toString=function(){return""+e},t.type=e,t.match=function(n){return n.type===e},t}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Oe=function(e){function n(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=e.apply(this,t)||this;return Object.setPrototypeOf(o,n.prototype),o}return ce(n,e),Object.defineProperty(n,Symbol.species,{get:function(){return n},enumerable:!1,configurable:!0}),n.prototype.concat=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return e.prototype.concat.apply(this,n)},n.prototype.prepend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&Array.isArray(e[0])?new(n.bind.apply(n,se([void 0],e[0].concat(this)))):new(n.bind.apply(n,se([void 0],e.concat(this))))},n}(Array),Se=function(e){function n(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=e.apply(this,t)||this;return Object.setPrototypeOf(o,n.prototype),o}return ce(n,e),Object.defineProperty(n,Symbol.species,{get:function(){return n},enumerable:!1,configurable:!0}),n.prototype.concat=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return e.prototype.concat.apply(this,n)},n.prototype.prepend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&Array.isArray(e[0])?new(n.bind.apply(n,se([void 0],e[0].concat(this)))):new(n.bind.apply(n,se([void 0],e.concat(this))))},n}(Array);var xe=["name","message","stack","code"],Ae=function(e,n){this.payload=e,this.meta=n},Ee=function(e,n){this.payload=e,this.meta=n},Ce=function(e){if("object"===ae(e)&&null!==e){for(var n={},t=0,r=xe;t<r.length;t++){var o=r[t];"string"==typeof e[o]&&(n[o]=e[o])}return n}return{message:String(e)}};function Be(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}!function(){function e(e,n,t){var r=we(e+"/fulfilled",(function(e,n,t,r){return{payload:e,meta:be(ge({},r||{}),{arg:t,requestId:n,requestStatus:"fulfilled"})}})),o=we(e+"/pending",(function(e,n,t){return{payload:void 0,meta:be(ge({},t||{}),{arg:n,requestId:e,requestStatus:"pending"})}})),i=we(e+"/rejected",(function(e,n,r,o,i){return{payload:o,error:(t&&t.serializeError||Ce)(e||"Rejected"),meta:be(ge({},i||{}),{arg:r,requestId:n,rejectedWithValue:!!o,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),a="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign((function(e){return function(l,c,s){var u,f=(null==t?void 0:t.idGenerator)?t.idGenerator(e):function(e){void 0===e&&(e=21);for(var n="",t=e;t--;)n+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return n}(),d=new a;function p(e){u=e,d.abort()}var h=function(){return a=this,h=null,y=function(){var a,h,y,m,g,b;return function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}(this,(function(v){switch(v.label){case 0:return v.trys.push([0,4,,5]),null===(w=m=null==(a=null==t?void 0:t.condition)?void 0:a.call(t,e,{getState:c,extra:s}))||"object"!==ae(w)||"function"!=typeof w.then?[3,2]:[4,m];case 1:m=v.sent(),v.label=2;case 2:if(!1===m||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return g=new Promise((function(e,n){return d.signal.addEventListener("abort",(function(){return n({name:"AbortError",message:u||"Aborted"})}))})),l(o(f,e,null==(h=null==t?void 0:t.getPendingMeta)?void 0:h.call(t,{requestId:f,arg:e},{getState:c,extra:s}))),[4,Promise.race([g,Promise.resolve(n(e,{dispatch:l,getState:c,extra:s,requestId:f,signal:d.signal,abort:p,rejectWithValue:function(e,n){return new Ae(e,n)},fulfillWithValue:function(e,n){return new Ee(e,n)}})).then((function(n){if(n instanceof Ae)throw n;return n instanceof Ee?r(n.payload,f,e,n.meta):r(n,f,e)}))])];case 3:return y=v.sent(),[3,5];case 4:return b=v.sent(),y=b instanceof Ae?i(null,f,e,b.payload,b.meta):i(b,f,e),[3,5];case 5:return t&&!t.dispatchConditionRejection&&i.match(y)&&y.meta.condition||l(y),[2,y]}var w}))},new Promise((function(e,n){var t=function(e){try{o(y.next(e))}catch(e){n(e)}},r=function(e){try{o(y.throw(e))}catch(e){n(e)}},o=function(n){return n.done?e(n.value):Promise.resolve(n.value).then(t,r)};o((y=y.apply(a,h)).next())}));var a,h,y}();return Object.assign(h,{abort:p,requestId:f,arg:e,unwrap:function(){return h.then(Be)}})}}),{pending:o,rejected:i,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}(),Object.assign;var je="listenerMiddleware";we(je+"/add"),we(je+"/removeAll"),we(je+"/remove"),"function"==typeof queueMicrotask&&queueMicrotask.bind("undefined"!=typeof window?window:void 0!==t.g?t.g:globalThis);"undefined"!=typeof window&&window.requestAnimationFrame&&window.requestAnimationFrame,function(){function e(e,n){var t=o[e];return t?t.enumerable=n:o[e]=t={configurable:!0,enumerable:n,get:function(){var n=this[H];return J.get(n,e)},set:function(n){var t=this[H];J.set(t,e,n)}},t}function n(e){for(var n=e.length-1;n>=0;n--){var o=e[n][H];if(!o.P)switch(o.i){case 5:r(o)&&I(o);break;case 4:t(o)&&I(o)}}}function t(e){for(var n=e.t,t=e.k,r=X(t),o=r.length-1;o>=0;o--){var i=r[o];if(i!==H){var a=n[i];if(void 0===a&&!f(n,i))return!0;var l=t[i],c=l&&l[H];if(c?c.t!==a:!p(l,a))return!0}}var s=!!n[H];return r.length!==X(n).length+(s?0:1)}function r(e){var n=e.k;if(n.length!==e.t.length)return!0;var t=Object.getOwnPropertyDescriptor(n,n.length-1);if(t&&!t.get)return!0;for(var r=0;r<n.length;r++)if(!n.hasOwnProperty(r))return!0;return!1}var o={};!function(e,n){Z[e]||(Z[e]=n)}("ES5",{J:function(n,t){var r=Array.isArray(n),o=function(n,t){if(n){for(var r=Array(t.length),o=0;o<t.length;o++)Object.defineProperty(r,""+o,e(o,!0));return r}var i=K(t);delete i[H];for(var a=X(i),l=0;l<a.length;l++){var c=a[l];i[c]=e(c,n||!!i[c].enumerable)}return Object.create(Object.getPrototypeOf(t),i)}(r,n),i={i:r?5:4,A:t?t.A:S(),P:!1,I:!1,R:{},l:t,t:n,k:o,o:null,g:!1,C:!1};return Object.defineProperty(o,H,{value:i,writable:!0}),o},S:function(e,t,o){o?l(t)&&t[H].A===e&&n(e.p):(e.u&&function e(n){if(n&&"object"==typeof n){var t=n[H];if(t){var o=t.t,i=t.k,a=t.R,l=t.i;if(4===l)s(i,(function(n){n!==H&&(void 0!==o[n]||f(o,n)?a[n]||e(i[n]):(a[n]=!0,I(t)))})),s(o,(function(e){void 0!==i[e]||f(i,e)||(a[e]=!1,I(t))}));else if(5===l){if(r(t)&&(I(t),a.length=!0),i.length<o.length)for(var c=i.length;c<o.length;c++)a[c]=!1;else for(var u=o.length;u<i.length;u++)a[u]=!0;for(var d=Math.min(i.length,o.length),p=0;p<d;p++)i.hasOwnProperty(p)||(a[p]=!0),void 0===a[p]&&e(i[p])}}}}(e.p[0]),n(e.p))},K:function(e){return 4===e.i?t(e):r(e)}})}();var Te=t(60686),De=t(70570),ke=t(15742);function _e(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Pe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_e(Object(t),!0).forEach((function(n){Ie(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_e(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ie(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Me(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var Re=t(65414),Fe=t(74671),Ne=t(29473),Le=t(47843),Ue=t(682);function ze(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ge(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ze(Object(t),!0).forEach((function(n){Ve(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ze(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ve(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var qe={loaded:!1,blocks:null,blockIdx:void 0,pathname:void 0,display:!1,title:void 0};var $e=t(37275);function We(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function He(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?We(Object(t),!0).forEach((function(n){Ye(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):We(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ye(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Xe=t(69587),Ke=t(2011),Ze=t(58852),Je=Xe.parse(window.location.search),Qe={language:"en"};var en=t(14273);const nn=(0,te.UY)({metadata:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loaded:!1,metadata:null,rootSequence:void 0,identicalGenomeMapAcrossBothTrees:!1,rootSequenceSecondTree:void 0,colorOptions:De.uY},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.c5:return Object.assign({},n,{loaded:!1});case ke.Ue:case ke.er:case ke.RX:return t.metadata;case ke.JS:var r=Object.assign({},n.colorings,t.newColorings),o=n.geoResolutions;return t.newGeoResolution&&(o=o?[].concat(function(e){if(Array.isArray(e))return Me(e)}(e=o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return Me(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Me(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t.newGeoResolution]):[t.newGeoResolution]),Object.assign({},n,{colorings:r,geoResolutions:o});case ke.ah:var i=Pe({},n.colorings);return t.nodeAttrsToRemove.forEach((function(e){e in i&&delete i[e]})),Pe(Pe({},n),{},{colorings:i});case ke.TZ:if(n.buildUrl)return n;var a=function(e){if(e){for(var n=window.location.pathname.replace(/^\//,"").replace(/\/$/,"").split(":")[0],t=0;t<e.length;t++)if(e[t].request===n)return e[t].buildUrl;return!1}}(t.data.datasets);return a?Object.assign({},n,{buildUrl:a}):n;case ke.s4:return Pe(Pe({},n),{},{rootSequence:t.data});case ke.YU:return Object.assign({},n,{identicalGenomeMapAcrossBothTrees:!1,rootSequenceSecondTree:void 0});default:return n}},tree:Re.Z,frequencies:Fe.Z,controls:Le.ZP,entropy:Ne.Z,browserDimensions:Ue.Z,notifications:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stack:[],counter:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke.Dv:return(e=n.stack.slice()).push(function(e){return{message:e.message||"",details:e.details||"",notificationType:e.notificationType,classes:["notification",e.notificationType],id:e.id}}(t)),Object.assign({},n,{counter:t.id,stack:e});case ke.Kf:return(e=n.stack.slice()).splice(function(e,n){for(var t=0,r=e.length;t<r;t++)if(e[t].id===n)return t;return-1}(e,t.id),1),Object.assign({},n,{stack:e});default:return n}},narrative:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ke.c5:return Ge(Ge({},e),{},{loaded:!1,display:!1});case ke.RX:if(n.narrative){var t=n.narrative;return{loaded:!0,display:!0,blocks:t,title:t[0].__html.match(/>(.+?)</)[1],pathname:window.location.pathname,blockIdx:n.query.n||0}}return e;case ke.Ue:return Object.prototype.hasOwnProperty.call(n.query,"n")?Ge(Ge({},e),{},{blockIdx:n.query.n}):e;case ke.$f:return e.loaded?Ge(Ge({},e),{},{display:n.narrativeOn}):(console.warn("Attempted to toggle narrative that was not loaded"),e);default:return e}},treeToo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Re.v)(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ke.c5:return He(He({},e),{},{loaded:!1});case ke.Ue:case ke.RX:return n.treeToo?n.treeToo:(0,Re.v)();case ke.er:return n.treeToo}if(!e.loaded)return e;switch(n.type){case ke.YU:return(0,Re.v)();case ke.OV:case ke.st:return n.tangleTipLookup?He(He({},e),{},{tangleTipLookup:n.tangleTipLookup,visibility:n.visibilityToo,visibilityVersion:n.visibilityVersionToo,branchThickness:n.branchThicknessToo,branchThicknessVersion:n.branchThicknessVersionToo,idxOfInViewRootNode:n.idxOfInViewRootNodeToo,idxOfFilteredRoot:n.idxOfFilteredRootToo}):e;case ke.S:return He(He({},e),{},{tipRadii:n.dataToo,tipRadiiVersion:n.version});case ke.KA:return n.nodeColorsToo?He(He({},e),{},{nodeColors:n.nodeColorsToo,nodeColorsVersion:n.version}):e;case ke.JS:return(0,$e.tX)(e.nodes,n.newNodeAttrs),e;case ke.ah:return(0,$e.rL)(e.nodes,n.nodeAttrsToRemove),e;default:return e}},general:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{defaults:Qe,displayComponent:(0,Ze.y)("entryPage")?(0,Ze.R)("entryPage"):(0,Ke.NL)(window.location.pathname),errorMessage:void 0,pathname:window.location.pathname,language:Je.lang?Je.lang:Qe.language,mobileDisplay:window.innerWidth<De.ly},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ke.cD:var t={displayComponent:n.displayComponent,errorMessage:n.errorMessage};return n.path&&(t.pathname=n.path),Object.assign({},e,t);case ke.oE:return Object.assign({},e,{pathname:n.pathname});case ke.s3:return Object.assign({},e,{language:n.data});case ke.RX:var r=n.metadata.displayDefaults.language||Qe.language;return Object.assign({},e,{defaults:Object.assign({},e.defaults,{language:r}),language:Je.lang?Je.lang:r});case ke.ZQ:return Object.assign({},e,{mobileDisplay:n.value});default:return e}},jsonCache:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{jsons:{}},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ke.tz:return{jsons:Object.assign(e.jsons,n.jsons)};case ke.RX:return n.preserveCache?e:{jsons:{}};default:return e}},measurements:en.Z});var tn=t(12225),rn=t(72061);function on(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function an(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?on(Object(t),!0).forEach((function(n){ln(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):on(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ln(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function cn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function sn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var un=[function(e){return function(n){return function(t){if(t.type!==ke.KA)return n(t);var r=e.getState(),o=r.controls,i=r.metadata,a=r.tree;if("scatter"!==o.layout||!(0,tn.O$)(o.colorBy))return n(t);var l=an({},o.scatterVariables),c=!1,s=(0,tn.O3)(t.colorBy);if(s&&(c=!0,"gt"===l.x&&(l.xLabel=s,(0,rn.Sn)(l,t.colorScale,"x")),"gt"===l.y&&(l.yLabel=s,(0,rn.Sn)(l,t.colorScale,"y"))),!s&&("gt"===l.x||"gt"===l.y)){c=!0;var u=(0,rn.dQ)(i.colorings,t.colorBy);if("gt"===l.y){var f=(0,rn.FC)(u,[t.colorBy],l.x),d=f.value,p=f.label;l.y=d,l.yLabel=p,(0,rn.Sg)(l,"y",o,a,i)}if("gt"===l.x){var h=(0,rn.FC)(u,[t.colorBy],l.y),y=h.value,m=h.label;l.x=y,l.xLabel=m,(0,rn.Sg)(l,"x",o,a,i)}}return n(c?an(an({},t),{},{scatterVariables:l}):t)}}},Te.n,function(e){return function(e){return function(n){var t;switch(n.type){case ke.Ue:case ke.RX:t=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?cn(Object(t),!0).forEach((function(n){sn(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n),t.controls.performanceFlags=function(e){var n,t,r=e.tree,o=new Map,i=null==r||null===(n=r.nodes)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.fullTipCount;return o.set("skipTreeAnimation",i>4e3),o}(n)}return e(t||n)}}}],fn=function(e){var n,t=function(e){return function(e){void 0===e&&(e={});var n=e.thunk,t=void 0===n||n,r=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new Oe);return t&&(function(e){return"boolean"==typeof e}(t)?r.push(ie):r.push(ie.withExtraArgument(t.extraArgument))),r}(e)},r=e||{},o=r.reducer,i=void 0===o?void 0:o,a=r.middleware,l=void 0===a?t():a,c=r.devTools,s=void 0===c||c,u=r.preloadedState,f=void 0===u?void 0:u,d=r.enhancers,p=void 0===d?void 0:d;if("function"==typeof i)n=i;else{if(!function(e){if("object"!==ae(e)||null===e)return!1;var n=Object.getPrototypeOf(e);if(null===n)return!0;for(var t=n;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return n===t}(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');n=(0,te.UY)(i)}var h=l;"function"==typeof h&&(h=h(t));var y=te.md.apply(void 0,h),m=te.qC;s&&(m=ve(ge({trace:!1},"object"===ae(s)&&s)));var g=new Se(y),b=g;Array.isArray(p)?b=se([y],p):"function"==typeof p&&(b=p(g));var v=m.apply(void 0,b);return(0,te.MT)(n,f,v)}({reducer:nn,middleware:function(e){return e({immutableCheck:{warnAfter:100,ignoredPaths:["tree.nodes","tree.vaccines","treeToo.nodes","treeToo.vaccines"]},serializableCheck:!1}).concat(un)},devTools:!1});const dn=fn;var pn,hn,yn=t(85917),mn=t(38506),gn=t(47329),bn=t.n(gn),vn=t(64167),wn=t.n(vn);function On(e){return On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(e)}function Sn(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e,n){return xn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},xn(e,n)}function An(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function En(e){return En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},En(e)}function Cn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const Bn=(0,i.$j)((function(e){return{displayNarrative:e.narrative.display,canTogglePanelLayout:e.controls.canTogglePanelLayout,controlDefaults:e.controls.defaults}}))((hn=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&xn(e,n)}(a,e);var n,t,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=En(r);if(o){var t=En(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===On(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return An(e)}(this,e)});function a(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),Cn(An(n=i.call(this,e)),"onURLChanged",(function(){return n.props.dispatch((0,Ke.oO)())})),n}return n=a,(t=[{key:"componentDidMount",value:function(){window.addEventListener("resize",wn()(this.handleResizeByDispatching.bind(this),500,{leading:!0,trailing:!0})),window.addEventListener("popstate",this.onURLChanged)}},{key:"handleResizeByDispatching",value:function(){var e=this;this.props.dispatch((function(n,t){var r=t().browserDimensions.browserDimensions,o={width:window.innerWidth,height:window.innerHeight,docHeight:window.document.body.clientHeight};n({type:ke.eO,data:o}),e.props.displayNarrative||"sidebarOpen"in e.props.controlDefaults||(r.width>De.ly&&o.width<De.ly?n({type:ke.gZ,value:!1}):r.width<De.ly&&o.width>De.ly&&n({type:ke.gZ,value:!0})),r.width>De.ly&&o.width<De.ly?n({type:ke.ZQ,value:!0}):r.width<De.ly&&o.width>De.ly&&n({type:ke.ZQ,value:!1}),!e.props.displayNarrative&&e.props.canTogglePanelLayout&&(r.width<De.Tr&&o.width>=De.Tr?n({type:ke.Lv,data:"grid",notInURLState:!0}):r.width>De.Tr&&o.width<=De.Tr&&n({type:ke.Lv,data:"full",notInURLState:!0}))}))}},{key:"render",value:function(){return null}}])&&Sn(n.prototype,t),a}(r.Component),Cn(hn,"propTypes",{dispatch:bn().func.isRequired}),pn=hn))||pn;var jn,Tn=t(56410);function Dn(e){return Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dn(e)}function kn(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _n(e,n){return _n=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},_n(e,n)}function Pn(e){return Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pn(e)}const In=(0,i.$j)()(jn=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&_n(e,n)}(a,e);var n,t,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Pn(r);if(o){var t=Pn(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===Dn(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return n=a,(t=[{key:"UNSAFE_componentWillMount",value:function(){this.props.dispatch((0,Tn.y4)()),this.props.dispatch({type:ke.cD,displayComponent:"main"})}},{key:"render",value:function(){return null}}])&&kn(n.prototype,t),a}(r.Component))||jn;var Mn=t(80724),Rn=t(44391);function Fn(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var Nn,Ln=function(e){if(Array.isArray(e))return e}(Nn=(0,Ze.y)("plausibleDataDomain")?[(0,Ze.R)("plausibleDataDomain"),"https://plausible.io/js/script.js"]:[void 0,void 0])||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),2!==i.length);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(Nn)||function(e,n){if(e){if("string"==typeof e)return Fn(e,2);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Fn(e,2):void 0}}(Nn)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Un=Ln[0],zn=Ln[1];const Gn=(0,i.$j)((function(e){return{pathname:e.general.pathname,metadata:e.metadata,general:e.general}}))((function(e){var n=e.metadata,t="auspice";(0,Ze.y)("browserTitle")&&(t=(0,Ze.R)("browserTitle"));var o=window.location.pathname.replace(/^\//g,"").replace(/\/$/g,"").replace(/\//g," / ").replace(/:/g," : ");return o&&(t=t+" / "+o),r.createElement(Rn.ql,null,r.createElement("title",null,t),n&&n.title?r.createElement("meta",{name:"description",content:n.title}):null,Un&&zn&&r.createElement("script",{async:!0,defer:!0,"data-domain":Un,src:zn}))}));var Vn,qn,$n=t(84981);function Wn(e){return Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wn(e)}function Hn(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,n){return Yn=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},Yn(e,n)}function Xn(e){return Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xn(e)}var Kn,Zn,Jn,Qn=(0,i.$j)((function(e){return{stack:e.notifications.stack,pageWidth:e.browserDimensions.browserDimensions.width}}))((qn=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Yn(e,n)}(l,e);var n,t,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Xn(o);if(i){var t=Xn(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===Wn(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this,e)}return n=l,t=[{key:"closeIcon",value:function(e){var n=this;return r.createElement("div",{onClick:function(){n.removeNotificationCallback(e.id)},style:{cursor:"pointer"},className:"close-icon"},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 15 15"},r.createElement("polygon",{id:"Shape",points:"7.48 8 11.23 11.75 9.75 13.23 6 9.48 2.25 13.23 0.77 11.75 4.52 8 0.77 4.25 2.25 2.77 6 6.52 9.75 2.77 11.23 4.25"})))}},{key:"generateEl",value:function(e){return r.createElement("div",{key:e.id,className:e.classes.join(" ")},r.createElement("div",{className:"icon icon-main"},function(e){switch(e){case"info":return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 16 16"},r.createElement("path",{id:"Shape",d:"M14,1H2C1.5,1,1,1.4,1,2v8c0,0.6,0.5,1,1,1h2v3.5L7.5,11H14c0.6,0,1-0.4,1-1V2C15,1.4,14.6,1,14,1L14,1z"}));case"warning":return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 16 16"},r.createElement("path",{d:"M8.865,1.51999998 C8.685,1.20999998 8.355,1.01999998 7.995,1.01999998 C7.635,1.01999998 7.305,1.20999998 7.125,1.51999998 L0.275000001,13.5 C0.0950000006,13.81 0.0950000006,14.19 0.275000001,14.5 C0.465000001,14.81 0.795000001,15 1.145,15 L14.845,15 C15.205,15 15.535,14.81 15.705,14.5 C15.875,14.19 15.885,13.81 15.715,13.5 L8.865,1.51999998 Z M8.995,13 L6.995,13 L6.995,11 L8.995,11 L8.995,13 L8.995,13 Z M8.995,9.99999998 L6.995,9.99999998 L6.995,5.99999998 L8.995,5.99999998 L8.995,9.99999998 L8.995,9.99999998 Z",id:"Shape"}));case"success":return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 13 16"},r.createElement("polygon",{id:"Shape",points:"12 5 4 13 0 9 1.5 7.5 4 10 10.5 3.5"}));case"error":return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 13 16"},r.createElement("path",{d:"M5.05,0.31 C5.86,2.48 5.46,3.69 4.53,4.62 C3.55,5.67 1.98,6.45 0.9,7.98 C-0.55,10.03 -0.8,14.51 4.43,15.68 C2.23,14.52 1.76,11.16 4.13,9.07 C3.52,11.1 4.66,12.4 6.07,11.93 C7.46,11.46 8.37,12.46 8.34,13.6 C8.32,14.38 8.03,15.04 7.21,15.41 C10.63,14.82 11.99,11.99 11.99,9.85 C11.99,7.01 9.46,6.63 10.74,4.24 C9.22,4.37 8.71,5.37 8.85,6.99 C8.94,8.07 7.83,8.79 6.99,8.32 C6.32,7.91 6.33,7.13 6.93,6.54 C8.18,5.31 8.68,2.45 5.05,0.32 L5.03,0.3 L5.05,0.31 Z",id:"Shape"}));default:return""}}(e.notificationType)),r.createElement("div",{className:"content"},r.createElement("div",{className:"message item"},e.message),r.createElement("div",{className:"detail item"},r.createElement("div",{className:"detail-content"},"string"==typeof e.details?e.details:e.details.map((function(e){return r.createElement("div",{key:e},e)}))))),"error"===e.notificationType?this.closeIcon(e):null)}},{key:"removeNotificationCallback",value:function(e){this.props.dispatch({type:ke.Kf,id:e})}},{key:"render",value:function(){var e=this;return this.props.pageWidth<600?null:r.createElement($n.CSSTransitionGroup,{className:"notifications",transitionName:"notification",transitionEnterTimeout:500,transitionLeaveTimeout:500,style:{zIndex:2e4}},this.props.stack.map((function(n){return e.generateEl(n)})))}}],t&&Hn(n.prototype,t),l}(r.Component),Kn=qn,Zn="propTypes",Jn={stack:bn().array.isRequired,dispatch:bn().func.isRequired,pageWidth:bn().number.isRequired},Zn in Kn?Object.defineProperty(Kn,Zn,{value:Jn,enumerable:!0,configurable:!0,writable:!0}):Kn[Zn]=Jn,Vn=qn))||Vn;const et=Qn;function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}var tt;function rt(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,n){return ot=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},ot(e,n)}function it(e){return it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},it(e)}var at=(0,r.lazy)((function(){return Promise.all([t.e(205),t.e(215),t.e(862),t.e(569)]).then(t.bind(t,3569))})),lt=(0,r.lazy)((function(){return Promise.all([t.e(205),t.e(862),t.e(236)]).then(t.bind(t,41236))})),ct=(0,r.lazy)((function(){return t.e(978).then(t.bind(t,45978))})),st=(0,r.lazy)((function(){return Promise.all([t.e(205),t.e(35)]).then(t.bind(t,76035))})),ut=(0,i.$j)((function(e){return{displayComponent:e.general.displayComponent}}))(tt=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ot(e,n)}(l,e);var n,t,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=it(o);if(i){var t=it(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return function(e,n){if(n&&("object"===nt(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return n=l,(t=[{key:"render",value:function(){switch(this.props.displayComponent){case"main":return r.createElement(r.Suspense,{fallback:r.createElement(Mn.Z,null)},r.createElement(at,null));case"splash":return r.createElement(r.Suspense,{fallback:null},r.createElement(lt,null));case"status":return r.createElement(r.Suspense,{fallback:r.createElement(Mn.Z,null)},r.createElement(ct,null));case"debugNarrative":return r.createElement(r.Suspense,{fallback:r.createElement(Mn.Z,null)},r.createElement(st,null));case"datasetLoader":return r.createElement(In,null);default:return console.error("reduxStore.general.displayComponent is invalid (".concat(this.props.displayComponent,")")),r.createElement(lt,null)}}}])&&rt(n.prototype,t),l}(r.Component))||tt;const ft=(0,mn.w)((function(){return r.createElement("div",null,r.createElement(Gn,null),r.createElement(Bn,null),r.createElement(et,null),r.createElement(ut,null))}));var dt=t(75805),pt=t(18489);t(43858),t(58950),t(42915),t(2667),t(99842),t(62991),t(51597),window.NEXTSTRAIN||(window.NEXTSTRAIN={}),(0,yn.K_)(),dt.Z.use(pt.Db).init({resources:{},lng:"en",fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},defaultNS:"translation"});for(var ht=function(){var e=mt[yt];t(59848)("./".concat(e,".json")).then((function(n){return dt.Z.addResourceBundle("en",e,n.default)}))},yt=0,mt=["language","sidebar","translation"];yt<mt.length;yt++)ht();o.render(r.createElement(i.zt,{store:dn},r.createElement(ft,null)),document.getElementById("root"))},60686:(e,n,t)=>{"use strict";t.d(n,{T:()=>p,n:()=>h});var r=t(69587),o=t(15742),i=t(58640),a=t(47843),l=t(70570),c=t(12225),s=t(6461);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){d(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var p="__strain__",h=function(e){return function(n){return function(t){var u=e.getState(),d=n(t),h=r.parse(window.location.search),y=window.location.pathname;switch(t.type){case o.RX:case o.Ue:if("debugNarrative"===u.general.displayComponent)break;0===(h=t.query).n&&delete h.n,h.tt&&delete h.tt;break;case o.Ct:h.branchLabel=u.controls.defaults.selectedBranchLabel===t.value?void 0:t.value;break;case o.sJ:h.showBranchLabels=t.value?"all":void 0;break;case o.l8:var m=u.entropy.selectedCds===l.BJ?l.BJ:u.entropy.selectedCds.name,g=(0,c.O$)(u.controls.colorBy)&&(0,c.kW)(u.controls.colorBy,u.entropy.genomeMap).gene,b=u.entropy.genomeMap[0].range;if((g&&g!==l.BJ||m!==l.BJ)&&g!==m){var v=[void 0,void 0];h.gmin=v[0],h.gmax=v[1]}else h.gmin=t.zoomc[0]<=b[0]?void 0:t.zoomc[0],h.gmax=t.zoomc[1]>=b[1]?void 0:t.zoomc[1];break;case o.KA:h.c=t.colorBy===u.controls.defaults.colorBy?void 0:t.colorBy;break;case o.EV:h.ci="ci"in h?void 0:null;break;case o.MY:if(t.trait===l.vD){h.gt=(0,c.FQ)(t.values);break}var w=t.trait===l.Ac?"s":"f_".concat(t.trait);h[w]=t.values.filter((function(e){return e.active})).map((function(e){return e.value})).join(",");break;case o.v8:var O=t.scatterVariables;h.scatterX="scatter"===t.layout&&u.controls.distanceMeasure!==O.x?O.x:void 0,h.scatterY="scatter"===t.layout&&u.controls.colorBy!==O.y?O.y:void 0,h.branches="scatter"!==t.layout&&"clock"!==t.layout||!1!==O.showBranches?void 0:"hide",h.regression="scatter"===t.layout&&!0===O.showRegression?"show":"clock"===t.layout&&!1===O.showRegression?"hide":void 0,h.l=t.layout===u.controls.defaults.layout?void 0:t.layout,(0,a.xi)(u.controls.temporalConfidence.exists,u.controls.distanceMeasure,h.l)||(h.ci=void 0);break;case o.R7:h.r=t.data===u.controls.defaults.geoResolution?void 0:t.data;break;case o.Jv:t.data===u.controls.defaults.showTransmissionLines?h.transmissions=void 0:h.transmissions=t.data?"show":"hide";break;case o.s3:h.lang=t.data===u.general.defaults.language?void 0:t.data;break;case o.T3:h.m=t.data===u.controls.defaults.distanceMeasure?void 0:t.data,(0,a.xi)(u.controls.temporalConfidence.exists,h.m,u.controls.layout)||(h.ci=void 0);break;case o.Lv:h.p=!0===t.notInURLState?void 0:t.data;break;case o.gZ:"sidebar"in h&&(h.sidebar=void 0);break;case o.Nn:"legend"in h&&(h.legend=void 0);break;case o.bg:u.controls.defaults.panels.length===t.panelsToDisplay.length&&0===u.controls.defaults.panels.filter((function(e){return!t.panelsToDisplay.includes(e)})).length?h.d=void 0:h.d=t.panelsToDisplay.join(","),h.p=t.panelLayout;break;case o.W2:h.tl=t.key===u.controls.defaults.tipLabelKey?void 0:t.key===l.Ac?p:t.key;break;case o.OV:"Pause"===u.controls.animationPlayPauseButton?(h.dmin=void 0,h.dmax=void 0):(h.dmin=t.dateMin===u.controls.absoluteDateMin?void 0:t.dateMin,h.dmax=t.dateMax===u.controls.absoluteDateMax?void 0:t.dateMax);break;case o.st:h.label=t.cladeName?t.cladeName:void 0;break;case o.if:"Play"===t.data&&(h.animate=void 0,h.dmin=u.controls.dateMin===u.controls.absoluteDateMin?void 0:u.controls.dateMin,h.dmax=u.controls.dateMax===u.controls.absoluteDateMax?void 0:u.controls.dateMax);break;case o.Hb:var S=(0,i.hT)(window.NEXTSTRAIN.animationStartPoint),x=(0,i.hT)(window.NEXTSTRAIN.animationEndPoint),A=u.controls.mapAnimationShouldLoop?"1":"0",E=u.controls.mapAnimationCumulative?"1":"0",C=u.controls.mapAnimationDurationInMilliseconds;h.animate="".concat(S,",").concat(x,",").concat(A,",").concat(E,",").concat(C);break;case o.cD:t.query?h=t.query:t.displayComponent!==u.general.displayComponent&&(h={});break;case o.$f:if("debugNarrative"===u.general.displayComponent)break;!0===t.narrativeOn?h={n:u.narrative.blockIdx}:!1===t.narrativeOn&&(h=r.parse(u.narrative.blocks[u.narrative.blockIdx].query));break;case o.z:case o.FI:h=f(f({},h=(0,s.C$)(h,t.queryParams)),t.queryParams);break;case o.cn:case o.jr:case o.Q5:case o.r7:h=f(f({},h),t.queryParams)}switch(t.type){case o.RX:if("string"==typeof t.pathnameShouldBe&&!t.narrative){y=t.pathnameShouldBe;break}if(t.tree.name&&t.treeToo&&t.treeToo.name&&!t.narrative){var B="".concat(t.tree.name,":").concat(t.treeToo.name);window.location.pathname.includes(B)||(y=B)}break;case o.$f:if("debugNarrative"===u.general.displayComponent)break;!0===t.narrativeOn?y=u.narrative.pathname:!1===t.narrativeOn&&(y=u.narrative.blocks[u.narrative.blockIdx].dataset);break;case o.cD:"main"===t.displayComponent||"datasetLoader"===t.displayComponent||"splash"===t.displayComponent?y=t.path||y:y.startsWith("/".concat(t.displayComponent))||(y=t.displayComponent);break;case o.YU:y=y.split(":")[0];break;case o.er:var j=t.tree.name,T=t.treeToo.name;y=j.concat(":",T)}Object.keys(h).filter((function(e){return""===h[e]})).forEach((function(e){return delete h[e]})),u.narrative.display&&Object.keys(h).filter((function(e){return"n"!==e})).forEach((function(e){return delete h[e]}));var D=r.stringify(h).replace(/%2C/g,",").replace(/%2F/g,"/").replace(/%3A/g,":");if(D&&(D="?"+D),y.startsWith("/")||(y="/"+y),y!==window.location.pathname||D!==window.location.search){var k=y;D&&(k+=D),t.pushState?window.history.pushState({},"",k):window.history.replaceState({},"",k),n({type:o.oE,pathname:y})}else y!==u.general.pathname&&t.type===o.cD&&n({type:o.oE,pathname:y});return d}}}},682:(e,n,t)=>{"use strict";t.d(n,{Z:()=>i,j:()=>o});var r=t(15742),o=function(){return{width:window.innerWidth,height:window.innerHeight,docHeight:window.document.body.clientHeight}};const i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{browserDimensions:o()},n=arguments.length>1?arguments[1]:void 0;return n.type===r.eO?Object.assign({},e,{browserDimensions:n.data}):e}},47843:(e,n,t)=>{"use strict";t.d(n,{TK:()=>y,ZP:()=>g,lU:()=>h,xi:()=>m});var r=t(58640),o=t(70570),i=t(15742),a=t(682),l=t(73606),c=t(59180);function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){p(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var h=function(){var e={distanceMeasure:o.cJ,layout:o.$j,focus:o.xE,geoResolution:o.Eq,filters:{},filtersInFooter:[],colorBy:o.VK,selectedBranchLabel:"none",tipLabelKey:o.Ac,showTransmissionLines:!0},n={sidebarOpen:window.innerWidth>o.ly,setDefault:!1};n.setDefault&&(e.sidebarOpen=n.sidebarOpen);var t=(0,r.hT)((0,r.IV)()-o.Zk),i=(0,r.ow)(),l=(0,r.O$)(t),c=(0,r.O$)(i);return{defaults:e,available:void 0,canTogglePanelLayout:!0,temporalConfidence:{exists:!1,display:!1,on:!1},layout:e.layout,scatterVariables:{},distanceMeasure:e.distanceMeasure,focus:e.focus,dateMin:t,dateMinNumeric:l,dateMax:i,dateMaxNumeric:c,absoluteDateMin:t,absoluteDateMinNumeric:l,absoluteDateMax:i,absoluteDateMaxNumeric:c,colorBy:e.colorBy,colorByConfidence:!1,colorScale:void 0,coloringsPresentOnTree:new Set,coloringsPresentOnTreeWithConfidence:new Set,explodeAttr:void 0,selectedBranchLabel:"none",showAllBranchLabels:!1,selectedNode:null,canRenderBranchLabels:!0,analysisSlider:!1,geoResolution:e.geoResolution,filters:JSON.parse(JSON.stringify(e.filters)),filtersInFooter:JSON.parse(JSON.stringify(e.filtersInFooter)),modal:null,quickdraw:!1,mapAnimationDurationInMilliseconds:3e4,mapAnimationStartDate:null,mapAnimationCumulative:!1,mapAnimationShouldLoop:!1,animationPlayPauseButton:"Play",panelsAvailable:[],panelsToDisplay:[],panelLayout:(0,a.j)().width>o.Tr?"grid":"full",tipLabelKey:e.tipLabelKey,showTreeToo:!1,showTangle:!1,zoomMin:void 0,zoomMax:void 0,branchLengthsToDisplay:"divAndDate",sidebarOpen:n.sidebarOpen,showOnlyPanels:!1,showTransmissionLines:!0,normalizeFrequencies:!0,measurementsGroupBy:void 0,measurementsDisplay:void 0,measurementsShowOverallMean:void 0,measurementsShowThreshold:void 0,measurementsColorGrouping:void 0,measurementsFilters:{},performanceFlags:new Map}},y={measurementsGroupBy:void 0,measurementsDisplay:"mean",measurementsShowOverallMean:!0,measurementsShowThreshold:!0,measurementsFilters:{},measurementsColorGrouping:void 0},m=function(e,n,t){return e&&"num_date"===n&&"rect"===t};const g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case i.Ue:case i.RX:return n.controls;case i.TZ:return Object.assign({},e,{available:n.data});case i.g1:return Object.assign({},e,{explodeAttr:n.explodeAttr,colorScale:Object.assign({},e.colorScale,{visibleLegendValues:n.visibleLegendValues})});case i.Ct:return Object.assign({},e,{selectedBranchLabel:n.value});case i.sJ:return Object.assign({},e,{showAllBranchLabels:n.value});case i.v8:return Object.assign({},e,{layout:n.layout,canRenderBranchLabels:n.canRenderBranchLabels,scatterVariables:n.scatterVariables,temporalConfidence:Object.assign({},e.temporalConfidence,{display:m(e.temporalConfidence.exists,e.distanceMeasure,n.data),on:!1})});case i.T3:var t={distanceMeasure:n.data,branchLengthsToDisplay:e.branchLengthsToDisplay};return m(e.temporalConfidence.exists,n.data,e.layout)?t.temporalConfidence=Object.assign({},e.temporalConfidence,{display:!0}):t.temporalConfidence=Object.assign({},e.temporalConfidence,{display:!1,on:!1}),Object.assign({},e,t);case i.Ab:return d(d({},e),{},{focus:!e.focus});case i.OV:var a={quickdraw:n.quickdraw};n.dateMin&&(a.dateMin=n.dateMin,a.dateMinNumeric=n.dateMinNumeric),n.dateMax&&(a.dateMax=n.dateMax,a.dateMaxNumeric=n.dateMaxNumeric);var u=d(d({},e.colorScale),{},{visibleLegendValues:n.visibleLegendValues});return d(d(d({},e),a),{},{colorScale:u});case i.I_:return Object.assign({},e,{absoluteDateMin:n.data,absoluteDateMinNumeric:(0,r.O$)(n.data)});case i.u7:return Object.assign({},e,{absoluteDateMax:n.data,absoluteDateMaxNumeric:(0,r.O$)(n.data)});case i.Dg:return Object.assign({},e,{mapAnimationDurationInMilliseconds:n.data});case i.zp:return Object.assign({},e,{mapAnimationCumulative:n.data});case i.nm:return Object.assign({},e,{mapAnimationShouldLoop:n.data});case i.if:return Object.assign({},e,{quickdraw:"Play"!==n.data,animationPlayPauseButton:n.data});case i.b1:return Object.assign({},e,{mapAnimationStartDate:n.data});case i.Lv:return Object.assign({},e,{panelLayout:n.data});case i.W2:return d(d({},e),{},{tipLabelKey:n.key});case i.er:return n.controls;case i.bg:return Object.assign({},e,{panelsToDisplay:n.panelsToDisplay,panelLayout:n.panelLayout,canTogglePanelLayout:n.canTogglePanelLayout});case i.KA:var f=Object.assign({},e,{colorBy:n.colorBy,colorScale:n.colorScale,colorByConfidence:(0,l.ID)(e,n.colorBy)});return n.scatterVariables&&(f.scatterVariables=n.scatterVariables),f;case i.R7:return Object.assign({},e,{geoResolution:n.data});case i.c7:var p,y=((null===(p=e.filters)||void 0===p?void 0:p[o.Ac])||[]).find((function(e){return e.value===n.name})),g=void 0===y?null:y.active?"active":"inactive",b={name:n.name,idx:n.idx,existingFilterState:g,isBranch:n.isBranch,treeId:n.treeId};return d(d({},e),{},{selectedNode:b});case i.q$:return d(d({},e),{},{selectedNode:null});case i.MY:var v=Object.assign({},e.filters,{});n.values.length?v[n.trait]=n.values:delete v[n.trait];var w=e.selectedNode;if(w){var O,S=null==v||null===(O=v[o.Ac])||void 0===O?void 0:O.find((function(e){return e.value===w.name}));S&&S.active||(w=null)}return Object.assign({},e,{filters:v,selectedNode:w});case i.EV:return Object.assign({},e,{temporalConfidence:Object.assign({},e.temporalConfidence,{on:!e.temporalConfidence.on})});case i.i0:return Object.assign({},e,{modal:n.modal||null});case i.YU:return Object.assign({},e,{showTreeToo:!1,showTangle:!1,canTogglePanelLayout:(0,c.px)(e.panelsAvailable),panelsToDisplay:e.panelsAvailable.slice()});case i.Rj:return e.showTreeToo?Object.assign({},e,{showTangle:!e.showTangle}):e;case i.gZ:return Object.assign({},e,{sidebarOpen:n.value});case i.Nn:return Object.assign({},e,{legendOpen:n.value});case i.JS:for(var x=0,A=Object.keys(n.newColorings);x<A.length;x++){var E=A[x];e.coloringsPresentOnTree.add(E)}var C=Object.assign({},e,{coloringsPresentOnTree:e.coloringsPresentOnTree,filters:e.filters});return n.newGeoResolution&&!e.panelsAvailable.includes("map")&&(C=d(d({},C),{},{geoResolution:n.newGeoResolution.key,canTogglePanelLayout:(0,c.px)([].concat(s(e.panelsToDisplay),["map"])),panelsAvailable:[].concat(s(e.panelsAvailable),["map"]),panelsToDisplay:[].concat(s(e.panelsToDisplay),["map"])})),C;case i.ah:var B=new Set(e.coloringsPresentOnTree);return n.nodeAttrsToRemove.forEach((function(e){B.delete(e)})),d(d({},e),{},{coloringsPresentOnTree:B});case i.st:var j=Object.assign({},e.colorScale,{visibleLegendValues:n.visibleLegendValues});return Object.assign({},e,{colorScale:j});case i.Jv:return Object.assign({},e,{showTransmissionLines:n.data});case i.HS:return d(d({},e),{},{normalizeFrequencies:n.normalizeFrequencies});case i.yZ:return Object.hasOwnProperty.call(n,"normalizeFrequencies")?Object.assign({},e,{normalizeFrequencies:n.normalizeFrequencies}):e;case i.z:case i.r5:case i.cn:case i.jr:case i.Q5:case i.r7:case i.FI:return d(d({},e),n.controls);default:return e}}},29473:(e,n,t)=>{"use strict";t.d(n,{Z:()=>c,t:()=>l});var r=t(15742);function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var l=function(){return i({},{loaded:!1,showCounts:!1})};const c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case r.c5:return{loaded:!1,showCounts:!1};case r.Ue:case r.RX:return n.entropy;case r.Rn:return Object.assign({},e,{loaded:!0,bars:n.data,maxYVal:n.maxYVal});case r.bg:return n.entropyData?i(i({},e),{},{bars:n.entropyData,maxYVal:n.entropyMaxYVal}):e;case r.M0:return n.entropyData?i(i({},e),{},{onScreen:n.onScreen,bars:n.entropyData,maxYVal:n.entropyMaxYVal}):i(i({},e),{},{onScreen:n.onScreen});case r.pM:return Object.assign({},e,{showCounts:n.showCounts});case r.fE:return i(i({},e),n);default:return e}}},74671:(e,n,t)=>{"use strict";t.d(n,{P:()=>o,Z:()=>i});var r=t(15742),o=function(){return{loaded:!1,data:void 0,pivots:void 0,matrix:void 0,projection_pivot:void 0,version:0}};const i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case r.Ue:case r.HS:return n.frequencies?n.frequencies:e;case r.yZ:return Object.assign({},e,{loaded:!0,matrix:n.matrix,version:e.version+1});case r.c5:return o();default:return e}}},14273:(e,n,t)=>{"use strict";t.d(n,{Z:()=>c,h:()=>l});var r=t(15742);function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var l=function(){return{error:void 0,loaded:!1,defaultCollectionKey:void 0,collections:void 0,collectionToDisplay:void 0}};const c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case r.RX:case r.Ue:return i({},n.measurements);case r.z:return e.loaded?i(i({},e),{},{collectionToDisplay:n.collectionToDisplay}):e;default:return e}}},59305:(e,n,t)=>{"use strict";t.d(n,{Jw:()=>s,R4:()=>l,RX:()=>f,Xr:()=>u,js:()=>c});var r=t(70570);function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var l=["raw","mean"],c=function(e){return l.includes(e)};function s(e){var n;if(void 0!==e[r.$s]&&e.strain&&void 0!==e.value)return i(i({},e),{},(a(n={},r.$s,e[r.$s]),a(n,"strain",e.strain),a(n,"value",e.value),n));throw new Error("Measurement is partial.")}function u(e){try{return s(e),!0}catch(e){return!1}}function f(e){if(e.fields&&e.filters&&e.groupings&&e.key&&e.measurements&&e.x_axis_label)return i(i({},e),{},{fields:e.fields,filters:e.filters,groupings:e.groupings,key:e.key,measurements:e.measurements,x_axis_label:e.x_axis_label});throw new Error("Collection is partial.")}},65414:(e,n,t)=>{"use strict";t.d(n,{Z:()=>u,v:()=>s});var r=t(96139),o=t(37275),i=t(15742);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var s=function(){return{loaded:!1,nodes:null,name:void 0,visibility:null,visibilityVersion:0,nodeColors:null,nodeColorsVersion:0,tipRadii:null,tipRadiiVersion:0,branchThickness:null,branchThicknessVersion:0,vaccines:!1,version:0,idxOfInViewRootNode:0,totalStateCounts:{},observedMutations:{},availableBranchLabels:[],selectedClade:void 0}};const u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s(),n=arguments.length>1?arguments[1]:void 0;switch(n.type){case i.Ue:case i.RX:return n.tree;case i.c5:return l(l({},e),{},{loaded:!1});case i.g1:case i.OV:case i.st:var t={visibility:n.visibility,visibilityVersion:n.visibilityVersion,branchThickness:n.branchThickness,branchThicknessVersion:n.branchThicknessVersion,idxOfInViewRootNode:n.idxOfInViewRootNode,idxOfFilteredRoot:n.idxOfFilteredRoot,cladeName:n.cladeName,selectedClade:n.cladeName};return l(l({},e),t);case i.S:return l(l({},e),{},{tipRadii:n.data,tipRadiiVersion:n.version});case i.KA:return l(l({},e),{},{nodeColors:n.nodeColors,nodeColorsVersion:n.version});case i.er:return n.tree;case i.JS:(0,o.tX)(e.nodes,n.newNodeAttrs);var a=new Set(e.nodeAttrKeys);Object.keys(n.newColorings).forEach((function(e){return a.add(e)}));var c=Object.keys(n.newColorings).filter((function(e){return"continuous"!==n.newColorings[e].type}));return l(l({},e),{},{totalStateCounts:l(l({},e.totalStateCounts),(0,r.CU)(e.nodes,c,!1,!0)),nodeAttrKeys:a});case i.ah:(0,o.rL)(e.nodes,n.nodeAttrsToRemove);var u=new Set(e.nodeAttrKeys),f=l({},e.totalStateCounts);return n.nodeAttrsToRemove.forEach((function(e){u.delete(e),e in f&&delete f[e]})),l(l({},e),{},{totalStateCounts:f,nodeAttrKeys:u});default:return e}}},9045:(e,n,t)=>{"use strict";t.d(n,{BG:()=>h,Jp:()=>S,X6:()=>x,Yv:()=>p,bE:()=>d,ii:()=>w,lX:()=>y,m6:()=>O,qL:()=>v});var r=t(76367),o=t(22220),i=t(88215),a=t(12225),l=t(37275),c=t(70570),s=t(58640);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var d=function(e,n){var t=0,o=0,i=0;e.forEach((function(e){var a=(0,r.B8)(n[e.arrayIdx]);t+=a.r,o+=a.g,i+=a.b}));var a=e.length;return(0,r.B8)(t/a,o/a,i/a).toString()},p=function(e,n,t,r){var o,i=e.map((function(e){return(0,l.rs)(e,t)}));return n&&n.forEach((function(e){return i.push((0,l.rs)(e,t))})),(o=new Set(i),i=function(e){if(Array.isArray(e))return f(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,n){if(e){if("string"==typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter((function(e){return-1===r.indexOf(e)})).filter((function(e){return(0,c.mg)(e)}))},h=function(e,n){return(0,a.O$)(n.colorBy)&&n.genotype?e.currentGt:(0,l.rs)(e,n.colorBy)},y=function(e,n){return e&&e.nodes&&n&&n.colorBy?e.nodes.map((function(e){return h(e,n)})).map((function(e){return n.scale(e)})):null},m="#BBB",g=(0,i.Z)().exponent([.6]).domain([0,2]).range([.4,1]).clamp(!0),b=g.copy().range([0,.9]),v=function(e,n,t,i){return!0===t?e.nodeColors.map(n?function(n,t){var c=(0,l.rs)(e.nodes[t],i,{entropy:!0});return c?(0,r.B8)((0,o.ZP)(n,m)(g(c))).toString():a(n)}:function(n,t){if(!e.nodes[t].hasChildren){var a=(0,l.rs)(e.nodes[t],i,{entropy:!0});return a?(0,r.B8)((0,o.ZP)(n,m)(b(a))).toString():n}}):n?e.nodeColors.map(a):e.nodeColors;function a(e){return(0,r.B8)((0,o.ZP)(e,m)(.6)).toString()}},w=function(e){var n=(0,r.Ym)(e);return n.s*=1.8,n.l/=1.2,(0,r.B8)(n).toString()},O=function(e){return(0,r.B8)(e).brighter([.65]).toString()},S=function(e,n){if((0,a.O$)(n)){var t=(0,a.kW)(n);return t.aa?"Genotype at ".concat(t.gene," site ").concat(t.positions.join(", ")):"Nucleotide at position ".concat(t.positions.join(", "))}return void 0===e[n]?"":e[n].title};function x(e){switch(u(e)){case"number":return e;case"string":return(0,s.O$)(e,!0);default:return}}},88982:(e,n,t)=>{"use strict";t.d(n,{pu:()=>C,Sb:()=>k,xk:()=>D});var r=t(86491),o=t(84055),i=t(74001),a=t(47854),l=t(76367),c=t(61746),s=t(70570),u=t(96139),f=t(9045),d=t(12225),p=t(37275);function h(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=m(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw i}}}}function y(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,n){if(e){if("string"==typeof e)return g(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(e,n):void 0}}function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var b=function(e,n,t,r){var o=t.length,i=t.map((function(){})),a=t.map((function(){return[]}));!function e(r,l){var c,s=l;if(r.branch_attrs&&r.branch_attrs.mutations&&r.branch_attrs.mutations[n]&&(c=r.branch_attrs.mutations[n]),c&&c.length)for(var u=0;u<c.length;u++)for(var f=c[u],d=parseInt(f.slice(1,f.length-1),10),p=0;p<o;p++)t[p]===d&&(i[p]||(i[p]=f.slice(0,1)),s[p]=f.slice(f.length-1,f.length));r.currentGt=y(s);for(var m=0;m<o;m++)s[m]||a[m].push(r);if(r.hasChildren){var g,b=h(r.children);try{for(b.s();!(g=b.n()).done;)e(g.value,y(s))}catch(e){b.e(e)}finally{b.f()}}}(e[0],t.map((function(){}))),r&&i.forEach((function(e,o){try{var a=r[n][t[o]-1];e?e!==a&&console.error("Mismatch between inferred ancestral state for ".concat(n,"@").concat(t[o]," of ").concat(e," and the root-sequence JSON value of ").concat(a)):i[o]=a}catch(e){console.error("Error accessing the root-sequence data",e.message)}}));for(var l=0;l<o;l++){var c,s=h(a[l]);try{for(s.s();!(c=s.n()).done;)c.value.currentGt[l]=i[l]}catch(e){s.e(e)}finally{s.f()}}e.forEach((function(e){e.currentGt=e.currentGt.join(" / ")}))},v=function(e,n,t){var r=Array.from(e);return"clade_membership"===n?r.sort():r.sort((function(e,n){return t.get(e)===t.get(n)?e<n?-1:1:t.get(e)>t.get(n)?-1:1})),r};function w(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||x(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=x(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw i}}}}function S(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,n){if(e){if("string"==typeof e)return A(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?A(e,n):void 0}}function A(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var E="#ADB1B3",C=function(e,n,t,o,i){try{if("none"===e)throw new Error("colorBy is 'none'. Falling back to a default, uninformative color scale.");if(!t.nodes)throw new Error("calcColorScale called before tree is ready.");var a,c,u,h,y,m,g=i.colorings,v=o?o.nodes:void 0,O=!1;(0,d.O$)(e)&&(m=(0,d.kW)(e),b(t.nodes,m.gene,m.positions,i.rootSequence),o&&i.identicalGenomeMapAcrossBothTrees&&b(o.nodes,m.gene,m.positions,i.rootSequenceSecondTree));var x=m?"categorical":g[e].type;if(m){var A=function(e,n,t){var o=function(e,n,t){var r={};function o(e){var n=(0,p.rs)(e,"num_date");void 0===n&&(n=0),(!r[e.currentGt]||n<r[e.currentGt])&&(r[e.currentGt]=n)}e.forEach(o),n&&n.forEach(o);var i,a=Object.keys(r);return a.sort((function(e,n){return r[e]<r[n]?-1:1})),i=t?a.filter((function(e){return"X"!==e&&"-"!==e})):a.filter((function(e){return"X"!==e&&"-"!==e&&"N"!==e})),-1!==a.indexOf("-")&&i.push("-"),-1===a.indexOf("N")||t||i.push("N"),-1!==a.indexOf("X")&&i.push("X"),i}(e,n,t),i=t?o.filter((function(e){return"X"!==e&&"-"!==e&&""!==e})):o.filter((function(e){return"X"!==e&&"-"!==e&&"N"!==e&&""!==e})),a=[void 0].concat(S(o)),c=[E].concat(S(s.p3.slice(0,i.length)));return-1!==o.indexOf("-")&&c.push((0,l.B8)(217,217,217).formatHex()),-1===o.indexOf("N")||t||c.push((0,l.B8)(153,153,153).formatHex()),-1!==o.indexOf("X")&&c.push((0,l.B8)(102,102,102).formatHex()),{colorScale:(0,r.PK)().domain(a).range(c),legendValues:o}}(t.nodes,null==o?void 0:o.nodes,m.aa);c=A.legendValues,a=A.colorScale,y=S(c)}else{if(!g||!g[e])throw new Error("Error in logic for processing colorings");if("temporal"===x||"num_date"===e){var C=function(e,n,t,o){var i,a,l=M(n,(function(e){return void 0!==(0,f.X6)(e)}));if(l)i=l.map((function(e){return(0,f.X6)(e[0])})),a=l.map((function(e){return e[1]}));else{var c=(0,f.X6)((0,p.rs)(t[0],e)),u=t.filter((function(e){return!e.hasChildren})).map((function(n){return(0,f.X6)((0,p.rs)(n,e))}));if(o){var d=(0,f.X6)((0,p.rs)(o[0],e));d<c&&(c=d),u.concat(o.filter((function(e){return!e.hasChildren})).map((function(n){return(0,f.X6)((0,p.rs)(n,e))})))}u=u.sort(),i=[c];for(var h=Math.trunc(u.length/9),y=0;y<9;y++)i.push(u[h*y]);i.push(u[u.length-1]),i=S(new Set(i)),a=s.O9[i.length]}var m=(0,r.BY)().domain(i).range(a),g=l?i.slice():i.slice(1);Object.is(g[0],-0)&&(g[0]=0);return{continuous:!0,colorScale:function(e){var n=(0,f.X6)(e);return void 0===n?E:m(n)},legendBounds:I(g),legendValues:g}}(e,g[e].scale,t.nodes,v);O=C.continuous,a=C.colorScale,u=C.legendBounds,c=C.legendValues}else if("continuous"===x){var D=function(e,n,t,o){var i,a,l=j(t,o,e),c=M(n,(function(e){return"number"==typeof e}));c?(i=c.map((function(e){return e[0]})),a=c.map((function(e){return e[1]}))):(a=s.O9[9],i=s.NB.map((function(e){return l[0]+e*(l[1]-l[0])})));var u=(0,r.BY)().domain(i).range(a),f=l[1]-l[0],d=f>5?2:3,p=s.NB.map((function(e){return parseFloat((l[0]+e*f).toFixed(d))})).filter((function(e,n,t){return t.indexOf(e)===n}));return Object.is(p[0],-0)&&(p[0]=0),{continuous:!0,colorScale:function(e){return(0,s.mg)(e)?u(e):E},legendBounds:I(p),legendValues:p}}(e,g[e].scale,t.nodes,v);O=D.continuous,a=D.colorScale,u=D.legendBounds,c=D.legendValues}else if(g[e].scale){var R=B(e,g[e].scale,t.nodes,v);O=R.continuous,c=R.legendValues,a=R.colorScale}else if("categorical"===x)a=_(c=T(t.nodes,v,e),"categorical");else if("ordinal"===x){var F=function(e,n,t){var o,i,a=T(n,t,e),l=!1;if(a.every((function(e){return Number.isInteger(e)}))){var c=j(n,t,e);if(c[1]-c[0]<=s.O9.length){a=[];for(var u=c[0];u<=c[1];u++)a.push(u);o=_(a,"ordinal")}else{console.warn("Using a continous scale as there are too many values in the ordinal scale"),l=!0;var f=(0,r.BY)().domain(s.NB.map((function(e){return c[0]+e*(c[1]-c[0])}))).range(s.O9[9]);o=function(e){return(0,s.mg)(e)?f(e):E};var d=c[1]-c[0],p=d>5?2:3;a=s.NB.map((function(e){return parseFloat((c[0]+e*d).toFixed(p))})),Object.is(a[0],-0)&&(a[0]=0),i=I(a)}}else console.warn("Using a categorical scale as currently ordinal scales must only contain integers"),l=!1,o=_(a,"categorical");return{continuous:l,colorScale:o,legendValues:a,legendBounds:i}}(e,t.nodes,v);O=F.continuous,a=F.colorScale,c=F.legendValues,u=F.legendBounds}else{if("boolean"!==x)throw new Error("ColorBy ".concat(e," invalid type -- ").concat(x));c=T(t.nodes,v,e),a=P}"continuous"!==x&&(y=c.slice());var N=function(e,n,t){if(!Array.isArray(e))return!1;if("temporal"===t)return console.error("Auspice currently doesn't allow a JSON-provided 'legend' for temporal colorings, however all provided 'scale' entries will be shown in the legend"),!1;var r="continuous"===t?e.filter((function(e){return"number"==typeof e.value})):e.filter((function(e){return n.includes(e.value)}));if(!r.length)return console.warn("Provided legend info for this coloring doesn't match any values in the tree!"),!1;var o=r.map((function(e){return e.value})),i=new Map(r.map((function(e){return"string"==typeof e.display||"number"==typeof e.display?[e.value,e.display]:[e.value,e.value]}))),a={};if("continuous"===t){var l=r.map((function(e){return e.bounds})).filter((function(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]})).map((function(e){var n=w(e,2),t=n[0],r=n[1];return t>r?[r,t]:[t,r]})).filter((function(e,n,t){for(var r=w(e,2),o=r[0],i=r[1],a=0;a<n;a++){var l=t[a];if(o<l[1]&&o>l[0]||i<l[1]&&i>l[0])return console.warn("Legend bounds must not overlap. Check [".concat(o,", ").concat(i,"] and [").concat(l[0],", ").concat(l[1],"]. Auspice will create its own bounds.")),!1}return!0}));l.length===o.length?o.forEach((function(e,n){a[e]=l[n]})):a=I(o)}return{legendValues:o,legendLabels:i,legendBounds:a}}(g[e].legend,c,x);N&&(c=N.legendValues,h=N.legendLabels,u=N.legendBounds)}var L=k({colorBy:e,scaleType:x,genotype:m,legendValues:c,treeNodes:t.nodes,treeTooNodes:v,visibility:t.visibility,visibilityToo:o?o.visibility:void 0});return{scale:a,continuous:O,colorBy:e,version:void 0===n.colorScale?1:n.colorScale.version+1,legendValues:c,legendBounds:u,legendLabels:h,genotype:m,domain:y,scaleType:x,visibleLegendValues:L}}catch(t){var U=t instanceof Error?t.message:String(t);return console.error("Error creating color scales. Details:\n",U),{scale:function(){return E},continuous:!1,colorBy:e,version:void 0===n.colorScale?1:n.colorScale.version+1,legendValues:["unknown"],legendBounds:{unknown:[-1/0,1/0]},genotype:null,scaleType:null,domain:[],visibleLegendValues:["unknown"]}}};function B(e,n,t,o){if(!Array.isArray(n))throw new Error("".concat(e," has defined a scale which wasn't an array"));var i,l=new Map,s=O(n);try{for(s.s();!(i=s.n()).done;){var u=w(i.value,2),d=u[0],p=u[1];l.has(d)?console.warn("User provided color scale contained a duplicate entry for ".concat(e,"→").concat(d," which is ignored.")):l.set(d,p)}}catch(e){s.e(e)}finally{s.f()}var h,y,m,g=Array.from(l).map((function(e){return e[0]})),b=(0,f.Yv)(t,o,e,g);if(b.length){g=g.concat(b);var v=(h=b.length,y=["#BDC3C6","#868992"],m=(0,r.BY)().domain([0,h]).interpolate(c.Z).range(y),(0,a.Z)(0,h).map(m));b.forEach((function(e,n){l.set(e,v[n])}))}return{continuous:!1,legendValues:g,colorScale:function(e){return l.get(e)||E}}}function j(e,n,t){var r=(n?e.concat(n):e.slice()).map((function(e){return(0,p.rs)(e,t)})).filter((function(e){return void 0!==e})).filter((function(e,n,t){return t.indexOf(e)===n})).map((function(e){return+e}));return[(0,o.Z)(r),(0,i.Z)(r)]}function T(e,n,t){var r=(0,u.CU)(e,[t],!1,!1)[t];if(n){var o,i=O((0,u.CU)(n,[t],!1,!1)[t].keys());try{for(i.s();!(o=i.n()).done;){var a=o.value,l=r.get(a)||0;r.set(a,l+1)}}catch(e){i.e(e)}finally{i.f()}}return v(Array.from(r.keys()).filter((function(e){return(0,s.mg)(e)})),t,r)}function D(e,n,t,r){return(0,d.O$)(e)?(console.warn("legend ordering for genotypes not yet implemented"),[]):"continuous"===n.type?(console.warn("legend ordering for continuous scales not yet implemented"),[]):n.scale?B(e,n.scale,t,r).legendValues:T(t,r,e)}function k(e){var n=e.colorBy,t=e.scaleType,r=e.genotype,o=e.legendValues,i=e.treeNodes,a=e.treeTooNodes,l=e.visibility,c=e.visibilityToo;if(l&&("ordinal"===t||"categorical"===t)){var u=i.filter((function(e,n){return!e.hasChildren&&l[n]===s.m7})).map((function(e){return r?e.currentGt:(0,p.rs)(e,n)}));if(a&&c){var f=a.filter((function(e,n){return!e.hasChildren&&c[n]===s.m7})).map((function(e){return r?e.currentGt:(0,p.rs)(e,n)}));u=[].concat(S(u),S(f))}var d=new Set(u);return o.filter((function(e){return d.has(e)}))}return o.slice()}function _(e,n){var t;"ordinal"!==n&&"categorical"!==n||(t=e.length<s.O9.length?s.O9[e.length].slice():s.O9[s.O9.length-1].slice());var o=(0,r.PK)().domain(e).range(t);return function(n){return void 0===n||-1===e.indexOf(n)?E:o(n)}}function P(e){return(0,s.mg)(e)?["true","1","yes"].includes(String(e).toLowerCase())?"#4C90C0":"#CBB742":E}function I(e){var n=function(e,n){return e+.5*(n-e)},t=e.length,r={};r[e[0]]=[-1/0,n(e[0],e[1])];for(var o=1;o<t-1;o++)r[e[o]]=[n(e[o-1],e[o]),n(e[o],e[o+1])];return r[e[t-1]]=[n(e[t-2],e[t-1]),1/0],r}function M(e,n){if(!Array.isArray(e))return!1;var t=e.filter((function(e){return Array.isArray(e)&&2===e.length&&n(e[0])&&"string"==typeof e[1]&&e[1].match(/#[0-9A-Fa-f]{6}/)}));return!(t.length<2)&&t}},58640:(e,n,t)=>{"use strict";t.d(n,{IV:()=>d,O$:()=>s,OO:()=>y,UW:()=>a,c8:()=>h,hT:()=>c,ow:()=>f,ti:()=>m,vA:()=>l});var r=t(70570);function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var a=function(e){return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"))},l=function(e){var n=e%1,t=parseInt(e,10),r=n*(p(t)?366:365),o=new Date(t,0,1);return t<100&&o.setFullYear(t),new Date(o.getTime()+24*r*60*60*1e3)},c=function(e){if(e<0)return Math.round(e).toString();var n=l(e);return a(n)},s=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"==typeof e){if("-"===e[0]){var t=-parseFloat(e.substring(1).split("-")[0]);return isNaN(t)?void 0:t}var r=e.split("-");if(3===r.length){var i=o(r,3),a=i[0],l=i[1],c=i[2],s=r.map((function(e){return parseInt(e,10)})),f=o(s,3),d=f[0],p=f[1],h=f[2];if(e.includes("X")){if(!n)return;if(a.includes("X"))return;if(l.includes("X")){if(isNaN(d)||"XX"!==l||"XX"!==c)return;return d+.5}if(isNaN(d)||isNaN(p)||"XX"!==c)return;var y=[u(d,p,1),u(12===p?d+1:d,12===p?1:p+1,1)];return y[0]+(y[1]-y[0])/2}return u(d,p,h)}}};function u(e,n,t){return e+((Date.UTC(e,n-1,t)-Date.UTC(e,0,1))/864e5+.5)/(p(e)?366:365)}var f=function(){return a(new Date)},d=function(){return s(f())};function p(e){return e%4==0&&e%100!=0||e%400==0}var h=function(e,n){var t=new Date(n.getTime()),r=1===n.getDate()&&0===n.getMonth();switch(e){case"DAY":return t;case"WEEK":var o=n.getDay();return 1===o||t.setDate(n.getDate()+(8-o)%7-7),t;case"MONTH":return 1===n.getDate()?t:new Date(n.getFullYear(),n.getMonth(),1,12);case"YEAR":return r?t:new Date(n.getFullYear(),0,1,12);case"FIVEYEAR":case"DECADE":return new Date(5*Math.floor(n.getFullYear()/5),0,1,12);case"CENTURY":var i=100*Math.floor(n.getFullYear()/100),a=new Date(i,0,1,12);return a.setFullYear(i),a;default:return console.error("Unknown unit for `advanceDateTo`:",e),t}},y=function(e,n){var t=new Date(n.getTime());switch(e){case"DAY":t.setDate(n.getDate()+1);break;case"WEEK":t.setDate(n.getDate()+7);break;case"MONTH":t.setMonth(n.getMonth()+1);break;case"YEAR":t.setFullYear(n.getFullYear()+1);break;case"FIVEYEAR":t.setFullYear(n.getFullYear()+5);break;case"DECADE":t.setFullYear(n.getFullYear()+10);break;case"CENTURY":t.setFullYear(n.getFullYear()+100);break;default:console.error("Unknown unit for `getNextDate`:",e)}return t},m=function(e,n){var t,i,l,s="number"==typeof n?c(n):n instanceof Date?a(n):n;if(s.startsWith("-")){var u=o(s.slice(1).split("-"),3);t=u[0],i=u[1],l=u[2],t="-".concat(t)}else{var f=o(s.split("-"),3);t=f[0],i=f[1],l=f[2]}switch(e){case"CENTURY":case"DECADE":case"FIVEYEAR":case"YEAR":if("01"===i&&"01"===l)return t;case"MONTH":if("01"===l)return"".concat(t,"-").concat(r.e7[i]);default:return"".concat(t,"-").concat(r.e7[i],"-").concat(l)}}},8515:(e,n,t)=>{"use strict";t.d(n,{Io:()=>y,UB:()=>s,ZR:()=>f,bM:()=>d,le:()=>p});var r=t(70570);function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||a(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=a(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){c=!0,i=e},f:function(){try{l||null==t.return||t.return()}finally{if(c)throw i}}}}function a(e,n){if(e){if("string"==typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var c=function(e){return!!(e.branch_attrs&&e.branch_attrs.mutations&&Object.keys(e.branch_attrs.mutations).length)&&e.branch_attrs.mutations},s=function(e,n,t,a){return a?function(e,n,t){var o=t!==r.BJ,i=[],a=o?t.name:r.BJ;e.forEach((function(e){var t;if(n[e.arrayIdx]===r.m7){var l=c(e);null==l||null===(t=l[a])||void 0===t||t.forEach((function(e){var n=parseInt(e.slice(1,e.length-1),10);h(e.slice(0,1),e.slice(-1),o)&&(i[n]?i[n]++:i[n]=1)}))}}));for(var l=[],s=0,u=0,f=0;f<i.length;f++)i[f]&&(i[f]>u&&(u=i[f]),l[s]=o?{codon:parseInt(f,10),y:i[f]}:{x:f,y:i[f]},s++);return[l,u]}(e,n,t):function(e,n,t){var a=t!==r.BJ,l=a?t.name:r.BJ,s={},u={},f=0;!function e(t,d){var p,y=c(t);if(null==y||null===(p=y[l])||void 0===p||p.forEach((function(e){var n=parseInt(e.slice(1,e.length-1),10),t=e.slice(0,1),r=e.slice(e.length-1,e.length);h(t,r,a)&&(s[n]||(s[n]=t),d[n]=r)})),t.hasChildren){var m,g=i(t.children);try{for(g.s();!(m=g.n()).done;)e(m.value,Object.assign({},d))}catch(e){g.e(e)}finally{g.f()}}else if(n[t.arrayIdx]===r.m7){f++;for(var b=0,v=Object.entries(d);b<v.length;b++){var w=o(v[b],2),O=w[0],S=w[1];u[O]?u[O][S]?u[O][S]++:u[O][S]=1:(u[O]={},u[O][S]=1)}}}(e[0],{});for(var d=[],p=0,y=0,m=0,g=Object.keys(u);m<g.length;m++){for(var b=g[m],v=0,w=0,O=Object.values(u[b]);w<O.length;w++)v+=O[w];var S=f-v;S>0&&(u[b][s[b]]?u[b][s[b]]+=S:u[b][s[b]]=S);for(var x=0,A=0,E=Object.values(u[b]);A<E.length;A++){var C=E[A]/f;x+=-1*C*Math.log(C)}x>p&&(p=x),d[y]=a?{y:x.toFixed(3),codon:parseInt(b,10),fill:r.p3[y%10]}:{x:parseInt(b,10),y:x.toFixed(3)},y++}return[d,p]}(e,n,t)};function u(e){var n=[];return e[0].genes.forEach((function(e){n=n.concat(e.cds)})),n}function f(e,n){return u(e).filter((function(e){return e.name===n}))[0]}function d(e,n){var t,r="+"===e.strand,a=o(e.isWrapping?[n[1],n[0]]:n,2),l=a[0],c=a[1],s=e.segments,u=o(r?[s[0],s[s.length-1]]:[s[s.length-1],s[0]],2),f=u[0],d=u[1],p=[1,e.length],h=p[0],y=p[1];if(l<f.rangeGenome[0]||c>d.rangeGenome[1])return[[h,y],!1];var m,g=i(s);try{for(g.s();!(m=g.n()).done;){var b=m.value;if(b.rangeGenome[0]<=l&&b.rangeGenome[1]>=l)if(r){var v=l-b.rangeGenome[0];h=b.rangeLocal[0]+v}else{var w=l-b.rangeGenome[0];y=b.rangeLocal[1]-w}if(b.rangeGenome[0]<=c&&b.rangeGenome[1]>=c)if(r){var O=c-b.rangeGenome[0];y=b.rangeLocal[0]+O}else{var S=b.rangeGenome[1]-c;h=b.rangeLocal[0]+S}t&&(r?(t.rangeGenome[1]<l&&b.rangeGenome[0]>l&&(h=b.rangeLocal[0]),t.rangeGenome[1]<c&&b.rangeGenome[0]>c&&(y=t.rangeLocal[1])):(t.rangeGenome[0]>l&&b.rangeGenome[1]<l&&(y=t.rangeLocal[1]),t.rangeGenome[0]>c&&b.rangeGenome[1]<c&&(h=b.rangeLocal[0]))),t=b}}catch(e){g.e(e)}finally{g.f()}var x=y%3;return x&&(y+=1===x?2:1),[[h-=(h-1)%3,y],!0]}function p(e,n){for(var t,r=[],o=3*(n-1)+1,i="+"===e.strand,a=0;a<e.segments.length;a++){var l=e.segments[a];if(!(l.rangeLocal[1]<o)){if(t="frame ".concat(l.frame),i)for(var c=l.rangeGenome[0]+(o-l.rangeLocal[0]);c<=l.rangeGenome[1]&&r.length<3;)r.push(c++);else for(var s=l.rangeGenome[1]-(o-l.rangeLocal[0]);s>=l.rangeGenome[0]&&r.length<3;)r.push(s--);if(3!==r.length){if(l=e.segments[a+1],t=t.replace("frame","frames")+" → ".concat(l.frame),l.phase!==3-r.length){console.error("Internal Error -- phase mismatch for CDS ".concat(e.name," when mapping codon ").concat(n)),r.push("Internal Error!");break}i?(r.push(l.rangeGenome[0]),r.length<3&&r.push(l.rangeGenome[0]+1)):(r.push(l.rangeGenome[1]),r.length<3&&r.push(l.rangeGenome[1]-1))}break}}return{frame:t,nucCoordinates:r}}function h(e,n,t){return t?"X"!==e&&"X"!==n:"N"!==e&&"-"!==e&&"N"!==n&&"-"!==n}function y(e,n){var t=[];return u(e).forEach((function(e){var r,o=i(e.segments);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.rangeGenome[0]<=n&&a.rangeGenome[1]>=n){var l="+"===e.strand?n-a.rangeGenome[0]:a.rangeGenome[1]-n,c=a.rangeLocal[0]+l,s=Math.ceil(c/3);t.push({cds:e,nucLocal:c,aaLocal:s})}}}catch(e){o.e(e)}finally{o.f()}})),t}},1974:(e,n,t)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&u(e,n)}function a(e){var n=s();return function(){var t,o=f(e);if(n){var i=f(this).constructor;t=Reflect.construct(o,arguments,i)}else t=o.apply(this,arguments);return function(e,n){if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,t)}}function l(e){var n="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return c(e,arguments,f(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)},l(e)}function c(e,n,t){return c=s()?Reflect.construct:function(e,n,t){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(e,r));return t&&u(o,t.prototype),o},c.apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,n){return u=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},u(e,n)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}t.d(n,{fD:()=>d,i:()=>h,kp:()=>p});var d=function(e){i(t,e);var n=a(t);function t(){o(this,t);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n.call.apply(n,[this].concat(r))}return t}(l(Error)),p=function(e){i(t,e);var n=a(t);function t(){o(this,t);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return n.call.apply(n,[this].concat(r))}return t}(l(Error)),h=function(e){i(t,e);var n=a(t);function t(){var e;o(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).name=e.constructor.name,e}return t}(l(Error))},58852:(e,n,t)=>{"use strict";t.d(n,{R:()=>o,y:()=>i});var r={},o=function(e){return r[e]?r[e]:(console.error("Requested non-existing extension",e),!1)},i=function(e){return Object.keys(r).includes(e)}},12225:(e,n,t)=>{"use strict";t.d(n,{FQ:()=>d,O$:()=>c,O3:()=>h,Q$:()=>m,bP:()=>s,bQ:()=>f,eL:()=>p,fO:()=>y,kW:()=>u});var r=t(70570);function o(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=a(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){c=!0,i=e},f:function(){try{l||null==t.return||t.return()}finally{if(c)throw i}}}}function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||a(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,n){if(e){if("string"==typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var c=function(e){return"gt"===e||e.startsWith("gt-")},s=function(e){var n=e.gene,t=e.positions;return n||(n=r.BJ),t&&t.length?"gt-".concat(n,"_").concat(t.join(",")):(console.error("encodeColorByGenotype failed: no positions"),null)},u=function(e,n){var t=!!n,o=e.match(/^gt-(.+)_([0-9,]+)$/);if(o){var a=i(o,3),l=a[1],c=a[2],s=t?m(n,l):"Infinity";if(t&&!s)return console.error("decodeColorByGenotype failed for color-by ".concat(e," (cds name: ").concat(l,") ")+"as it wasn't found in the genome map;"),null;var u=f(c,s);return u.length?{gene:l,positions:u,aa:l!==r.BJ}:(console.error("decodeColorByGenotype failed: no valid positions",e,c,s),null)}return console.error("Unable to decode colorBy genotype:",e),null};function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Infinity";return e.split(",").map((function(e){return parseInt(e,10)})).filter((function(e){return e>0&&e<=Math.floor(n)}))}var d=function(e){var n=e.filter((function(e){return e.active})).map((function(e){return e.value})).reduce((function(e,n){var t=i(n.split(" "),2),r=t[0],o=t[1];return e.has(r)||e.set(r,[]),e.get(r).push(o),e}),new Map);return Array.from(n.entries()).map((function(e){var n=i(e,2),t=n[0],r=n[1];return"".concat(t,".").concat(r.join(","))})).join(",")},p=function(e){var n;return e.split(",").map((function(e){if(e.includes(".")){var t=e.split(".");return n=t[0],t.join(" ")}return"".concat(n," ").concat(e)})).filter((function(e){return!!e})).map((function(e){return{active:!0,value:e}}))},h=function(e){var n=!!c(e)&&u(e);return!!n&&"Genotype ".concat(n.gene,": ").concat(n.positions.join(", "))},y=function(e,n){if(!Array.isArray(n)||!n.length||!e)return null;if("nuc"===e)return r.BJ;var t,i=o(n[0].genes);try{for(i.s();!(t=i.n()).done;){var a,l=o(t.value.cds);try{for(l.s();!(a=l.n()).done;){var c=a.value;if(c.name===e)return c}}catch(e){l.e(e)}finally{l.f()}}}catch(e){i.e(e)}finally{i.f()}return null};function m(e,n){if(n===r.BJ)return e[0].range[1];var t,i=o(e[0].genes);try{for(i.s();!(t=i.n()).done;){var a,l=o(t.value.cds);try{for(l.s();!(a=l.n()).done;){var c=a.value;if(c.name===n)return c.length/3}}catch(e){l.e(e)}finally{l.f()}}}catch(e){i.e(e)}finally{i.f()}return 0}},70570:(e,n,t)=>{"use strict";t.d(n,{$j:()=>h,$s:()=>H,Ac:()=>$,BJ:()=>w,Ck:()=>M,Eq:()=>p,FU:()=>b,Fp:()=>x,HB:()=>c,Hy:()=>N,JA:()=>Y,NB:()=>O,O7:()=>j,O9:()=>I,OR:()=>U,PD:()=>v,S4:()=>D,SM:()=>B,TJ:()=>s,Tr:()=>f,UX:()=>_,VC:()=>k,VK:()=>d,Wv:()=>K,Zk:()=>g,bj:()=>L,cJ:()=>y,co:()=>E,e7:()=>F,iO:()=>C,ly:()=>u,m7:()=>G,mZ:()=>z,mg:()=>q,p3:()=>P,qh:()=>R,u4:()=>T,uY:()=>l,vD:()=>W,xE:()=>m,x_:()=>S,y1:()=>A});var r=t(88215),o=t(30600),i=t(58852);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var l={country:{key:"country",legendTitle:"Country",menuItem:"country",type:"discrete"},region:{key:"region",legendTitle:"Region",menuItem:"region",type:"discrete"},num_date:{key:"num_date",legendTitle:"Sampling date",menuItem:"date",type:"continuous"},ep:{key:"ep",legendTitle:"Epitope Mutations",menuItem:"epitope mutations",type:"continuous"},ne:{key:"ne",legendTitle:"Non-epitope Mutations",menuItem:"nonepitope mutations",type:"continuous"},rb:{key:"rb",legendTitle:"Receptor Binding Mutations",menuItem:"RBS mutations",type:"continuous"},gt:{key:"genotype",legendTitle:"Genotype",menuItem:"genotype",type:"discrete"}},c=220,s=46,u=780,f=1600,d="country",p="country",h="rect",y="num_date",m=!1,g=6,b=-1e8,v=!1,w="nuc",O=[0,.111,.222,.333,.444,.555,.666,.777,.888,1],S=4,x=7,A=150,E=500,C=1,B=350,j=.075,T=.075,D=50,k=10,_=(O.map((function(e){return Math.round(3.6*e*100)/100})),O.map((function(e){return Math.round(100*(.2+1.8*e))/100})),O.map((function(e){return Math.round(16*(e-.5)*100)/100})),(0,o.Z)().domain([0,1]).range([2,4.5]),(0,r._)().domain([0,1]).range([1,10])),P=((0,r._)().domain([3,20]).range([9,3]).clamp([!0]),["#60AA9E","#D9AD3D","#5097BA","#E67030","#8EBC66","#E59637","#AABD52","#DF4327","#C4B945","#75B681"]),I=[[],["#4C90C0"],["#4C90C0","#CBB742"],["#4988C5","#7EB876","#CBB742"],["#4580CA","#6BB28D","#AABD52","#DFA43B"],["#4377CD","#61AB9D","#94BD61","#CDB642","#E68133"],["#416DCE","#59A3AA","#84BA6F","#BBBC49","#E29D39","#E1502A"],["#3F63CF","#529AB6","#75B681","#A6BE55","#D4B13F","#E68133","#DC2F24"],["#3E58CF","#4B8EC1","#65AE96","#8CBB69","#B8BC4A","#DCAB3C","#E67932","#DC2F24"],["#3F4DCB","#4681C9","#5AA4A8","#78B67E","#9EBE5A","#C5B945","#E0A23A","#E67231","#DC2F24"],["#4042C7","#4274CE","#5199B7","#69B091","#88BB6C","#ADBD51","#CEB541","#E39B39","#E56C2F","#DC2F24"],["#4137C2","#4066CF","#4B8DC2","#5DA8A3","#77B67F","#96BD60","#B8BC4B","#D4B13F","#E59638","#E4672F","#DC2F24"],["#462EB9","#3E58CF","#4580CA","#549DB2","#69B091","#83BA70","#A2BE57","#C1BA47","#D9AD3D","#E69136","#E4632E","#DC2F24"],["#4B26B1","#3F4ACA","#4272CE","#4D92BF","#5DA8A3","#74B583","#8EBC66","#ACBD51","#C8B944","#DDA93C","#E68B35","#E3602D","#DC2F24"],["#511EA8","#403DC5","#4063CF","#4785C7","#559EB1","#67AF94","#7EB877","#98BD5E","#B4BD4C","#CDB642","#DFA53B","#E68735","#E35D2D","#DC2F24"],["#511EA8","#403AC4","#3F5ED0","#457FCB","#5098B9","#60AA9F","#73B583","#8BBB6A","#A4BE56","#BDBB48","#D3B240","#E19F3A","#E68234","#E25A2C","#DC2F24"],["#511EA8","#4138C3","#3E59CF","#4379CD","#4D92BE","#5AA5A8","#6BB18E","#7FB975","#96BD5F","#AFBD4F","#C5B945","#D8AE3E","#E39B39","#E67D33","#E2572B","#DC2F24"],["#511EA8","#4236C1","#3F55CE","#4273CE","#4A8CC2","#569FAF","#64AD98","#76B680","#8BBB6A","#A1BE58","#B7BC4B","#CCB742","#DCAB3C","#E59638","#E67932","#E1552B","#DC2F24"],["#511EA8","#4335BF","#3F51CC","#416ECE","#4887C6","#529BB6","#5FA9A0","#6EB389","#81B973","#95BD61","#AABD52","#BFBB48","#D1B340","#DEA63B","#E69237","#E67531","#E1522A","#DC2F24"],["#511EA8","#4333BE","#3F4ECB","#4169CF","#4682C9","#4F96BB","#5AA5A8","#68AF92","#78B77D","#8BBB6A","#9EBE59","#B3BD4D","#C5B945","#D5B03F","#E0A23A","#E68D36","#E67231","#E1502A","#DC2F24"],["#511EA8","#4432BD","#3F4BCA","#4065CF","#447ECC","#4C91BF","#56A0AE","#63AC9A","#71B486","#81BA72","#94BD62","#A7BE54","#BABC4A","#CBB742","#D9AE3E","#E29E39","#E68935","#E56E30","#E14F2A","#DC2F24"],["#511EA8","#4531BC","#3F48C9","#3F61D0","#4379CD","#4A8CC2","#539CB4","#5EA9A2","#6BB18E","#7AB77B","#8BBB6A","#9CBE5B","#AFBD4F","#C0BA47","#CFB541","#DCAB3C","#E39B39","#E68534","#E56B2F","#E04D29","#DC2F24"],["#511EA8","#4530BB","#3F46C8","#3F5ED0","#4375CD","#4988C5","#5098B9","#5AA5A8","#66AE95","#73B583","#82BA71","#93BC62","#A4BE56","#B5BD4C","#C5B945","#D3B240","#DEA73B","#E59738","#E68234","#E4682F","#E04C29","#DC2F24"],["#511EA8","#462FBA","#3F44C8","#3E5BD0","#4270CE","#4784C8","#4E95BD","#57A1AD","#61AB9C","#6DB38A","#7BB879","#8BBB6A","#9BBE5C","#ABBD51","#BBBC49","#CBB843","#D6AF3E","#DFA43B","#E69537","#E67F33","#E4662E","#E04A29","#DC2F24"],["#511EA8","#462EB9","#4042C7","#3E58CF","#416DCE","#4580CA","#4C90C0","#549DB2","#5DA8A3","#69B091","#75B681","#83BA70","#92BC63","#A2BE57","#B2BD4D","#C1BA47","#CEB541","#D9AD3D","#E1A03A","#E69136","#E67C32","#E4632E","#E04929","#DC2F24"],["#511EA8","#462EB9","#4040C6","#3F55CE","#4169CF","#447DCC","#4A8CC2","#529AB7","#5AA5A8","#64AD98","#70B487","#7DB878","#8BBB6A","#99BD5D","#A9BD53","#B7BC4B","#C5B945","#D1B340","#DCAB3C","#E29D39","#E68D36","#E67932","#E3612D","#E04828","#DC2F24"],["#511EA8","#472DB8","#403EC6","#3F53CD","#4066CF","#4379CD","#4989C5","#4F97BB","#57A1AD","#61AA9E","#6BB18E","#77B67F","#84BA70","#92BC64","#A0BE58","#AFBD4F","#BCBB49","#CAB843","#D4B13F","#DEA83C","#E39B39","#E68A35","#E67732","#E35F2D","#DF4728","#DC2F24"],["#511EA8","#472CB7","#403DC5","#3F50CC","#4063CF","#4375CD","#4785C7","#4D93BE","#559EB1","#5DA8A3","#67AF94","#72B485","#7EB877","#8BBB6A","#98BD5E","#A6BE55","#B4BD4C","#C1BA47","#CDB642","#D7AF3E","#DFA53B","#E49838","#E68735","#E67431","#E35D2D","#DF4628","#DC2F24"],["#511EA8","#482CB7","#403BC5","#3F4ECB","#3F61D0","#4272CE","#4682C9","#4C90C0","#529BB5","#5AA5A8","#63AC9A","#6DB28B","#78B77D","#84BA6F","#91BC64","#9EBE59","#ACBD51","#B9BC4A","#C5B945","#D0B441","#DAAD3D","#E0A23A","#E59637","#E68434","#E67231","#E35C2C","#DF4528","#DC2F24"],["#511EA8","#482BB6","#403AC4","#3F4CCB","#3F5ED0","#426FCE","#457FCB","#4A8CC2","#5098B9","#58A2AC","#60AA9F","#69B091","#73B583","#7FB976","#8BBB6A","#97BD5F","#A4BE56","#B1BD4E","#BDBB48","#C9B843","#D3B240","#DCAB3C","#E19F3A","#E69337","#E68234","#E67030","#E25A2C","#DF4428","#DC2F24"],["#511EA8","#482BB6","#4039C3","#3F4ACA","#3E5CD0","#416CCE","#447CCD","#4989C4","#4E96BC","#559FB0","#5DA8A4","#66AE96","#6FB388","#7AB77C","#85BA6F","#91BC64","#9DBE5A","#AABD53","#B6BD4B","#C2BA46","#CDB642","#D6B03F","#DDA83C","#E29D39","#E69036","#E67F33","#E56D30","#E2592C","#DF4428","#DC2F24"],["#511EA8","#482AB5","#4138C3","#3F48C9","#3E59CF","#4169CF","#4379CD","#4886C6","#4D92BE","#539CB4","#5AA5A8","#62AB9B","#6BB18E","#75B581","#7FB975","#8BBB6A","#96BD5F","#A2BE57","#AFBD4F","#BABC4A","#C5B945","#CFB541","#D8AE3E","#DFA63B","#E39B39","#E68D36","#E67D33","#E56B2F","#E2572B","#DF4328","#DC2F24"],["#511EA8","#492AB5","#4137C2","#3F47C9","#3E57CE","#4067CF","#4376CD","#4783C8","#4C8FC0","#519AB7","#58A2AC","#5FA9A0","#68AF93","#70B486","#7BB77A","#85BA6F","#90BC65","#9CBE5B","#A8BE54","#B3BD4D","#BEBB48","#C9B843","#D2B340","#DAAD3D","#E0A33B","#E49838","#E68B35","#E67B32","#E5692F","#E2562B","#DF4227","#DC2F24"],["#511EA8","#492AB5","#4236C1","#3F45C8","#3F55CE","#4064CF","#4273CE","#4681CA","#4A8CC2","#4F97BA","#569FAF","#5CA7A4","#64AD98","#6DB28B","#76B680","#80B974","#8BBB6A","#96BD60","#A1BE58","#ACBD51","#B7BC4B","#C2BA46","#CCB742","#D4B13F","#DCAB3C","#E1A13A","#E59638","#E68835","#E67932","#E4672F","#E1552B","#DF4227","#DC2F24"],["#511EA8","#4929B4","#4235C0","#3F44C8","#3F53CD","#3F62CF","#4270CE","#457ECB","#4989C4","#4E95BD","#549DB3","#5AA5A8","#61AB9C","#69B090","#72B485","#7BB879","#85BA6E","#90BC65","#9BBE5C","#A6BE55","#B1BD4E","#BBBC49","#C5B945","#CEB541","#D6AF3E","#DDA93C","#E29F39","#E69537","#E68634","#E67732","#E4662E","#E1532B","#DF4127","#DC2F24"],["#511EA8","#4929B4","#4335BF","#3F42C7","#3F51CC","#3F60D0","#416ECE","#447CCD","#4887C6","#4D92BF","#529BB6","#58A2AB","#5FA9A0","#66AE95","#6EB389","#77B67E","#81B973","#8BBB6A","#95BD61","#A0BE59","#AABD52","#B5BD4C","#BFBB48","#C9B843","#D1B340","#D8AE3E","#DEA63B","#E29C39","#E69237","#E68434","#E67531","#E4642E","#E1522A","#DF4127","#DC2F24"],["#511EA8","#4928B4","#4334BF","#4041C7","#3F50CC","#3F5ED0","#416CCE","#4379CD","#4784C7","#4B8FC1","#5098B9","#56A0AF","#5CA7A4","#63AC99","#6BB18E","#73B583","#7CB878","#86BB6E","#90BC65","#9ABD5C","#A4BE56","#AFBD4F","#B9BC4A","#C2BA46","#CCB742","#D3B240","#DAAC3D","#DFA43B","#E39B39","#E68F36","#E68234","#E67431","#E4632E","#E1512A","#DF4027","#DC2F24"]],M=1e4,R=function(){return(0,i.y)("serverAddress")?(0,i.R)("serverAddress").replace(/\/$/,""):"/charon"},F={1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec","01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep"},N=50,L=55,U=0,z=1,G=2,V=["unknown","?","nan","na","n/a","","unassigned"],q=function(e){return!(!["number","boolean","string"].includes(a(e))||"string"==typeof e&&V.includes(e.toLowerCase()))},$=Symbol("strain"),W=Symbol("genotype"),H=Symbol("measurementId"),Y=function(){return(0,i.y)("mapTiles")?(0,i.R)("mapTiles"):{api:"https://api.mapbox.com/styles/v1/trvrb/ciu03v244002o2in5hlm3q6w2/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoidHJ2cmIiLCJhIjoiY2tqcnM5bXIxMWV1eTJzazN2YXVrODVnaiJ9.7iPttR9a_W7zuYlUCfrz6A",attribution:'© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <a style="font-weight: 700" href="https://www.mapbox.com/map-feedback/" target="_blank">Improve this map</a>',mapboxWordmark:!0}},X={A:"Alanine",R:"Arginine",N:"Asparagine",D:"Aspartic acid",C:"Cysteine",Q:"Glutamine",E:"Glutamic acid",G:"Glycine",H:"Histidine",I:"Isoleucine",L:"Leucine",K:"Lysine",M:"Methionine",F:"Phenylalanine",P:"Proline",S:"Serine",T:"Threonine",W:"Tryptophan",Y:"Tyrosine",V:"Valine"},K=function(e){return X[e.toUpperCase()]||"Unknown"}},85917:(e,n,t)=>{"use strict";t.d(n,{K_:()=>c,MM:()=>s,fs:()=>u});var r,o,i=t(58852);function a(e,n,t,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void t(e)}l.done?n(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function l(e){a(i,r,o,l,c,"next",e)}function c(e){a(i,r,o,l,c,"throw",e)}l(void 0)}))}}var c=function(){var e=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,i.y)("googleAnalyticsKey")){e.next=2;break}return e.abrupt("return");case 2:return o=t.e(106).then(t.bind(t,78106)),e.next=5,o;case 5:r=e.sent.default,e.next=9;break;case 9:r.initialize((0,i.R)("googleAnalyticsKey"));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=5;break}return e.next=3,o;case 3:e.next=6;break;case 5:return e.abrupt("return");case 6:r.set({page:window.location.pathname}),r.pageview(window.location.pathname);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=l(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=5;break}return e.next=3,o;case 3:e.next=6;break;case 5:return e.abrupt("return");case 6:r.event({category:"Controls",action:n});case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},22224:(e,n,t)=>{"use strict";t.d(n,{e:()=>s});var r=t(61006),o=t(2133),i=t.n(o);function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}i().addHook("afterSanitizeAttributes",(function(e){var n;"href"in e&&location.hostname!==e.hostname&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noreferrer nofollow")),(n=e.childNodes,function(e){if(Array.isArray(e))return a(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,n){if(e){if("string"==typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,n):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter((function(e){return"img"===e.localName})).length>0&&("a"===e.localName?e.parentNode.className+=" imageContainer":e.className+=" imageContainer")}));var l=["div","h1","h2","h3","h4","h5","h6","p","em","strong","del","ol","ul","li","a","img"];l.push("#text","code","pre","hr","table","thead","tbody","th","tr","td","sub","sup"),l.push("svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform"),l.push("circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer"),l.push("feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA"),l.push("feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset"),l.push("fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face"),l.push("font-face-format","font-face-name","font-face-src","font-face-uri","g","glyph","glyphRef"),l.push("hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path"),l.push("pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol"),l.push("text","textPath","title","tref","tspan","use","view","vkern");var c=["href","src","width","height","alt"];c.push("accent-height","accumulate","additive","alignment-baseline","allowReorder","alphabetic","amplitude","arabic-form","ascent","attributeName","attributeType","autoReverse","azimuth"),c.push("baseFrequency","baseline-shift","baseProfile","bbox","begin","bias","by"),c.push("calcMode","cap-height","class","clip","clipPathUnits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cursor","cx","cy"),c.push("d","decelerate","descent","diffuseConstant","direction","display","divisor","dominant-baseline","dur","dx","dy"),c.push("edgeMode","elevation","enable-background","end","exponent","externalResourcesRequired"),c.push("fill","fill-opacity","fill-rule","filter","filterRes","filterUnits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","format","from","fr","fx","fy"),c.push("g1","g2","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","glyphRef","gradientTransform","gradientUnits"),c.push("hanging","height","href","hreflang","horiz-adv-x","horiz-origin-x"),c.push("id","ideographic","image-rendering","in","in2","intercept"),c.push("k","k1","k2","k3","k4","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes"),c.push("lang","lengthAdjust","letter-spacing","lighting-color","limitingConeAngle","local"),c.push("marker-end","marker-mid","marker-start","markerHeight","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","max","media","method","min","mode"),c.push("name","numOctaves"),c.push("offset","opacity","operator","order","orient","orientation","origin","overflow","overline-position","overline-thickness"),c.push("panose-1","paint-order","path","pathLength","patternContentUnits","patternTransform","patternUnits","ping","pointer-events","points","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits"),c.push("r","radius","referrerPolicy","refX","refY","rel","rendering-intent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry"),c.push("scale","seed","shape-rendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","string","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","surfaceScale","systemLanguage"),c.push("tabindex","tableValues","target","targetX","targetY","text-anchor","text-decoration","text-rendering","textLength","to","transform","type"),c.push("u1","u2","underline-position","underline-thickness","unicode","unicode-bidi","unicode-range","units-per-em"),c.push("v-alphabetic","v-hanging","v-ideographic","v-mathematical","values","vector-effect","version","vert-adv-y","vert-origin-x","vert-origin-y","viewBox","viewTarget","visibility"),c.push("width","widths","word-spacing","writing-mode"),c.push("x","x-height","x1","x2","xChannelSelector"),c.push("y","y1","y2","yChannelSelector"),c.push("z","zoomAndPan");var s=function(e){var n=i().sanitize,t={ALLOWED_TAGS:l,ALLOWED_ATTR:c,KEEP_CONTENT:!1,ALLOW_DATA_ATTR:!1};return n((0,r.TU)(e),t)}},33835:(e,n,t)=>{var r=regeneratorRuntime.mark(y);function o(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=c(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw i}}}}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){if(e){if("string"==typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,n):void 0}}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var u=t(54688).safeLoadFront,f=t(69587);function d(e,n){var t="";t+=p(e),t+=m(e),t+=g(e),e.abstract&&"string"==typeof e.abstract&&(t+="### ".concat(e.abstract,"\n")),e.date&&"string"==typeof e.date&&(t+="#### Created: ".concat(e.date,"\n")),e.updated&&"string"==typeof e.updated&&(t+="#### Updated: ".concat(e.updated,"\n"));var r=b(e,"license","licenseLink");return r&&(t+="#### License: ".concat(r,"\n")),a(a({},h(e.dataset)),{},{__html:n(t)})}function p(e){if(!e.title)throw new Error("Narrative YAML frontmatter must define a title!");return"## ".concat(e.title,"\n")}function h(e){var n,t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{n=new URL(e)}catch(n){if(r)return console.error("Couldn't parse the URL \"".concat(e,'". Falling back to "').concat(r,'".')),{dataset:r,query:""};throw new Error("Narrative YAML frontmatter must define a valid dataset URL!")}if(n.pathname)t=n.pathname;else{if(!r)throw new Error("Narrative YAML frontmatter must define a valid dataset URL!");console.error('The URL "'.concat(e,'" didn\'t define a dataset! Falling back to "').concat(r,'".')),t=r}return{dataset:t,query:f.stringify(f.parse(n.search))}}function y(e,n,t){var i,a,l,c,s,u,f,d,p,y,m,g,b,v,w,O,S;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=t(e),a=(new DOMParser).parseFromString(i,"text/html"),l="h1 > a:only-child",c=function(e){return e.nodeType===Node.ELEMENT_NODE&&null!==e.querySelector(l)},s=o(a.querySelectorAll(l)),r.prev=5,s.s();case 7:if((u=s.n()).done){r.next=29;break}f=u.value,d=a.createElement("slide"),p=h(f.href,n),y=p.dataset,m=p.query,g=f.parentElement,f.replaceWith(f.textContent),g.replaceWith(d),d.appendChild(g),b=void 0;case 16:if(!(b=d.nextSibling)){r.next=22;break}if(!c(b)){r.next=19;break}return r.abrupt("break",22);case 19:d.appendChild(b),r.next=16;break;case 22:v="",w=o(d.querySelectorAll("pre > code.language-auspiceMainDisplayMarkdown"));try{for(w.s();!(O=w.n()).done;)S=O.value,v+=S.textContent+"\n",S.parentElement.remove()}catch(e){w.e(e)}finally{w.f()}return r.next=27,{dataset:y,query:m,mainDisplayMarkdown:v,__html:d.innerHTML};case 27:r.next=7;break;case 29:r.next=34;break;case 31:r.prev=31,r.t0=r.catch(5),s.e(r.t0);case 34:return r.prev=34,s.f(),r.finish(34);case 37:case"end":return r.stop()}}),r,null,[[5,31,34,37]])}function m(e){var n="",t=b(e,"authors","authorLinks");return t&&(n+="### Author: ".concat(t),e.affiliations&&"string"==typeof e.affiliations&&(n+=" <sup> 1 </sup>",n+="\n<sub><sup> 1 </sup> ".concat(e.affiliations,"</sub>"))),n+"\n"}function g(e){var n=b(e,"translators","translatorLinks");return n?"### Translators: ".concat(n,"\n"):""}function b(e,n,t){var r=e[n],o=e[t];return Array.isArray(r)?function(e,n,t,r){return n&&(Array.isArray(n)?n.length!==e.length&&(console.warn("Narrative parsing - the length of ".concat(t," and ").concat(r," did not match. Skipping links.")),n=void 0):(console.warn("Narrative parsing - if ".concat(t," is an array, then ").concat(r," must also be an array. Skipping links.")),n=void 0)),n&&(e=e.map((function(e,t){return v(e,n[t])}))),e.join(", ")}(r,o,n,t):"string"==typeof r?function(e,n,t,r){return n&&"string"!=typeof n&&(console.warn("Narrative parsing - if ".concat(t," is a string, then ").concat(r," must also be a string. Skipping links.")),n=void 0),v(e,n)}(r,o,n,t):void 0}function v(e,n){return n?"[".concat(e,"](").concat(n,")"):e}e.exports={parseMarkdownNarrativeFile:function(e,n){var t=u(e);if(1===Object.keys(t).length){var r=new Error;throw r.fileContents=e,r.message="YAML frontmatter missing or incomplete from narrative file",r}var o,i=d(t,n);return[i].concat(function(e){if(Array.isArray(e))return s(e)}(o=y(t.__content,i.dataset,n))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||c(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},createTitleSlideFromFrontmatter:d,parseTitleSlideTitle:p,parseNarrativeAuthors:m,parseNarrativeTranslators:g}},91204:(e,n,t)=>{},59995:(e,n,t)=>{"use strict";t.d(n,{N0:()=>u,Xp:()=>f,Zi:()=>c,bv:()=>s});var r=t(70570),o=t(12225),i=t(37275);function a(e,n){if(e){if("string"==typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var c="unassigned",s=function(e,n,t,o){var i=n.length,a=new Array(i).fill(0);return e.forEach((function(e){if(o[e.idx]===r.m7)for(var n=0;n<i;n++)a[n]+=e.values[n]})),!0},u=function(e,n,t,l,s,u,f){var d=s.legendValues.filter((function(e){return void 0!==e})),p=(0,o.O$)(u),h=new Map,y=n.length;d.forEach((function(e){h.set(e,new Array(y).fill(0))})),h.set(c,new Array(y).fill(0));var m=new Array(y).fill(0);return e.forEach((function(e){if(l[e.idx]===r.m7)for(var n=function(e,n,t,r,o){if(o)return t.currentGt;var a=(0,i.rs)(t,r);if(!e.continuous)return a&&"unknown"!==a?a:c;for(var l=0;l<n.length;l++){var s=n[l],u=e.legendBounds[s][0];if(a<=e.legendBounds[s][1]&&a>=u)return s}return c}(s,d,t[e.idx],u,p),o=0;o<y;o++)h.get(n)[o]+=e.values[o],m[o]+=e.values[o]})),f&&function(){var e,n=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=a(e))){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){c=!0,i=e},f:function(){try{l||null==t.return||t.return()}finally{if(c)throw i}}}}(h);try{var t=function(){var n,t,r=(n=e.value,t=1,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(n,t)||a(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];m.forEach((function(e,n){e>1e-7?h.get(r)[n]/=e:h.get(r)[n]=0}))};for(n.s();!(e=n.n()).done;)t()}catch(e){n.e(e)}finally{n.f()}}(),0===h.get(c).reduce((function(e,n){return e+n}),0)&&h.delete(c),h},f=function(e,n,t){var r=e.pivots.map((function(e){return Math.round(100*parseFloat(e))/100})),o=null;if("projection_pivot"in e&&(o=Math.round(100*parseFloat(e.projection_pivot))/100),!n.loaded)throw new Error("tree not loaded");var i=[];n.nodes.filter((function(e){return!e.hasChildren})).forEach((function(n){e[n.name]?i.push({idx:n.arrayIdx,values:e[n.name].frequencies}):console.warn("No tip frequency information for ".concat(n.name))}));var a=t.normalizeFrequencies&&s(i,r,n.nodes,n.visibility),l=u(i,r,n.nodes,n.visibility,t.colorScale,t.colorBy,a);return{data:i,pivots:r,matrix:l,projection_pivot:o,normalizeFrequencies:a}}},72061:(e,n,t)=>{"use strict";t.d(n,{FC:()=>s,HO:()=>c,Sg:()=>u,Sn:()=>f,dQ:()=>l});var r=t(88982),o=t(12225);function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e).filter((function(n){return"boolean"!==e[n].type})).map((function(n){return{value:n,label:e[n].title||n}})),r=(0,o.O3)(n);return r?t.forEach((function(e){"gt"===e.value&&(e.label=r)})):t=t.filter((function(e){return"gt"!==e.value})),t.unshift({value:"displayOrder",label:"Node ordering in tree"}),t.unshift({value:"div",label:"Divergence"}),t}function c(e,n,t,r){var o=e.distanceMeasure,c=e.colorBy,f=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e.scatterVariables),d=l(n.colorings,e.colorBy),p={};if(p.showBranches=!Object.prototype.hasOwnProperty.call(f,"showBranches")||f.showBranches,p.showRegression=Object.prototype.hasOwnProperty.call(f,"showRegression")?f.showRegression:!!r,!r){var h=s(d,[f.x,o],f.y);p.x=h.value,p.xLabel=h.label;var y=s(d,[f.y,c],h.value);p.y=y.value,p.yLabel=y.label;for(var m=0,g=["x","y"];m<g.length;m++)u(p,g[m],e,t,n);p.xContinuous&&p.yContinuous||(p.showRegression=!1)}return p}function s(e,n,t){for(var r=e.map((function(e){return e.value})),i=0;i<n.length;i++)if(n[i]&&n[i]!==t){var a=(0,o.O$)(n[i])?"gt":n[i],l=r.indexOf(a);if(-1!==l)return e[l]}for(var c=0;c<r.length;c++)if(r[c]!==t)return e[c]}function u(e,n,t,o,i){var a,l=e[n];if(["div","num_date","displayOrder"].includes(l)||"continuous"===i.colorings[l].type||"temporal"===i.colorings[l].type)return e["".concat(n,"Continuous")]=!0,e["".concat(n,"Domain")]=void 0,e["".concat(n,"Temporal")]="temporal"===(null===(a=i.colorings[l])||void 0===a?void 0:a.type),e;var c="gt"===e[n]?t.colorBy:e[n];return f(e,(0,r.pu)(c,t,o,null,i),n)}function f(e,n,t){return"continuous"===n.scaleType||"temporal"===n.scaleType?(e["".concat(t,"Continuous")]=!0,e["".concat(t,"Domain")]=void 0,e["".concat(t,"Temporal")]="temporal"===n.scaleType,e):(e["".concat(t,"Continuous")]=!1,e["".concat(t,"Domain")]=n.domain.slice(),e["".concat(t,"Temporal")]=!1,e)}},69568:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l,b:()=>a});var r=t(1974);function o(e,n,t,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void t(e)}l.done?n(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function l(e){o(a,r,i,l,c,"next",e)}function c(e){o(a,r,i,l,c,"throw",e)}l(void 0)}))}}var a=function(){var e=i(regeneratorRuntime.mark((function e(n){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n);case 2:if(200===(t=e.sent).status){e.next=13;break}if(204!==t.status){e.next=6;break}throw new r.fD;case 6:return e.t0=r.kp,e.t1="".concat(n," "),e.next=10,t.text();case 10:throw e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2," (").concat(t.statusText,")"),new e.t0(e.t3);case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=i(regeneratorRuntime.mark((function e(n){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(n);case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},4699:(e,n,t)=>{"use strict";t.d(n,{e:()=>l,k:()=>a});var r=t(70570),o=t(9045),i=t(37275),a=function(e,n,t){var r=(0,o.BG)(n,t);return"temporal"===t.scaleType&&(r=(0,o.X6)(r)),t.continuous?e===t.legendValues[0]&&r===t.legendBounds[e][0]||r<=t.legendBounds[e][1]&&r>t.legendBounds[e][0]:r===e},l=function(e){var n=e.tipSelectedIdx,t=void 0!==n&&n,o=e.selectedLegendItem,l=void 0!==o&&o,c=e.geoFilter,s=void 0===c?[]:c,u=e.colorScale,f=e.tree;if(!1!==l&&f&&f.nodes)return f.nodes.map((function(e){return a(l,e,u)?r.Fp:r.x_}));if(2===s.length&&f&&f.nodes)return f.nodes.map((function(e){return n=e,t=s[0],s[1]===(0,i.rs)(n,t)?r.Fp:r.x_;var n,t}));if(t){var d=f.nodes.map((function(){return r.x_}));return d[t]=r.Fp+3,d}return f&&f.nodes?f.nodes.map((function(){return r.x_})):null}},96139:(e,n,t)=>{"use strict";t.d(n,{BA:()=>p,CU:()=>s,Tr:()=>d,WO:()=>u,fL:()=>f});var r=t(70570),o=t(37275);function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||l(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){if(e){if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,n):void 0}}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var s=function(e,n,t,i){var a={};return n.forEach((function(e){a[e]=new Map})),e.forEach((function(e){n.forEach((function(n){if(!(i&&e.hasChildren||t&&t[e.arrayIdx]!==r.m7)){var l=(0,o.rs)(e,n);if(void 0!==l){var c=a[n].get(l)||0;a[n].set(l,c+1)}}}))})),a},u=function(e,n){var t,r=new Set(["num_date"].concat(a(Object.entries(n).filter((function(e){var n=i(e,2);return n[0],"continuous"===n[1].type})).map((function(e){var n=i(e,2),t=n[0];return n[1],t}))))),c=new Set,s=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=l(e))){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(c)throw i}}}}(e);try{for(s.s();!(t=s.n()).done;){var u=t.value;if(!u.hasChildren)for(var f in u.node_attrs||{})r.has(f)||c.has(f)||(0,o.rs)(u,f)&&c.add(f)}}catch(e){s.e(e)}finally{s.f()}return a(c)},f=function e(n,t){if(n.tipCount=0,void 0!==n.children)for(var o=0;o<n.children.length;o++)e(n.children[o],t),n.tipCount+=n.children[o].tipCount;else n.tipCount=t[n.arrayIdx]===r.m7?1:0},d=function(e){var n=0;return e.forEach((function(e){e.hasChildren||n++})),n},p=function e(n){if(n.fullTipCount=0,void 0!==n.children)for(var t=0;t<n.children.length;t++)e(n.children[t]),n.fullTipCount+=n.children[t].fullTipCount;else n.fullTipCount=1}},37275:(e,n,t)=>{"use strict";t.d(n,{Bu:()=>f,KT:()=>c,MG:()=>b,MS:()=>m,Wf:()=>g,ZZ:()=>u,eD:()=>d,nt:()=>s,nx:()=>h,rL:()=>w,rs:()=>l,tX:()=>v});var r=t(70570);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var l=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.entropy,i=void 0!==o&&o,a=t.confidence,l=void 0!==a&&a;if(e.node_attrs){if(!i&&!l){if(!e.node_attrs[n])return n===r.Ac?e.name:void 0;var c=e.node_attrs[n].value;if(!(0,r.mg)(c))return;return c}return i?e.node_attrs[n]?e.node_attrs[n].entropy:void 0:l&&e.node_attrs[n]?e.node_attrs[n].confidence:void 0}},c=function(e){if(e.node_attrs&&void 0!==e.node_attrs.div)return e.node_attrs.div},s=function(e){if(e.node_attrs&&e.node_attrs.vaccine)return e.node_attrs.vaccine},u=function(e){return e.node_attrs&&e.node_attrs.author&&e.node_attrs.author.value?e.node_attrs.author:void 0},f=function(e){var n,t;return e.node_attrs&&((0,r.mg)(e.node_attrs.accession)&&(n=e.node_attrs.accession),t=p(e.node_attrs.url)),{accession:n,url:t}},d=function(e,n){if(e.node_attrs&&e.node_attrs[n])return p(e.node_attrs[n].url)};function p(e){if(void 0!==e)try{if("string"!=typeof e)throw new Error;return e.startsWith("http_")&&(e=e.replace("http_","http:")),e.startsWith("https_")&&(e=e.replace("https_","https:")),new URL(e).href}catch(n){return void console.warn("Dataset provided the invalid URL ".concat(e))}}function h(e){var n=new Set;return e.forEach((function(e){e.branch_attrs&&e.branch_attrs.mutations&&Object.keys(e.branch_attrs.mutations).length&&Object.entries(e.branch_attrs.mutations).forEach((function(e){var t=i(e,2),r=t[0];t[1].forEach((function(e){var t=[e.slice(0,1),e.slice(1,-1),e.slice(-1)],o=t[0],i=t[1],a=t[2];n.add("".concat(r," ").concat(i).concat(a)),n.add("".concat(r," ").concat(i).concat(o))}))}))})),n}var y=function(e){var n={};return function e(t){t.branch_attrs&&t.branch_attrs.mutations&&Object.keys(t.branch_attrs.mutations).length&&Object.entries(t.branch_attrs.mutations).forEach((function(e){var t=i(e,2),r=t[0],o=t[1];"nuc"!==r&&"nuc"===r||(n[r]||(n[r]={}),o.forEach((function(e){var t=[e.slice(0,1),e.slice(1,-1),e.slice(-1)],o=t[0],i=t[1],a=t[2];n[r][i]?n[r][i][0]=o:n[r][i]=[o,a]})))}));var r=t.arrayIdx,o=t.parent;o&&o.arrayIdx!==r&&e(o)}(e),n},m=function(e,n){var t=e.branch_attrs&&e.branch_attrs.mutations;if("object"!==o(t))return{};var r=function(e,n,t){for(var r={},o=function(){var o=a[i],l={unique:[],homoplasies:[],gaps:[],reversionsToRoot:[],undeletions:[]},c="nuc"===o;c&&(l.ns=[]),e[o].forEach((function(e){var r=e.slice(0,1),i=e.slice(-1);"-"===r?l.undeletions.push(e):"-"===i?l.gaps.push(e):c&&"N"===i?l.ns.push(e):n["".concat(o,":").concat(e)]>1?l.homoplasies.push(e):l.unique.push(e);var a=e.slice(1,-1);"-"!==r&&"-"!==i&&"N"!==i&&t[o]&&t[o][a]&&t[o][a][0]===t[o][a][1]&&l.reversionsToRoot.push(e)})),r[o]=l},i=0,a=Object.keys(e);i<a.length;i++)o();return r}(t,n,e.parent===e?{}:y(e));return r},g=function(e){return e.branch_attrs&&e.branch_attrs.mutations,function(e){for(var n={},t=0,r=Object.keys(e);t<r.length;t++){var o=r[t],a={changes:[],gaps:[],reversionsToRoot:[]},l="nuc"===o;l&&(a.ns=[]);for(var c=0,s=Object.entries(e[o]);c<s.length;c++){var u=i(s[c],2),f=u[0],d=i(u[1],2),p=d[0],h=d[1],y="".concat(p).concat(f).concat(h);"-"===h?a.gaps.push(y):l&&"N"===h?a.ns.push(y):p===h?a.reversionsToRoot.push(y):a.changes.push(y)}n[o]=a}return n}(y(e))},b=function(e){if(!e)return function(){return 0};var n=e[0].genes.map((function(e){return e.cds.map((function(e){return[e.name,e.segments[0].rangeGenome["+"===e.strand?0:1]]}))})).flat();n.sort((function(e,n){return e[1]>n[1]?1:-1}));var t={};return n.forEach((function(e,n){var r=i(e,1)[0];t[r]=n+1})),t.nuc=0,function(e,n){return void 0===t[e]?1:void 0===t[n]?-1:t[e]-t[n]}},v=function(e,n){e.forEach((function(e){if(n[e.name]){e.node_attrs||(e.node_attrs={});for(var t=0,r=Object.entries(n[e.name]);t<r.length;t++){var o=i(r[t],2),a=o[0],l=o[1];e.node_attrs[a]=l}}}))},w=function(e,n){e.forEach((function(e){e.node_attrs&&n.forEach((function(n){delete e.node_attrs[n]}))}))}},93604:(e,n,t)=>{"use strict";t.d(n,{w:()=>o});var r=t(70570),o=function(e,n,t,o){for(var i={},a=0;a<n.length;a++)n[a].hasChildren||(i[n[a].name]=a);for(var l=[],c=0;c<e.length;c++){var s=i[e[c].name];!e[c].hasChildren&&s&&t[c]===r.m7&&o[s]===r.m7&&l.push([c,i[e[c].name]])}return l}},57513:(e,n,t)=>{"use strict";t.d(n,{Vv:()=>b,nQ:()=>u,oJ:()=>f,s9:()=>d,vK:()=>g,zk:()=>w});var r=t(70570),o=t(96139),i=t(37275),a=t(11234);function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||c(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){if(e){if("string"==typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,n):void 0}}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var u=function(e,n){return e.filter((function(e,t){return n[t]===r.m7&&!e.hasChildren})).reduce((function(e,n){var t=(0,i.rs)(n,"num_date");return t?[Math.min(t,e[0]),Math.max(t,e[1])]:e}),[1e5,-1e5])},f=function(e,n){var t;for(t=0;t<e.length;t++)if(e[t].name===n)return t;return console.error("strainNameToIdx couldn't find strain"),0},d=function(e,n,t,r){var o,i=0;for(o=0;o<e.length;o++)if(e[o].branch_attrs&&void 0!==e[o].branch_attrs.labels&&e[o].branch_attrs.labels[n]===t){if(0!==i)return console.error("getIdxMatchingLabel found multiple labels ".concat(n,"===").concat(t)),r((0,a.p5)({message:"Specified Zoom Label Found Multiple Times!",details:"Multiple nodes in the tree are labelled '"+n+" "+t+"' - no zoom performed"})),0;i=o}return 0===i&&(console.error("getIdxMatchingLabel couldn't find label ".concat(n,"===").concat(t)),r((0,a.p5)({message:"Specified Zoom Label Value Not Found!",details:"The label '"+n+"' value '"+t+"' was not found in the tree - no zoom performed"}))),i},p=function(e,n){var t=e[0].tipCount;return t||(t=1),e.map((function(e,o){return n[o]===r.m7?(0,r.UX)((e.tipCount+5)/(t+5)):.5}))},h=function e(n,t){0===t.arrayIdx||n[t.parent.arrayIdx]||(n[t.parent.arrayIdx]=!0,e(n,t.parent))},y=function e(n,t){if(!t.hasChildren)return t.arrayIdx;var r=t.children.filter((function(e){return n[e.arrayIdx]}));if(r.length>1)return t.arrayIdx;n[t.arrayIdx]=!1;for(var o=0;o<r.length;o++){var i=e(n,r[o]);if(i)return i}return null},m=function(e,n,t){if(!e.nodes)return console.error("getFiltered() ran without tree.nodes"),null;var o,a,u=[];if(Reflect.ownKeys(n.filters).forEach((function(e){if(e!==r.vD){var t=n.filters[e].filter((function(e){return e.active})).map((function(e){return e.value}));t.length&&u.push({trait:e,values:t})}})),u.length){for(var f=(o=e.nodes.map((function(e,n){return!e.hasChildren&&t[n]&&u.every((function(n){return n.values.includes((0,i.rs)(e,n.trait))}))}))).reduce((function(e,n,t){return n&&e.push(t),e}),[]),d=0;d<f.length;d++)h(o,e.nodes[f[d]]);a=y(o,e.nodes[0])}var p=function(e,n,t){var o=!!Reflect.ownKeys(n).includes(r.vD)&&n[r.vD].filter((function(e){return e.active})).map((function(e){return e.value}));if(o&&o.length){e||(e=Array.from({length:t.length},(function(){return!0})));var i=b(o),a=i.length,l=new Array(a),u=new Array(t.length);!function e(n,t){if(n.branch_attrs&&n.branch_attrs.mutations&&Object.keys(n.branch_attrs.mutations).length)for(var r=n.branch_attrs.mutations,o=0;o<a;o++)if(r[i[o][0]]){var f=r[i[o][0]].map((function(e){return e.slice(1,-1)})),d=r[i[o][0]].map((function(e){return e.slice(-1)})),p=f.indexOf(i[o][1]);-1!==p&&(i[o][2].has(d[p])?t[o]=!0:t[o]=!1,l[o]||(l[o]=r[i[o][0]][p].slice(0,1)))}u[n.arrayIdx]=t,n.hasChildren&&n.children.forEach((function(n){return e(n,function(e){if(Array.isArray(e))return s(e)}(r=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||c(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var r}))}(t[0],Array.from({length:a},(function(){})));var f=l.map((function(e,n){return i[n][2].has(e)})),d=e.map((function(e,n){return!!e&&u[n].map((function(e,n){return void 0===e?f[n]:e})).every((function(e){return e}))})),p=function(e,n){var t=[],r=new Set,o=0;function i(n){r.add(n);var t=e[n].parent.arrayIdx;0===n||r.has(t)||i(t)}return function e(r){if(n[r.arrayIdx])t.push(r.arrayIdx);else if(r.hasChildren)for(var o=0;o<r.children.length;o++)e(r.children[o])}(e[0]),t.forEach((function(e){return i(e)})),function e(n){var t=n.arrayIdx;if(r.has(t))if(n.hasChildren){var i=n.children.filter((function(e){return r.has(e.arrayIdx)}));1===i.length?e(i[0]):o=t}else o=t}(e[0]),o}(t,d);return[d,p]}}(o,n.filters,e.nodes)||[o,a],m=l(p,2);return{filtered:o=m[0],idxOfFilteredRoot:a=m[1]}},g=function(e,n,t){var a=function(e){if(!e.nodes)return console.error("getInView() ran without tree.nodes"),null;var n;try{n=e.nodes.map((function(e){return e.shell.inView}))}catch(t){n=e.nodes.map((function(e){return void 0===e.inView||e.inView}))}return n}(e),l=m(e,n,a)||{},c=l.filtered,s=l.idxOfFilteredRoot,u=function(e,n,t,o,a){return e.nodes?e.nodes.map((function(e,l){if(o[l]&&(!a||a[l])){var c=(0,i.rs)(e,"num_date"),s=(0,i.rs)(e.parent,"num_date");if(!c||!s)return r.m7;if("divOnly"===n.branchLengthsToDisplay)return r.m7;if(c>=t.dateMinNumeric&&c<=t.dateMaxNumeric)return r.m7;if(!(c<t.dateMinNumeric||s>t.dateMaxNumeric))return r.mZ}return r.OR})):(console.error("calcVisibility ran without tree.nodes"),r.m7)}(e,n,t,a,c);return(0,o.fL)(e.nodes[0],u),{visibility:u,visibilityVersion:e.visibilityVersion+1,branchThickness:p(e.nodes,u),branchThicknessVersion:e.branchThicknessVersion+1,idxOfFilteredRoot:s}};function b(e){return e.map((function(e){var n=l(e.split(" "),2),t=n[0],r=n[1];return[t,r.slice(0,-1),r.slice(-1)]})).sort(v).map((function(e,n){return 0===n?[[e[0],e[1],new Set(e[2])]]:e})).reduce((function(e,n){var t=e[e.length-1];return n[0]===t[0]&&n[1]===t[1]?t[2].add(n[2]):e.push([n[0],n[1],new Set(n[2])]),e}))}function v(e,n){if(e[0]!==n[0])return"nuc"===e[0]?1:"nuc"===n[0]||e<n?-1:1;var t=[parseInt(e[1],10),parseInt(n[1],10)],r=t[0],o=t[1];return r>o?1:o>r?-1:e[2]>n[2]?1:e[2]<n[2]?-1:0}var w=function(e,n){var t=0;return e.forEach((function(e,o){e.hasChildren||n[o]!==r.m7||(t+=1)})),t}},6002:(e,n,t)=>{(n=t(55788)(!1)).push([e.id,'/*!\n * Bootstrap v3.3.7 (http://getbootstrap.com)\n * Copyright 2011-2017 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */\n\n/*!\n * Generated using the Bootstrap Customizer (http://getbootstrap.com/customize/?id=6b86ca18d196601f4dc3dca9dfd88c2f)\n * Config saved to config.json and https://gist.github.com/6b86ca18d196601f4dc3dca9dfd88c2f\n */\n/*!\n * Bootstrap v3.3.7 (http://getbootstrap.com)\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */\n/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */\n\n/* i\'ve removed a bunch of stuff here that was in browserCompatability.css already*/\n\n/** {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n*:before,\n*:after {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}*/\nhtml {\n  font-size: 10px;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n/*body {\n  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  line-height: 1.42857143;\n  color: #333333;\n  background-color: #ffffff;\n}*/\ninput,\nbutton,\nselect,\ntextarea {\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n}\na {\n  text-decoration: none;\n}\na:hover,\na:focus {\n  color: #5097BA;\n  text-decoration: underline;\n}\na:focus {\n  outline: 5px auto -webkit-focus-ring-color;\n  outline-offset: -2px;\n}\nfigure {\n  margin: 0;\n}\nimg {\n  vertical-align: middle;\n}\n.img-responsive {\n  display: block;\n  max-width: 100%;\n  height: auto;\n}\n.img-rounded {\n  border-radius: 6px;\n}\n.img-thumbnail {\n  padding: 4px;\n  line-height: 1.42857143;\n  background-color: #ffffff;\n  border: 1px solid #dddddd;\n  border-radius: 4px;\n  -webkit-transition: all 0.2s ease-in-out;\n  -o-transition: all 0.2s ease-in-out;\n  transition: all 0.2s ease-in-out;\n  display: inline-block;\n  max-width: 100%;\n  height: auto;\n}\n.img-circle {\n  border-radius: 50%;\n}\nhr {\n  margin-top: 20px;\n  margin-bottom: 20px;\n  border: 0;\n  border-top: 1px solid #eeeeee;\n}\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n.sr-only-focusable:active,\n.sr-only-focusable:focus {\n  position: static;\n  width: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  clip: auto;\n}\n[role="button"] {\n  cursor: pointer;\n}\n\n\n\n.container {\n  margin-right: auto;\n  margin-left: auto;\n  padding-left: 15px;\n  padding-right: 15px;\n}\n@media (min-width: 768px) {\n  .container {\n    width: 728px;\n  }\n}\n@media (min-width: 992px) {\n  .container {\n    width: 952px;\n  }\n}\n@media (min-width: 1200px) {\n  .container {\n    width: 1150px;\n  }\n}\n.container-fluid {\n  margin-right: auto;\n  margin-left: auto;\n  padding-left: 15px;\n  padding-right: 15px;\n}\n.row {\n  margin-left: -15px;\n  margin-right: -15px;\n}\n.col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12 {\n  position: relative;\n  min-height: 1px;\n  padding-left: 15px;\n  padding-right: 15px;\n}\n.col-xs-1, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9, .col-xs-10, .col-xs-11, .col-xs-12 {\n  float: left;\n}\n.col-xs-12 {\n  width: 100%;\n}\n.col-xs-11 {\n  width: 91.66666667%;\n}\n.col-xs-10 {\n  width: 83.33333333%;\n}\n.col-xs-9 {\n  width: 75%;\n}\n.col-xs-8 {\n  width: 66.66666667%;\n}\n.col-xs-7 {\n  width: 58.33333333%;\n}\n.col-xs-6 {\n  width: 50%;\n}\n.col-xs-5 {\n  width: 41.66666667%;\n}\n.col-xs-4 {\n  width: 33.33333333%;\n}\n.col-xs-3 {\n  width: 25%;\n}\n.col-xs-2 {\n  width: 16.66666667%;\n}\n.col-xs-1 {\n  width: 8.33333333%;\n}\n.col-xs-pull-12 {\n  right: 100%;\n}\n.col-xs-pull-11 {\n  right: 91.66666667%;\n}\n.col-xs-pull-10 {\n  right: 83.33333333%;\n}\n.col-xs-pull-9 {\n  right: 75%;\n}\n.col-xs-pull-8 {\n  right: 66.66666667%;\n}\n.col-xs-pull-7 {\n  right: 58.33333333%;\n}\n.col-xs-pull-6 {\n  right: 50%;\n}\n.col-xs-pull-5 {\n  right: 41.66666667%;\n}\n.col-xs-pull-4 {\n  right: 33.33333333%;\n}\n.col-xs-pull-3 {\n  right: 25%;\n}\n.col-xs-pull-2 {\n  right: 16.66666667%;\n}\n.col-xs-pull-1 {\n  right: 8.33333333%;\n}\n.col-xs-pull-0 {\n  right: auto;\n}\n.col-xs-push-12 {\n  left: 100%;\n}\n.col-xs-push-11 {\n  left: 91.66666667%;\n}\n.col-xs-push-10 {\n  left: 83.33333333%;\n}\n.col-xs-push-9 {\n  left: 75%;\n}\n.col-xs-push-8 {\n  left: 66.66666667%;\n}\n.col-xs-push-7 {\n  left: 58.33333333%;\n}\n.col-xs-push-6 {\n  left: 50%;\n}\n.col-xs-push-5 {\n  left: 41.66666667%;\n}\n.col-xs-push-4 {\n  left: 33.33333333%;\n}\n.col-xs-push-3 {\n  left: 25%;\n}\n.col-xs-push-2 {\n  left: 16.66666667%;\n}\n.col-xs-push-1 {\n  left: 8.33333333%;\n}\n.col-xs-push-0 {\n  left: auto;\n}\n.col-xs-offset-12 {\n  margin-left: 100%;\n}\n.col-xs-offset-11 {\n  margin-left: 91.66666667%;\n}\n.col-xs-offset-10 {\n  margin-left: 83.33333333%;\n}\n.col-xs-offset-9 {\n  margin-left: 75%;\n}\n.col-xs-offset-8 {\n  margin-left: 66.66666667%;\n}\n.col-xs-offset-7 {\n  margin-left: 58.33333333%;\n}\n.col-xs-offset-6 {\n  margin-left: 50%;\n}\n.col-xs-offset-5 {\n  margin-left: 41.66666667%;\n}\n.col-xs-offset-4 {\n  margin-left: 33.33333333%;\n}\n.col-xs-offset-3 {\n  margin-left: 25%;\n}\n.col-xs-offset-2 {\n  margin-left: 16.66666667%;\n}\n.col-xs-offset-1 {\n  margin-left: 8.33333333%;\n}\n.col-xs-offset-0 {\n  margin-left: 0%;\n}\n@media (min-width: 680px) {\n  .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {\n    float: left;\n  }\n  .col-sm-12 {\n    width: 100%;\n  }\n  .col-sm-11 {\n    width: 91.66666667%;\n  }\n  .col-sm-10 {\n    width: 83.33333333%;\n  }\n  .col-sm-9 {\n    width: 75%;\n  }\n  .col-sm-8 {\n    width: 66.66666667%;\n  }\n  .col-sm-7 {\n    width: 58.33333333%;\n  }\n  .col-sm-6 {\n    width: 50%;\n  }\n  .col-sm-5 {\n    width: 41.66666667%;\n  }\n  .col-sm-4 {\n    width: 33.33333333%;\n  }\n  .col-sm-3 {\n    width: 25%;\n  }\n  .col-sm-2 {\n    width: 16.66666667%;\n  }\n  .col-sm-1 {\n    width: 8.33333333%;\n  }\n  .col-sm-pull-12 {\n    right: 100%;\n  }\n  .col-sm-pull-11 {\n    right: 91.66666667%;\n  }\n  .col-sm-pull-10 {\n    right: 83.33333333%;\n  }\n  .col-sm-pull-9 {\n    right: 75%;\n  }\n  .col-sm-pull-8 {\n    right: 66.66666667%;\n  }\n  .col-sm-pull-7 {\n    right: 58.33333333%;\n  }\n  .col-sm-pull-6 {\n    right: 50%;\n  }\n  .col-sm-pull-5 {\n    right: 41.66666667%;\n  }\n  .col-sm-pull-4 {\n    right: 33.33333333%;\n  }\n  .col-sm-pull-3 {\n    right: 25%;\n  }\n  .col-sm-pull-2 {\n    right: 16.66666667%;\n  }\n  .col-sm-pull-1 {\n    right: 8.33333333%;\n  }\n  .col-sm-pull-0 {\n    right: auto;\n  }\n  .col-sm-push-12 {\n    left: 100%;\n  }\n  .col-sm-push-11 {\n    left: 91.66666667%;\n  }\n  .col-sm-push-10 {\n    left: 83.33333333%;\n  }\n  .col-sm-push-9 {\n    left: 75%;\n  }\n  .col-sm-push-8 {\n    left: 66.66666667%;\n  }\n  .col-sm-push-7 {\n    left: 58.33333333%;\n  }\n  .col-sm-push-6 {\n    left: 50%;\n  }\n  .col-sm-push-5 {\n    left: 41.66666667%;\n  }\n  .col-sm-push-4 {\n    left: 33.33333333%;\n  }\n  .col-sm-push-3 {\n    left: 25%;\n  }\n  .col-sm-push-2 {\n    left: 16.66666667%;\n  }\n  .col-sm-push-1 {\n    left: 8.33333333%;\n  }\n  .col-sm-push-0 {\n    left: auto;\n  }\n  .col-sm-offset-12 {\n    margin-left: 100%;\n  }\n  .col-sm-offset-11 {\n    margin-left: 91.66666667%;\n  }\n  .col-sm-offset-10 {\n    margin-left: 83.33333333%;\n  }\n  .col-sm-offset-9 {\n    margin-left: 75%;\n  }\n  .col-sm-offset-8 {\n    margin-left: 66.66666667%;\n  }\n  .col-sm-offset-7 {\n    margin-left: 58.33333333%;\n  }\n  .col-sm-offset-6 {\n    margin-left: 50%;\n  }\n  .col-sm-offset-5 {\n    margin-left: 41.66666667%;\n  }\n  .col-sm-offset-4 {\n    margin-left: 33.33333333%;\n  }\n  .col-sm-offset-3 {\n    margin-left: 25%;\n  }\n  .col-sm-offset-2 {\n    margin-left: 16.66666667%;\n  }\n  .col-sm-offset-1 {\n    margin-left: 8.33333333%;\n  }\n  .col-sm-offset-0 {\n    margin-left: 0%;\n  }\n}\n@media (min-width: 992px) {\n  .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12 {\n    float: left;\n  }\n  .col-md-12 {\n    width: 100%;\n  }\n  .col-md-11 {\n    width: 91.66666667%;\n  }\n  .col-md-10 {\n    width: 83.33333333%;\n  }\n  .col-md-9 {\n    width: 75%;\n  }\n  .col-md-8 {\n    width: 66.66666667%;\n  }\n  .col-md-7 {\n    width: 58.33333333%;\n  }\n  .col-md-6 {\n    width: 50%;\n  }\n  .col-md-5 {\n    width: 41.66666667%;\n  }\n  .col-md-4 {\n    width: 33.33333333%;\n  }\n  .col-md-3 {\n    width: 25%;\n  }\n  .col-md-2 {\n    width: 16.66666667%;\n  }\n  .col-md-1 {\n    width: 8.33333333%;\n  }\n  .col-md-pull-12 {\n    right: 100%;\n  }\n  .col-md-pull-11 {\n    right: 91.66666667%;\n  }\n  .col-md-pull-10 {\n    right: 83.33333333%;\n  }\n  .col-md-pull-9 {\n    right: 75%;\n  }\n  .col-md-pull-8 {\n    right: 66.66666667%;\n  }\n  .col-md-pull-7 {\n    right: 58.33333333%;\n  }\n  .col-md-pull-6 {\n    right: 50%;\n  }\n  .col-md-pull-5 {\n    right: 41.66666667%;\n  }\n  .col-md-pull-4 {\n    right: 33.33333333%;\n  }\n  .col-md-pull-3 {\n    right: 25%;\n  }\n  .col-md-pull-2 {\n    right: 16.66666667%;\n  }\n  .col-md-pull-1 {\n    right: 8.33333333%;\n  }\n  .col-md-pull-0 {\n    right: auto;\n  }\n  .col-md-push-12 {\n    left: 100%;\n  }\n  .col-md-push-11 {\n    left: 91.66666667%;\n  }\n  .col-md-push-10 {\n    left: 83.33333333%;\n  }\n  .col-md-push-9 {\n    left: 75%;\n  }\n  .col-md-push-8 {\n    left: 66.66666667%;\n  }\n  .col-md-push-7 {\n    left: 58.33333333%;\n  }\n  .col-md-push-6 {\n    left: 50%;\n  }\n  .col-md-push-5 {\n    left: 41.66666667%;\n  }\n  .col-md-push-4 {\n    left: 33.33333333%;\n  }\n  .col-md-push-3 {\n    left: 25%;\n  }\n  .col-md-push-2 {\n    left: 16.66666667%;\n  }\n  .col-md-push-1 {\n    left: 8.33333333%;\n  }\n  .col-md-push-0 {\n    left: auto;\n  }\n  .col-md-offset-12 {\n    margin-left: 100%;\n  }\n  .col-md-offset-11 {\n    margin-left: 91.66666667%;\n  }\n  .col-md-offset-10 {\n    margin-left: 83.33333333%;\n  }\n  .col-md-offset-9 {\n    margin-left: 75%;\n  }\n  .col-md-offset-8 {\n    margin-left: 66.66666667%;\n  }\n  .col-md-offset-7 {\n    margin-left: 58.33333333%;\n  }\n  .col-md-offset-6 {\n    margin-left: 50%;\n  }\n  .col-md-offset-5 {\n    margin-left: 41.66666667%;\n  }\n  .col-md-offset-4 {\n    margin-left: 33.33333333%;\n  }\n  .col-md-offset-3 {\n    margin-left: 25%;\n  }\n  .col-md-offset-2 {\n    margin-left: 16.66666667%;\n  }\n  .col-md-offset-1 {\n    margin-left: 8.33333333%;\n  }\n  .col-md-offset-0 {\n    margin-left: 0%;\n  }\n}\n@media (min-width: 1200px) {\n  .col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12 {\n    float: left;\n  }\n  .col-lg-12 {\n    width: 100%;\n  }\n  .col-lg-11 {\n    width: 91.66666667%;\n  }\n  .col-lg-10 {\n    width: 83.33333333%;\n  }\n  .col-lg-9 {\n    width: 75%;\n  }\n  .col-lg-8 {\n    width: 66.66666667%;\n  }\n  .col-lg-7 {\n    width: 58.33333333%;\n  }\n  .col-lg-6 {\n    width: 50%;\n  }\n  .col-lg-5 {\n    width: 41.66666667%;\n  }\n  .col-lg-4 {\n    width: 33.33333333%;\n  }\n  .col-lg-3 {\n    width: 25%;\n  }\n  .col-lg-2 {\n    width: 16.66666667%;\n  }\n  .col-lg-1 {\n    width: 8.33333333%;\n  }\n  .col-lg-pull-12 {\n    right: 100%;\n  }\n  .col-lg-pull-11 {\n    right: 91.66666667%;\n  }\n  .col-lg-pull-10 {\n    right: 83.33333333%;\n  }\n  .col-lg-pull-9 {\n    right: 75%;\n  }\n  .col-lg-pull-8 {\n    right: 66.66666667%;\n  }\n  .col-lg-pull-7 {\n    right: 58.33333333%;\n  }\n  .col-lg-pull-6 {\n    right: 50%;\n  }\n  .col-lg-pull-5 {\n    right: 41.66666667%;\n  }\n  .col-lg-pull-4 {\n    right: 33.33333333%;\n  }\n  .col-lg-pull-3 {\n    right: 25%;\n  }\n  .col-lg-pull-2 {\n    right: 16.66666667%;\n  }\n  .col-lg-pull-1 {\n    right: 8.33333333%;\n  }\n  .col-lg-pull-0 {\n    right: auto;\n  }\n  .col-lg-push-12 {\n    left: 100%;\n  }\n  .col-lg-push-11 {\n    left: 91.66666667%;\n  }\n  .col-lg-push-10 {\n    left: 83.33333333%;\n  }\n  .col-lg-push-9 {\n    left: 75%;\n  }\n  .col-lg-push-8 {\n    left: 66.66666667%;\n  }\n  .col-lg-push-7 {\n    left: 58.33333333%;\n  }\n  .col-lg-push-6 {\n    left: 50%;\n  }\n  .col-lg-push-5 {\n    left: 41.66666667%;\n  }\n  .col-lg-push-4 {\n    left: 33.33333333%;\n  }\n  .col-lg-push-3 {\n    left: 25%;\n  }\n  .col-lg-push-2 {\n    left: 16.66666667%;\n  }\n  .col-lg-push-1 {\n    left: 8.33333333%;\n  }\n  .col-lg-push-0 {\n    left: auto;\n  }\n  .col-lg-offset-12 {\n    margin-left: 100%;\n  }\n  .col-lg-offset-11 {\n    margin-left: 91.66666667%;\n  }\n  .col-lg-offset-10 {\n    margin-left: 83.33333333%;\n  }\n  .col-lg-offset-9 {\n    margin-left: 75%;\n  }\n  .col-lg-offset-8 {\n    margin-left: 66.66666667%;\n  }\n  .col-lg-offset-7 {\n    margin-left: 58.33333333%;\n  }\n  .col-lg-offset-6 {\n    margin-left: 50%;\n  }\n  .col-lg-offset-5 {\n    margin-left: 41.66666667%;\n  }\n  .col-lg-offset-4 {\n    margin-left: 33.33333333%;\n  }\n  .col-lg-offset-3 {\n    margin-left: 25%;\n  }\n  .col-lg-offset-2 {\n    margin-left: 16.66666667%;\n  }\n  .col-lg-offset-1 {\n    margin-left: 8.33333333%;\n  }\n  .col-lg-offset-0 {\n    margin-left: 0%;\n  }\n}\n.clearfix:before,\n.clearfix:after,\n.container:before,\n.container:after,\n.container-fluid:before,\n.container-fluid:after,\n.row:before,\n.row:after {\n  content: " ";\n  display: table;\n}\n.clearfix:after,\n.container:after,\n.container-fluid:after,\n.row:after {\n  clear: both;\n}\n.center-block {\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n}\n.pull-right {\n  float: right !important;\n}\n.pull-left {\n  float: left !important;\n}\n.hide {\n  display: none !important;\n}\n.show {\n  display: block !important;\n}\n.invisible {\n  visibility: hidden;\n}\n.text-hide {\n  font: 0/0 a;\n  color: transparent;\n  text-shadow: none;\n  background-color: transparent;\n  border: 0;\n}\n.hidden {\n  display: none !important;\n}\n.affix {\n  position: fixed;\n}\n',""]),e.exports=n},20714:(e,n,t)=>{(n=t(55788)(!1)).push([e.id,'\n/* HTML5 display definitions\n   ========================================================================== */\n\n/**\n * Correct `block` display not defined for any HTML5 element in IE 8/9.\n * Correct `block` display not defined for `details` or `summary` in IE 10/11\n * and Firefox.\n * Correct `block` display not defined for `main` in IE 11.\n */\n\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmain,\nmenu,\nnav,\nsection,\nsummary {\n  display: block;\n}\n\n/**\n * 1. Correct `inline-block` display not defined in IE 8/9.\n * 2. Normalize vertical alignment of `progress` in Chrome, Firefox, and Opera.\n */\n\naudio,\ncanvas,\nprogress,\nvideo {\n  display: inline-block; /* 1 */\n  vertical-align: baseline; /* 2 */\n}\n\n/**\n * Prevent modern browsers from displaying `audio` without controls.\n * Remove excess height in iOS 5 devices.\n */\n\naudio:not([controls]) {\n  display: none;\n  height: 0;\n}\n\n/**\n * Address `[hidden]` styling not present in IE 8/9/10.\n * Hide the `template` element in IE 8/9/11, Safari, and Firefox < 22.\n */\n\n[hidden],\ntemplate {\n  display: none;\n}\n\n/* Links\n   ========================================================================== */\n\n/**\n * Remove the gray background color from active links in IE 10.\n */\n\na {\n  background-color: transparent;\n}\n\n/**\n * Improve readability when focused and also mouse hovered in all browsers.\n */\n\na:active,\na:hover {\n  outline: 0;\n}\n\n/* Text-level semantics\n   ========================================================================== */\n\n/**\n * Address styling not present in IE 8/9/10/11, Safari, and Chrome.\n */\n\nabbr[title] {\n  border-bottom: 1px dotted;\n}\n\n/**\n * Address style set to `bolder` in Firefox 4+, Safari, and Chrome.\n */\n\nb,\nstrong {\n  font-weight: bold;\n}\n\n/**\n * Address styling not present in Safari and Chrome.\n */\n\ndfn {\n  font-style: italic;\n}\n\n/**\n * Address variable `h1` font-size and margin within `section` and `article`\n * contexts in Firefox 4+, Safari, and Chrome.\n */\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/**\n * Address styling not present in IE 8/9.\n */\n\nmark {\n  background: #ff0;\n  color: #000;\n}\n\n/**\n * Address inconsistent and variable font size in all browsers.\n */\n\nsmall {\n  font-size: 80%;\n}\n\n/**\n * Prevent `sub` and `sup` affecting `line-height` in all browsers.\n */\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsup {\n  top: -0.5em;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\n/* Embedded content\n   ========================================================================== */\n\n/**\n * Remove border when inside `a` element in IE 8/9/10.\n */\n\nimg {\n  border: 0;\n}\n\n/**\n * Correct overflow not hidden in IE 9/10/11.\n */\n\nsvg:not(:root) {\n  overflow: hidden;\n}\n\n/* Grouping content\n   ========================================================================== */\n\n/**\n * Address margin not present in IE 8/9 and Safari.\n */\n\nfigure {\n  margin: 1em 40px;\n}\n\n/**\n * Address differences between Firefox and other browsers.\n */\n\nhr {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n  height: 0;\n}\n\n/**\n * Contain overflow in all browsers.\n */\n\npre {\n  overflow: auto;\n}\n\n/**\n * Address odd `em`-unit font size rendering in all browsers.\n */\n\ncode,\nkbd,\npre,\nsamp {\n  font-family: monospace, monospace;\n  font-size: 1em;\n}\n\n/* Forms\n   ========================================================================== */\n\n/**\n * Known limitation: by default, Chrome and Safari on OS X allow very limited\n * styling of `select`, unless a `border` property is set.\n */\n\n/**\n * 1. Correct color not being inherited.\n *    Known issue: affects color of disabled elements.\n * 2. Correct font properties not being inherited.\n * 3. Address margins set differently in Firefox 4+, Safari, and Chrome.\n */\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  color: inherit; /* 1 */\n  font: inherit; /* 2 */\n  margin: 0; /* 3 */\n}\n\n/**\n * Address `overflow` set to `hidden` in IE 8/9/10/11.\n */\n\nbutton {\n  overflow: visible;\n}\n\n/**\n * Address inconsistent `text-transform` inheritance for `button` and `select`.\n * All other form control elements do not inherit `text-transform` values.\n * Correct `button` style inheritance in Firefox, IE 8/9/10/11, and Opera.\n * Correct `select` style inheritance in Firefox.\n */\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/**\n * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`\n *    and `video` controls.\n * 2. Correct inability to style clickable `input` types in iOS.\n * 3. Improve usability and consistency of cursor style between image-type\n *    `input` and others.\n */\n\nbutton,\nhtml input[type="button"], /* 1 */\ninput[type="reset"],\ninput[type="submit"] {\n  -webkit-appearance: button; /* 2 */\n  cursor: pointer; /* 3 */\n}\n\n/**\n * Re-set default cursor for disabled elements.\n */\n\nbutton[disabled],\nhtml input[disabled] {\n  cursor: default;\n}\n\n/**\n * Remove inner padding and border in Firefox 4+.\n */\n\nbutton::-moz-focus-inner,\ninput::-moz-focus-inner {\n  border: 0;\n  padding: 0;\n}\n\n/**\n * Address Firefox 4+ setting `line-height` on `input` using `!important` in\n * the UA stylesheet.\n */\n\ninput {\n  line-height: normal;\n}\n\n/**\n * It\'s recommended that you don\'t attempt to style these elements.\n * Firefox\'s implementation doesn\'t respect box-sizing, padding, or width.\n *\n * 1. Address box sizing set to `content-box` in IE 8/9/10.\n * 2. Remove excess padding in IE 8/9/10.\n */\n\ninput[type="checkbox"],\ninput[type="radio"] {\n  box-sizing: border-box; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Fix the cursor style for Chrome\'s increment/decrement buttons. For certain\n * `font-size` values of the `input`, it causes the cursor style of the\n * decrement button to change from `default` to `text`.\n */\n\ninput[type="number"]::-webkit-inner-spin-button,\ninput[type="number"]::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n * 1. Address `appearance` set to `searchfield` in Safari and Chrome.\n * 2. Address `box-sizing` set to `border-box` in Safari and Chrome\n *    (include `-moz` to future-proof).\n */\n\ninput[type="search"] {\n  -webkit-appearance: textfield; /* 1 */\n  -moz-box-sizing: content-box;\n  -webkit-box-sizing: content-box; /* 2 */\n  box-sizing: content-box;\n}\n\n/**\n * Remove inner padding and search cancel button in Safari and Chrome on OS X.\n * Safari (but not Chrome) clips the cancel button when the search input has\n * padding (and `textfield` appearance).\n */\n\ninput[type="search"]::-webkit-search-cancel-button,\ninput[type="search"]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n * Define consistent border, margin, and padding.\n */\n\nfieldset {\n  border: 1px solid #c0c0c0;\n  margin: 0 2px;\n  padding: 0.35em 0.625em 0.75em;\n}\n\n/**\n * 1. Correct `color` not being inherited in IE 8/9/10/11.\n * 2. Remove padding so people aren\'t caught out if they zero out fieldsets.\n */\n\nlegend {\n  border: 0; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Remove default vertical scrollbar in IE 8/9/10/11.\n */\n\ntextarea {\n  overflow: auto;\n}\n\n/**\n * Don\'t inherit the `font-weight` (applied by a rule above).\n * NOTE: the default cannot safely be changed in Chrome and Safari on OS X.\n */\n\noptgroup {\n  font-weight: bold;\n}\n\n/* Tables\n   ==========================================================================\n   MOVED TO GLOBAL.CSS\n   */\n',""]),e.exports=n},89143:(e,n,t)=>{(n=t(55788)(!1)).push([e.id,'\nhtml, p, div, input, button {\n  font-family: "Lato", "Helvetica Neue", "Helvetica", "sans-serif";\n  font-weight: 400;\n}\n/*! normalize.css v3.0.2 | MIT License | git.io/normalize */\n\n/**\n * 1. Set default font family to sans-serif.\n * 2. Prevent iOS text size adjust after orientation change, without disabling\n *    user zoom.\n */\nhtml {\n  font-family: sans-serif; /* 1 */\n  -ms-text-size-adjust: 100%; /* 2 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  -webkit-overflow-scrolling: touch;  \n}\n/**\n * Remove default margin.\n */\nhtml, body, #root, [data-reactid=".0"] {\n  margin: 0;\n  height: 100%;\n  position: relative;\n}\n\n/*\nlinks\n*/\na, .link {\n  color: #5097BA;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: "Lato", "Helvetica Neue", "Helvetica", "sans-serif";\n  font-weight: 400;\n  font-size: 94%;\n}\n\n/* from Bootstrap */\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n\ntd,\nth {\n  padding: 0;\n}\n/* end bootstrap */\n\n.panel th {\n  text-align: left;\n  padding-right: 10px;\n}\n.panel td {\n  text-align: left;\n  padding: 3px;\n}\n\nbutton:focus {outline:0;}\n',""]),e.exports=n},74261:(e,n,t)=>{(n=t(55788)(!1)).push([e.id,"/*\nhttps://github.com/atom/notifications/blob/master/styles/notifications.less\nhttps://github.com/atom/atom/blob/master/static/variables/octicon-utf-codes.less\nhttps://github.com/atom/atom/blob/master/static/variables/octicon-mixins.less\nhttps://github.com/atom/atom/blob/master/static/variables/ui-variables.less\n*/\n\n:root {\n  --icon-size: 35px;\n  --icon-size-plus-padding: 45px;\n  --width: 450px;\n  --width-detail: 450px;\n  --min-h: 50px;\n\n  --background-color-info: #0098ff;\n  --background-color-success: #00ce4c;\n  --background-color-warning: #ff8533;\n  --background-color-error: #c00;\n\n  --text-color-info: #3b71ab;\n  --text-color-success: #17944e;\n  --text-color-warning: #bf5818;\n  --text-color-error: #9c0101;\n}\n\n.notifications {\n  display: block;\n  z-index: 1000;\n  position: fixed;\n  top: 20px;\n  right: 0;\n  bottom: 0;\n  padding: 0;\n  /*font-size: 1.2em;*/\n  overflow-x: hidden;\n  overflow-y: auto;\n  pointer-events: none;\n}\n\n.notification {\n  float: right;\n  clear: right;\n  position: relative;\n  width: var(--width);\n  padding-left: var(--icon-size-plus-padding);\n  margin-bottom: 4px;\n  max-height: 800px;\n  min-height: var(--min-h);\n  word-wrap: break-word;\n  pointer-events: auto;\n}\n\n/* BACKGROUND & TEXT COLOURS */\n.notification.error {\n  background-color: var(--background-color-error);\n  color: var(--text-color-error);\n}\n\n.notification.warning {\n  background-color: var(--background-color-warning);\n  color: var(--text-color-warning);\n}\n\n.notification.info {\n  background-color: var(--background-color-info);\n  color: var(--text-color-info);\n}\n\n.notification.success {\n  background-color: var(--background-color-success);\n  color: var(--text-color-success);\n}\n\n.notification .content {\n  background-color: rgba(255, 255, 255, 0.5);\n  min-height: var(--min-h);\n  /* top | right | bottom | left */\n  padding: 5px 0px 0px 5px;\n}\n\n.notification .message {\n  font-size: 22px;\n  /*color: white;*/\n  background-clip: padding-box;\n  max-height: 200px;\n  overflow-y: auto;\n}\n\n.notification .detail {\n  font-size: 14px;\n  font-weight: 200;\n  /*background-color: rgba(255, 255, 255, 0.3);*/\n  background-clip: padding-box;\n  max-height: 500px;\n  overflow-y: auto;\n}\n\n.notification .icon {\n  font-size: var(--icon-size);\n  width: var(--icon-size);\n  height: var(--icon-size);\n  top: 0;\n  left: 0;\n  /* top | right | bottom | left */\n  margin: 7px 0px 0px 5px;\n  /*padding: 0;*/\n  position: absolute;\n  /*fill: white;*/\n  fill: rgba(255, 255, 255, 0.8);\n  font-weight: normal;\n  font-style: normal;\n  line-height: 1;\n  -webkit-font-smoothing: antialiased;\n  text-decoration: none;\n}\n\n.notification .close-icon {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 20px;\n  height: 20px;\n  margin: 5px 5px 0px 0px;\n  fill: rgba(255, 255, 255, 0.8);\n}\n\n/*\nhttps://facebook.github.io/react/docs/animation.html#high-level-api-reactcsstransitiongroup\n*/\n.notification-enter {\n  left: var(--width);\n}\n\n.notification-enter.notification-enter-active {\n  transition: 400ms ease-in;\n  left: 0;\n}\n\n.notification-leave {\n  left: 0;\n}\n\n.notification-leave.notification-leave-active {\n  transition: 400ms ease-in;\n  left: var(--width);\n}\n",""]),e.exports=n},30360:(e,n,t)=>{(n=t(55788)(!1)).push([e.id,"/**\n * React Select\n * ============\n * Created by Jed Watson and Joss Mackison for KeystoneJS, http://www.keystonejs.com/\n * https://twitter.com/jedwatson https://twitter.com/jossmackison https://twitter.com/keystonejs\n * MIT License: https://github.com/JedWatson/react-select\n*/\n.Select {\n  position: relative;\n}\n.Select,\n.Select div,\n.Select input,\n.Select span {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.Select.is-disabled > .Select-control {\n  background-color: #f9f9f9;\n}\n.Select.is-disabled > .Select-control:hover {\n  box-shadow: none;\n}\n.Select.is-disabled .Select-arrow-zone {\n  cursor: default;\n  pointer-events: none;\n  opacity: 0.35;\n}\n.Select-control {\n  background-color: #fafafa;\n  border-color: #d9d9d9 #ccc #b3b3b3;\n  border-radius: 4px;\n  border: 1px solid #ccc;\n  color: #333;\n  cursor: default;\n  display: table;\n  border-spacing: 0;\n  border-collapse: separate;\n  height: 36px;\n  outline: none;\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n}\n.Select-control:hover {\n  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.06);\n}\n.Select-control .Select-input:focus {\n  outline: none;\n}\n.is-searchable.is-open > .Select-control {\n  cursor: text;\n}\n.is-open > .Select-control {\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 0;\n  background: #fafafa;\n  border-color: #b3b3b3 #ccc #d9d9d9;\n}\n.is-open > .Select-control .Select-arrow {\n  top: -2px;\n  border-color: transparent transparent #999;\n  border-width: 0 5px 5px;\n}\n.is-searchable.is-focused:not(.is-open) > .Select-control {\n  cursor: text;\n}\n.is-focused:not(.is-open) > .Select-control {\n  border-color: #007eff;\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 0 3px rgba(0, 126, 255, 0.1);\n}\n.Select-placeholder,\n.Select--single > .Select-control .Select-value {\n  bottom: 0;\n  color: #aaa;\n  left: 0;\n  line-height: 34px;\n  padding-left: 10px;\n  padding-right: 10px;\n  position: absolute;\n  right: 0;\n  top: 0;\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.has-value.is-clearable.Select--single > .Select-control .Select-value {\n  padding-right: 42px;\n}\n.has-value.Select--single > .Select-control .Select-value .Select-value-label,\n.has-value.is-pseudo-focused.Select--single > .Select-control .Select-value .Select-value-label {\n  color: #333;\n}\n.has-value.Select--single > .Select-control .Select-value a.Select-value-label,\n.has-value.is-pseudo-focused.Select--single > .Select-control .Select-value a.Select-value-label {\n  cursor: pointer;\n  text-decoration: none;\n}\n.has-value.Select--single > .Select-control .Select-value a.Select-value-label:hover,\n.has-value.is-pseudo-focused.Select--single > .Select-control .Select-value a.Select-value-label:hover,\n.has-value.Select--single > .Select-control .Select-value a.Select-value-label:focus,\n.has-value.is-pseudo-focused.Select--single > .Select-control .Select-value a.Select-value-label:focus {\n  color: #007eff;\n  outline: none;\n  text-decoration: underline;\n}\n.Select-input {\n  height: 34px;\n  padding-left: 10px;\n  padding-right: 10px;\n  vertical-align: middle;\n}\n.Select-input > input {\n  width: 100%;\n  background: none transparent;\n  border: 0 none;\n  box-shadow: none;\n  cursor: default;\n  display: inline-block;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  outline: none;\n  line-height: 14px;\n  /* For IE 8 compatibility */\n  padding: 8px 0 12px;\n  /* For IE 8 compatibility */\n  -webkit-appearance: none;\n}\n.is-focused .Select-input > input {\n  cursor: text;\n}\n.has-value.is-pseudo-focused .Select-input {\n  opacity: 0;\n}\n.Select-control:not(.is-searchable) > .Select-input {\n  outline: none;\n}\n.Select-loading-zone {\n  cursor: pointer;\n  display: table-cell;\n  position: relative;\n  text-align: center;\n  vertical-align: middle;\n  width: 16px;\n}\n.Select-loading {\n  -webkit-animation: Select-animation-spin 400ms infinite linear;\n  -o-animation: Select-animation-spin 400ms infinite linear;\n  animation: Select-animation-spin 400ms infinite linear;\n  width: 16px;\n  height: 16px;\n  box-sizing: border-box;\n  border-radius: 50%;\n  border: 2px solid #ccc;\n  border-right-color: #333;\n  display: inline-block;\n  position: relative;\n  vertical-align: middle;\n}\n.Select-clear-zone {\n  -webkit-animation: Select-animation-fadeIn 200ms;\n  -o-animation: Select-animation-fadeIn 200ms;\n  animation: Select-animation-fadeIn 200ms;\n  color: #999;\n  cursor: pointer;\n  display: table-cell;\n  position: relative;\n  text-align: center;\n  vertical-align: middle;\n  width: 17px;\n}\n.Select-clear-zone:hover {\n  color: #D0021B;\n}\n.Select-clear {\n  display: inline-block;\n  font-size: 18px;\n  line-height: 1;\n}\n.Select--multi .Select-clear-zone {\n  width: 17px;\n}\n.Select-arrow-zone {\n  cursor: pointer;\n  display: table-cell;\n  position: relative;\n  text-align: center;\n  vertical-align: middle;\n  width: 25px;\n  padding-right: 5px;\n}\n.Select-arrow {\n  border-color: #999 transparent transparent;\n  border-style: solid;\n  border-width: 5px 5px 2.5px;\n  display: inline-block;\n  height: 0;\n  width: 0;\n  position: relative;\n}\n.is-open .Select-arrow,\n.Select-arrow-zone:hover > .Select-arrow {\n  border-top-color: #666;\n}\n.Select--multi .Select-multi-value-wrapper {\n  display: inline-block;\n}\n.Select .Select-aria-only {\n  display: inline-block;\n  height: 1px;\n  width: 1px;\n  margin: -1px;\n  clip: rect(0, 0, 0, 0);\n  overflow: hidden;\n  float: left;\n}\n@-webkit-keyframes Select-animation-fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@keyframes Select-animation-fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n.Select-menu-outer {\n  border-bottom-right-radius: 4px;\n  border-bottom-left-radius: 4px;\n  background-color: #fafafa;\n  border: 1px solid #ccc;\n  border-top-color: #e6e6e6;\n  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.06);\n  box-sizing: border-box;\n  margin-top: -1px;\n  max-height: 300px;\n  position: absolute;\n  top: 100%;\n  width: 100%;\n  z-index: 1;\n  -webkit-overflow-scrolling: touch;\n}\n.Select-menu {\n  max-height: 298px;\n  overflow-y: auto;\n}\n.Select-option {\n  box-sizing: border-box;\n  background-color: #fafafa;\n  color: #666666;\n  cursor: pointer;\n  display: block;\n  padding: 8px 10px;\n}\n.Select-option:last-child {\n  border-bottom-right-radius: 4px;\n  border-bottom-left-radius: 4px;\n}\n.Select-option.is-selected {\n  background-color: #f5faff;\n  /* Fallback color for IE 8 */\n  background-color: rgba(0, 126, 255, 0.04);\n  color: #333;\n}\n.Select-option.is-focused {\n  background-color: #ebf5ff;\n  /* Fallback color for IE 8 */\n  background-color: rgba(0, 126, 255, 0.08);\n  color: #333;\n}\n.Select-option.is-disabled {\n  color: #cccccc;\n  cursor: default;\n}\n.Select-noresults {\n  box-sizing: border-box;\n  color: #999999;\n  cursor: default;\n  display: block;\n  padding: 8px 10px;\n}\n.Select--multi .Select-input {\n  vertical-align: middle;\n  margin-left: 10px;\n  padding: 0;\n}\n.Select--multi.has-value .Select-input {\n  margin-left: 5px;\n}\n.Select--multi .Select-value {\n  background-color: #ebf5ff;\n  /* Fallback color for IE 8 */\n  background-color: rgba(0, 126, 255, 0.08);\n  border-radius: 2px;\n  border: 1px solid #c2e0ff;\n  /* Fallback color for IE 8 */\n  border: 1px solid rgba(0, 126, 255, 0.24);\n  color: #007eff;\n  display: inline-block;\n  font-size: 0.9em;\n  line-height: 1.4;\n  margin-left: 5px;\n  margin-top: 5px;\n  vertical-align: top;\n}\n.Select--multi .Select-value-icon,\n.Select--multi .Select-value-label {\n  display: inline-block;\n  vertical-align: middle;\n}\n.Select--multi .Select-value-label {\n  border-bottom-right-radius: 2px;\n  border-top-right-radius: 2px;\n  cursor: default;\n  padding: 2px 5px;\n}\n.Select--multi a.Select-value-label {\n  color: #007eff;\n  cursor: pointer;\n  text-decoration: none;\n}\n.Select--multi a.Select-value-label:hover {\n  text-decoration: underline;\n}\n.Select--multi .Select-value-icon {\n  cursor: pointer;\n  border-bottom-left-radius: 2px;\n  border-top-left-radius: 2px;\n  border-right: 1px solid #c2e0ff;\n  /* Fallback color for IE 8 */\n  border-right: 1px solid rgba(0, 126, 255, 0.24);\n  padding: 1px 5px 3px;\n}\n.Select--multi .Select-value-icon:hover,\n.Select--multi .Select-value-icon:focus {\n  background-color: #d8eafd;\n  /* Fallback color for IE 8 */\n  background-color: rgba(0, 113, 230, 0.08);\n  color: #0071e6;\n}\n.Select--multi .Select-value-icon:active {\n  background-color: #c2e0ff;\n  /* Fallback color for IE 8 */\n  background-color: rgba(0, 126, 255, 0.24);\n}\n.Select--multi.is-disabled .Select-value {\n  background-color: #fcfcfc;\n  border: 1px solid #e3e3e3;\n  color: #333;\n}\n.Select--multi.is-disabled .Select-value-icon {\n  cursor: not-allowed;\n  border-right: 1px solid #e3e3e3;\n}\n.Select--multi.is-disabled .Select-value-icon:hover,\n.Select--multi.is-disabled .Select-value-icon:focus,\n.Select--multi.is-disabled .Select-value-icon:active {\n  background-color: #fcfcfc;\n}\n@keyframes Select-animation-spin {\n  to {\n    transform: rotate(1turn);\n  }\n}\n@-webkit-keyframes Select-animation-spin {\n  to {\n    -webkit-transform: rotate(1turn);\n  }\n}\n",""]),e.exports=n},80105:(e,n,t)=>{(n=t(55788)(!1)).push([e.id,'\n/* Variables - keep in sync with globalStyles.js*/\n:root {\n  --darkGrey: #333;\n  --medGrey: #888;\n  --lightGrey: #CCC;\n  --brandColor: #5097BA;\n}\n\n/* stop horizontal scroll bar appearing*/\nbody {\n  overflow-x: hidden;\n}\n\n/* The width and height properties include\nthe content, the padding and border, but not the margin.\n*/\n.static * {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.static *:before,\n.static *:after {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n.static .line {\n  margin-top: 20px;\n  margin-bottom: 20px;\n  border-bottom: 1px solid #CCC;\n}\n\n.static .main {\n  margin-top: 30px;\n}\n\n.static .title {\n  font-size: 28;\n}\n\n.static div {\n  text-align: justify;\n  font-size: 16px;\n  margin-top: 5px;\n  margin-bottom: 5px;\n  font-weight: 300;\n  color: var(--darkGrey);\n  line-height: 1.42857143;\n}\n\n.static h1 {\n  text-align: left;\n  font-size: 38px;\n  line-height: 32px;\n  font-weight: 300;\n  color: var(--darkGrey);\n  min-width: 240px;\n  margin-top: 40px;\n  margin-bottom: 30px;\n}\n\n.static h2 {\n  text-align: left;\n  font-size: 16px;\n  line-height: 28px;\n  margin-top: 15px;\n  margin-bottom: 5px;\n  font-weight: 500;\n  color: var(--darkGrey);\n  border-bottom: 10px;\n  min-width: 240px;\n}\n\n.static h3 {\n  text-align: left;\n  font-size: 16px;\n  line-height: 28px;\n  margin-top: 10px;\n  margin-bottom: 0px;\n  font-weight: 500;\n  color: var(--darkGrey);\n  border-bottom: 0px;\n  min-width: 240px;\n}\n\n.static .bigspacer {\n  height: 30px;\n}\n\n.static .hugespacer {\n  height: 50px;\n}\n\n.static .bigspacer {\n  height: 30px;\n}\n\n.static .spacer {\n  height: 10px;\n}\n\n.static .smallspacer {\n  height: 5px;\n}\n\n.static .highlight {\n  background-color: white;\n  color: var(--medGrey);\n  font-size: 94%; /* same as <a>*/\n}\n\nstrong {\n  background-color: white;\n  color: var(--medGrey);\n  font-size: 94%; /* same as <a>*/\n}\n\n.static.container {\n  padding-left: 25px;\n  padding-right: 25px;\n}\n\n.static .col-md-9 img {\n  width: 100%;\n}\n\n.static .clickable {\n  color: #5097BA;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: "Lato", "Helvetica Neue", "Helvetica", "sans-serif";\n  font-weight: 400;\n  font-size: 94%;\n}\n/*.static aside {\n  float: right;\n}*/\n@media (min-width: 992px) {\n  .static aside {\n    float: right;\n    padding-left: 30px;\n    text-align: left;\n  }\n  .static .col-md-3 h1 {\n    text-align: right;\n    float: right;\n  }\n  .static .col-md-3 h2 {\n    text-align: right;\n    float: right;\n  }\n}\n\n.static .aside {\n  font-size: 13px;\n  font-weight: 300;\n}\n\n/* https://stackoverflow.com/questions/16771225/css3-rotate-animation */\n.spinner {\n    position: relative;\n    /*top: 50%;*/\n    left: 50%;\n    width: 80px;\n    height: 80px;\n    margin: 0px 0px 0px -40px;\n    -webkit-animation:spin 1s linear infinite;\n    -moz-animation:spin 1s linear infinite;\n    animation:spin 1s linear infinite;\n}\n@-moz-keyframes spin { 100% { -moz-transform: rotate(360deg); } }\n@-webkit-keyframes spin { 100% { -webkit-transform: rotate(360deg); } }\n@keyframes spin { 100% { -webkit-transform: rotate(360deg); transform:rotate(360deg); } }\n',""]),e.exports=n},42915:(e,n,t)=>{var r=t(6002);"string"==typeof r&&(r=[[e.id,r,""]]),t(14246)(r,{}),r.locals&&(e.exports=r.locals)},58950:(e,n,t)=>{var r=t(20714);"string"==typeof r&&(r=[[e.id,r,""]]),t(14246)(r,{}),r.locals&&(e.exports=r.locals)},43858:(e,n,t)=>{var r=t(89143);"string"==typeof r&&(r=[[e.id,r,""]]),t(14246)(r,{}),r.locals&&(e.exports=r.locals)},99842:(e,n,t)=>{var r=t(74261);"string"==typeof r&&(r=[[e.id,r,""]]),t(14246)(r,{}),r.locals&&(e.exports=r.locals)},62991:(e,n,t)=>{var r=t(30360);"string"==typeof r&&(r=[[e.id,r,""]]),t(14246)(r,{}),r.locals&&(e.exports=r.locals)},2667:(e,n,t)=>{var r=t(80105);"string"==typeof r&&(r=[[e.id,r,""]]),t(14246)(r,{}),r.locals&&(e.exports=r.locals)},59848:(e,n,t)=>{var r={"./language.json":76369,"./sidebar.json":78336,"./translation.json":61996};function o(e){return i(e).then((e=>t.t(e,3)))}function i(e){return Promise.resolve().then((()=>{if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}))}o.keys=()=>Object.keys(r),o.resolve=i,o.id=59848,e.exports=o},57617:(e,n,t)=>{"use strict";e.exports=t.p+"13fec0d41212fe68ae22.png"},76369:e=>{"use strict";e.exports={name:"English"}},78336:e=>{"use strict";e.exports=JSON.parse('{"Dataset":"Dataset","Date Range":"Date Range","Color By":"Color By","Layout":"Layout","rectangular":"rectangular","radial":"radial","unrooted":"unrooted","clock":"clock","Branch Length":"Branch Length","time":"time","divergence":"divergence","Show confidence intervals":"Show confidence intervals","Branch Labels":"Branch Labels","Search Strains":"Search Strains","Second Tree":"Second Tree","Geographic resolution":"Geographic resolution","Animation Speed":"Animation Speed","Loop animation":"Loop animation","Animate cumulative history":"Animate cumulative history","Display":"Display","Tree":"Tree","Map":"Map","Entropy":"Entropy","Language":"Language","Slow":"Slow","Medium":"Medium","Fast":"Fast","full":"full","grid":"grid"}')},61996:e=>{"use strict";e.exports=JSON.parse('{"__Header//Byline__":"########################################","Maintained by":"Maintained by","using data from":"using data from","Built with":"Built with","__Header//Info__":"########################################","Showing {{x}} of {{y}} genomes":"Showing {{x}} of {{y}} genomes","Showing {{x}} of {{y}} genomes sampled between {{from}} and {{to}}":"Showing {{x}} of {{y}} genomes sampled between {{from}} and {{to}}","Comprising":"Comprising","Animation in progress":"Animation in progress","Filtered to":"Filtered to","__Download Modal__":"########################################","click outside this box to return to the app":"click outside this box to return to the app","last updated":"last updated","A full list of sequence authors is available via the TSV files below":"A full list of sequence authors is available via the TSV files below","Data usage policy":"Data usage policy","Please cite the authors who contributed genomic data (where relevant), as well as":"Please cite the authors who contributed genomic data (where relevant), as well as","Download data":"Download data","Data usage part 1":"The data presented here is intended to rapidly disseminate analysis of important pathogens. Unpublished data is included with permission of the data generators, and does not impact their right to publish. ","Data usage part 2":"Please contact the respective authors (available via the TSV files below) if you intend to carry out further research using their data. Derived data, such as phylogenies, can be downloaded below - please contact the relevant authors where appropriate.","__Entropy Panel__":"########################################","Diversity":"Diversity","entropy":"entropy","events":"events","Codon {{codon}} in protein {{protein}}":"Codon {{codon}} in protein {{protein}}","Nucleotide {{nuc}}":"Nucleotide {{nuc}}","Nuc positions {{a}} to {{b}}":"Nuc positions {{a}} to {{b}}","Num mutations":"Num mutations","Negative strand":"Negative strand","Positive strand":"Positive strand","Click to color tree & map":"Click to color tree & map","__Footer__":"########################################","Filter by {{filterTitle}}":"Filter by {{filterTitle}}","Data updated":"Data updated","__Map panel__":"########################################","Transmissions":"Transmissions","Geography":"Geography","reset zoom":"reset zoom","Reset":"Reset","Play":"Play","Pause":"Pause","__Tree (Phylogeny) panel__":"########################################","Phylogeny":"Phylogeny","Reset Layout":"Reset Layout","Click on tip to display more info":"Click on tip to display more info","Click to zoom into clade":"Click to zoom into clade","Click to zoom out to parent clade":"Click to zoom out to parent clade","Branch leading to":"Branch leading to","Number of descendants":"Number of descendants","Nucleotide mutations":"Nucleotide mutations","AA mutations":"AA mutations","protein mutations truncated":"protein mutations truncated","Gaps":"Gaps","{{x}} more":"{{x}} more","No nucleotide mutations":"No nucleotide mutations","No amino acid mutations":"No amino acid mutations","Divergence":"Divergence","Date":"Date","Collection date":"Collection date","Inferred collection date":"Inferred collection date","Inferred Date":"Inferred Date","Date Confidence Interval":"Date Confidence Interval","Vaccine selected":"Vaccine selected","Vaccine start date":"Vaccine start date","Vaccine end date":"Vaccine end date","Serum strain":"Serum strain","Click outside this box to go back to the tree":"Click outside this box to go back to the tree","Authors":"Authors","Title":"Title","Journal":"Journal","__Frequencies panel__":"########################################","Frequencies":"Frequencies","colored by":"colored by","Projection":"Projection","Time point":"Time point","Frequency":"Frequency","Projected frequency":"Projected frequency"}')}}]);