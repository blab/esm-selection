(self.webpackChunkauspice=self.webpackChunkauspice||[]).push([[569,501],{55467:(e,t)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}if("object"!=n(t)||void 0===t)var r={};else r=e.exports={};!function(e,t){var n=new Array(50);function r(e,r){return n[e]!=t&&n[e][r]!=t}function o(e,t){return n[e][t]}function i(e,r,o){n.length<e?(n.length=e,n[e]=new Array(r+5)):n[e]===t&&(n[e]=new Array(r)),n[e].length<r&&(n[e]=new Array(r+5)),n[e][r]=o}e.get=function(e,t){if(0===t)return 1;if(0===e||t>e)return 0;if(t>e-t&&(t=e-t),r(e,t))return o(e,t);for(var n=1,a=e,l=1;l<=t;l++)r(a,l)?(e--,n=o(a,l)):(n*=e--,i(a,l,n/=l));return n},e.get_no_memo=function(e,t){if(0===t)return 1;if(0===e||t>e)return 0;t>e-t&&(t=e-t);for(var n=1,r=1;r<=t;r++)n*=e--,n/=r;return n}}(r)},66708:(e,t,n)=>{var r=n(53802);e.exports=function(e,t,n){var o=r(e,t,(t-e)/(n-1));return o.length==n?o:o.concat(t)}},53802:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var n=1/0,r=9007199254740991,o="[object Function]",i="[object GeneratorFunction]",a="[object Symbol]",l=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,p=/^(?:0|[1-9]\d*)$/,f=parseInt,d=Object.prototype.toString,h=Math.ceil,m=Math.max,y=("length",function(e){return null==e?void 0:e.length});function g(e){var t=v(e)?d.call(e):"";return t==o||t==i}function v(e){var n=t(e);return!!e&&("object"==n||"function"==n)}function b(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==t(e)||function(e){return!!e&&"object"==t(e)}(e)&&d.call(e)==a}(e))return NaN;if(v(e)){var n=g(e.valueOf)?e.valueOf():e;e=v(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(l,"");var r=c.test(e);return r||u.test(e)?f(e.slice(2),r?2:8):s.test(e)?NaN:+e}(e))===n||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}e.exports=function(e,n,o){return o&&"number"!=typeof o&&function(e,n,o){if(!v(o))return!1;var i=t(n);return!!("number"==i?function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(y(e))&&!g(e)}(o)&&function(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||p.test(e))&&e>-1&&e%1==0&&e<t}(n,o.length):"string"==i&&n in o)&&function(e,t){return e===t||e!=e&&t!=t}(o[n],e)}(e,n,o)&&(n=o=void 0),e=b(e),void 0===n?(n=e,e=0):n=b(n),function(e,t,n,r){for(var o=-1,i=m(h((t-e)/(n||1)),0),a=Array(i);i--;)a[++o]=e,e+=n;return a}(e,n,o=void 0===o?e<n?1:-1:b(o))}},70616:e=>{e.exports=function(e){if(!Array.isArray(e))throw new Error("Array expected");if(!e.length)return[];for(var t,n,r,o,i,a=[],l=e.length,s=[],c=[],u=1,p=l;p--;)c[p]=0,s[p]=e[p].length,u*=s[p];for(t=0;t<u;t++){for(r=[],i=!0,o=0;o<l;o++)n=c[o],r.push(e[o][n]),i&&(n=(n+1)%s[o],c[o]=n,i=0==n);a.push(r)}return a}},3569:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>fc});var r=n(82684),o=n(47329),i=n.n(o),a=n(4667),l=n(63001),s=n(2739),c=n(14179);const u=function(e){var t=e.sidebarOpen,n=e.mobileDisplay,o=e.handler,i={visibility:n?"visible":t?"hidden":"visible",width:n?60:14,height:n?60:44,position:"absolute",top:n?15:4,left:n?"auto":0,right:n?20:"auto",zIndex:9e3,backgroundColor:n?c.re:c.Ws,boxShadow:n?"2px 4px 10px 1px rgba(0, 0, 0, 0.15)":"0px 0px 5px 1px rgba(0, 0, 0, 0.2)",cursor:"pointer",padding:0,transition:"top 0.3s ease-out, left 0.3s ease-out, width 0.3s ease-out, height 0.3s ease-out",borderRadius:n?"45px":"0px 6px 6px 0px"},a={visibility:n?"visible":t?"hidden":"visible",position:"absolute",width:30,height:30,top:"50%",left:"50%",lineHeight:"30px",textAlign:"center",transform:"translate(-50%,-50%)",marginLeft:"auto",marginRight:"auto",verticalAlign:"middle",color:n?"#FFFFFF":"#444",fontSize:n?26:12},l=r.createElement(s.aHS,null);return t&&!n?l=r.createElement(s.bUI,null):t||n?t&&n?l=r.createElement(s.aHS,null):!t&&n&&(l=r.createElement(s.RDp,null)):l=r.createElement(s.Dli,null),r.createElement("div",{style:i,onClick:o},r.createElement("div",{style:a},l))};var p,f=n(26439),d=n(87899);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var v=(0,a.$j)((function(e){return{metadata:e.metadata}}))(p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(o);if(i){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return t=l,n=[{key:"render",value:function(){var e=this.props.t;return r.createElement(r.Fragment,null,function(e,t){var n=t.buildUrl;if("string"==typeof n){var o=n.match(/(https?:\/\/)?(www\.)?github.com\/([^/]+)/);if(o)return r.createElement(b,{alt:"avatar",width:"28",src:"https://github.com/".concat(o[3],".png?size=200")})}return null}(0,this.props.metadata),function(e,t){if(Object.prototype.hasOwnProperty.call(t,"buildUrl")){var n=t.buildUrl;if("string"==typeof n&&(n.startsWith("https://")||n.startsWith("http://")||n.startsWith("www.")))return r.createElement("span",null,e("Built with")," ",r.createElement(M,{url:n},n.replace(/^(http[s]?:\/\/)/,"").replace(/^www\./,"").replace(/^github.com\//,"")),". ")}return null}(e,this.props.metadata),function(e,t){var n;return Object.prototype.hasOwnProperty.call(t,"maintainers")&&(n=t.maintainers,Array.isArray(n)&&n.length)?r.createElement("span",null,e("Maintained by")+" ",n.map((function(e,t){return r.createElement(r.Fragment,{key:e.name},e.url?r.createElement(M,{url:e.url},e.name):e.name,t===n.length-1?"":t===n.length-2?" and ":", ")})),". "):null}(e,this.props.metadata),function(e,t){return t.updated?r.createElement("span",null,"".concat(e("Data updated")," ").concat(t.updated,". ")):null}(e,this.props.metadata),function(e,t){if(!Array.isArray(t.dataProvenance))return null;var n,o=t.dataProvenance.filter((function(e){return"object"===h(e)})).filter((function(e){return Object.prototype.hasOwnProperty.call(e,"name")})).map((function(e){if("GISAID"===e.name.toUpperCase())return r.createElement(M,{url:"https://www.gisaid.org",key:e.name},r.createElement("img",{key:e.name,src:"https://www.gisaid.org/fileadmin/gisaid/img/schild.png",alt:"gisaid-logo",width:"65"}));var t=function(e){try{return new URL(e).href}catch(e){return!1}}(e.url);return t?r.createElement(M,{url:t,key:e.name},e.name):e.name}));return o.length?r.createElement("span",null,e("Enabled by data from")+" ",(n=o).length<2?n:Array.from({length:2*n.length-1}).map((function(e,t){return t%2==0?n[t/2]:t===2*n.length-3?" and ":", "})),"."):null}(e,this.props.metadata))}}],n&&m(t.prototype,n),l}(r.Component))||p,b=l.ZP.img.withConfig({displayName:"byline__AvatarImg",componentId:"sc-wamdqn-0"})(["margin-right:5px;margin-bottom:2px;"]),w=l.ZP.a.withConfig({displayName:"byline__BylineLink",componentId:"sc-wamdqn-1"})(["font-family:",";font-size:15;font-weight:500;"],c.Cc);function M(e){var t=e.url,n=e.children;return r.createElement(w,{rel:"noopener noreferrer",href:t,target:"_blank"},n)}const S=(0,f.Z)()(v);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}var x;function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},T(e,t)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var O=(0,r.lazy)((function(){return n.e(452).then(n.bind(n,42452))})),_=l.ZP.div.withConfig({displayName:"warning__WarningContainer",componentId:"sc-1wydbe2-0"})(["background-color:#FFF1D1;display:flex;align-items:stretch;"]),D=l.ZP.div.withConfig({displayName:"warning__WarningIconContainer",componentId:"sc-1wydbe2-1"})(["background-color:#FFC641;padding:0 7px;display:flex;align-items:center;"]),I=l.ZP.div.withConfig({displayName:"warning__WarningIcon",componentId:"sc-1wydbe2-2"})(["padding-top:3px;color:white;font-size:24px;"]),z=l.ZP.div.withConfig({displayName:"warning__WarningText",componentId:"sc-1wydbe2-3"})(["padding:0 7px;font-size:15px;"]),A=(0,a.$j)((function(e){return{warning:e.metadata.warning}}))(x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(o);if(i){var n=E(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return t=l,n=[{key:"render",value:function(){var e=this.props.warning;return void 0===e?null:r.createElement(r.Suspense,{fallback:null},r.createElement(_,null,r.createElement(D,null,r.createElement(I,null,r.createElement(s.gJy,null))),r.createElement(z,null,r.createElement(O,{mdstring:e,placeholder:"This dataset contained a warning message to be displayed here, however it wasn't correctly formatted."}))))}}],n&&C(t.prototype,n),l}(r.Component))||x;const k=(0,f.Z)()(A);var N,P=n(493),R=n(397),B=n(6461),F=n(70570),Z=n(78401),H=n(57513);function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||G(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},q(e,t)}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}var $=function(e){var t=e.id;return r.createElement("span",{style:{fontSize:"2rem",fontWeight:300,padding:"0px 4px 0px 2px",cursor:"help"},"data-tip":!0,"data-for":t},"∩",r.createElement(Z.u,{id:t},"Groups of filters are combined by intersection"))},J=function(){return r.createElement("span",{style:{fontSize:"1.5rem",padding:"0px 3px 0px 2px"}},"∪")},K=r.createElement("span",{style:{fontSize:"2rem",fontWeight:300,padding:"0px 0px 0px 2px"}},"{"),ee=r.createElement("span",{style:{fontSize:"2rem",fontWeight:300,padding:"0px 2px"}},"}"),te=r.createElement("span",{style:{fontSize:"1.8rem",fontWeight:300,padding:"0px 2px"}},"{"),ne=r.createElement("span",{style:{fontSize:"1.8rem",fontWeight:300,padding:"0px 2px"}},"}"),re=(0,a.$j)((function(e){var t,n;return{browserDimensions:e.browserDimensions.browserDimensions,filters:e.controls.filters,animationPlayPauseButton:e.controls.animationPlayPauseButton,metadata:e.metadata,nodes:e.tree.nodes,totalStateCounts:e.tree.totalStateCounts,totalStateCountsSecondTree:null===(t=e.treeToo)||void 0===t?void 0:t.totalStateCounts,visibility:e.tree.visibility,selectedClade:e.tree.selectedClade,dateMin:e.controls.dateMin,dateMax:e.controls.dateMax,absoluteDateMin:e.controls.absoluteDateMin,absoluteDateMax:e.controls.absoluteDateMax,branchLengthsToDisplay:e.controls.branchLengthsToDisplay,measurementsFilters:e.controls.measurementsFilters,measurementsFields:null===(n=e.measurements.collectionToDisplay)||void 0===n?void 0:n.fields}}))(N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=X(o);if(i){var n=X(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this,e)}return t=l,(n=[{key:"createIndividualBadge",value:function(e){var t=this,n=e.filterName,o=e.item,i=e.label,a=e.onHoverMessage;return r.createElement(Z.ZK,{key:o.value,id:String(o.value),remove:function(){t.props.dispatch((0,R.Rb)("remove",n,[o.value]))},canMakeInactive:!0,onHoverMessage:a,active:o.active,activate:function(){t.props.dispatch((0,R.Rb)("add",n,[o.value]))},inactivate:function(){t.props.dispatch((0,R.Rb)("inactivate",n,[o.value]))}},i)}},{key:"createFilterBadgesForTime",value:function(){var e=this;return[r.createElement(Z.ZK,{key:"timefilter",id:"timefilter",onHoverMessage:"Filtering to data sampled in this date range",remove:function(){return e.props.dispatch((0,R.ms)({newMin:e.props.absoluteDateMin,newMax:e.props.absoluteDateMax}))}},"".concat((0,P.P4)(this.props.dateMin)," to ").concat((0,P.P4)(this.props.dateMax)))]}},{key:"createFilterBadges",value:function(e){var t=this,n=e===F.Ac?"sample":e,r=this.props.filters[e].length,o=1===r?"Filtering data to this ".concat(n):"Filtering data to these ".concat(r," ").concat((0,P.gY)(n));return this.props.filters[e].sort((function(e,t){return e.value<t.value?-1:e.value>t.value?1:0})).map((function(n){var r="".concat(n.value);if(e!==F.Ac){var i,a,l=null!==(i=null===(a=t.props.totalStateCounts[e])||void 0===a?void 0:a.get(n.value))&&void 0!==i?i:0;if(t.props.totalStateCountsSecondTree&&Reflect.ownKeys(t.props.totalStateCountsSecondTree).length){var s,c,u=null!==(s=null===(c=t.props.totalStateCountsSecondTree[e])||void 0===c?void 0:c.get(n.value))&&void 0!==s?s:0;r+=" (L: ".concat(l,", R: ").concat(u,")")}else r+=" (".concat(l,")")}return t.createIndividualBadge({filterName:e,item:n,label:r,onHoverMessage:o})}))}},{key:"createFilterBadgesForGenotype",value:function(){var e=this,t=this.props.filters[F.vD],n=new Set(t.filter((function(e){return e.active})).map((function(e){return e.value})));return(0,H.Vv)(t.map((function(e){return e.value}))).map((function(t){var r="nuc"===t[0];if(1===t[2].size){var o=U(t[2])[0],i=r?"Filtering to sequences with nucleotide ".concat(o," at base ").concat(t[1]):"Filtering to sequences with ".concat((0,F.Wv)(o)," at codon ").concat(t[1]," in ").concat(t[0]),a="".concat(t[0]," ").concat(t[1]).concat(o),l={active:n.has(a),value:a};return e.createIndividualBadge({filterName:F.vD,item:l,label:l.value,onHoverMessage:i})}var s=U(t[2]),c=s.map((function(e){return"".concat(t[0]," ").concat(t[1]).concat(e)})),u=s.filter((function(e,t){return n.has(c[t])})),p=function(e){return e.length>1?"".concat(e.slice(0,-1).join(", ")," or ").concat(e[e.length-1]):e[0]},f=r?"Filtering to sequences with nucleotides ".concat(p(u)," at position ").concat(t[1]):"Filtering to sequences with ".concat(p(u.map((function(e){return(0,F.Wv)(e)})))," at codon ").concat(t[1]," in ").concat(t[0]);return s.map((function(r){var o="".concat(t[0]," ").concat(t[1]).concat(r),i={active:n.has(o),value:o};return e.createIndividualBadge({filterName:F.vD,item:i,label:i.value,onHoverMessage:f})}))}))}},{key:"render",value:function(){var e=this,t=this.props.t,n=[];return Reflect.ownKeys(this.props.filters).filter((function(t){return e.props.filters[t].length>0})).forEach((function(t){t===F.Ac?n.push({name:"sample",badges:e.createFilterBadges(F.Ac)}):t===F.vD?n.push({name:"genotype",badges:e.createFilterBadgesForGenotype()}):n.push({name:t,badges:e.createFilterBadges(t)})})),this.props.dateMin===this.props.absoluteDateMin&&this.props.dateMax===this.props.absoluteDateMax||n.push({name:"temporal",badges:this.createFilterBadgesForTime()}),n.length||Object.keys(this.props.measurementsFilters).length?r.createElement(r.Fragment,null,n.length>0&&r.createElement(r.Fragment,null,t("Filtered to")+" ",n.map((function(e,t){var n=e.badges.length>1,o=0!==t;return r.createElement("span",{style:{fontSize:"2rem",padding:"0px 2px"},key:e.name},o&&r.createElement($,{id:"intersect"+t}),n&&K," ",e.badges.map((function(t,n){return Array.isArray(t)?r.createElement("span",{key:t.map((function(e){return e.props.id})).join("")},te,t.map((function(e,n){return r.createElement("span",{key:e.props.id},e,n!==t.length-1&&r.createElement(J,null))})),ne,n!==e.badges.length-1&&", "):r.createElement("span",{key:t.props.id},t,n!==e.badges.length-1&&", ")})),n&&ee)})),". "),Object.keys(this.props.measurementsFilters).length>0&&void 0!==this.props.measurementsFields&&r.createElement(r.Fragment,null,r.createElement("br",null),t("Measurements filtered to")+" ",Object.entries(this.props.measurementsFilters).map((function(t,n){var o=Y(t,2),i=o[0],a=o[1],l=e.props.measurementsFields.get(i).title;return r.createElement("span",{key:i},K,"".concat(l,": "),U(a).map((function(t,n){var o=Y(t,2),s=o[0],c=o[1].active;return r.createElement("span",{key:s,style:{fontSize:"2rem",padding:"0px 2px"}},r.createElement(Z.ZK,{active:c,canMakeInactive:!0,id:String(s),remove:function(){return e.props.dispatch((0,B.GT)(i,s))},activate:function(){return e.props.dispatch((0,B.kq)(i,s,!0))},inactivate:function(){return e.props.dispatch((0,B.kq)(i,s,!1))},onHoverMessage:"Filtering measurements to this ".concat(l)},s),n<a.size-1&&",")})),ee,n<Object.keys(e.props.measurementsFilters).length-1&&r.createElement($,null))})))):null}}])&&Q(t.prototype,n),l}(r.Component))||N;const oe=(0,f.Z)()(re);function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}var ae;function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pe(e,t)}function fe(e){return fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fe(e)}var de=(0,a.$j)((function(e){return{browserWidth:e.browserDimensions.browserDimensions.width,animationPlayPauseButton:e.controls.animationPlayPauseButton,metadata:e.metadata,nodes:e.tree.nodes,branchLengthsToDisplay:e.controls.branchLengthsToDisplay,visibility:e.tree.visibility}}))(ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fe(o);if(i){var n=fe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this,e)}return t=l,n=[{key:"render",value:function(){var e=this.props.t;if(!this.props.metadata||!this.props.nodes||!this.props.visibility)return null;var t,n,o,i=(t=this.props.width,o=28,(n=this.props.browserWidth)<1e3&&(o=27),n<800&&(o=26),n<600&&(o=25),n<400&&(o=24),{base:{width:t+34,display:"inline-block",maxWidth:t,marginTop:0},title:{fontFamily:c.PD,fontSize:o,marginLeft:0,marginTop:0,marginBottom:5,fontWeight:500,color:c.I6,letterSpacing:"-0.5px",lineHeight:1.2},n:{fontFamily:c.Cc,fontSize:14,marginLeft:2,marginTop:5,marginBottom:5,fontWeight:500,color:c.Vd,lineHeight:1.4},byline:{fontFamily:c.Cc,fontSize:15,marginLeft:2,marginTop:5,marginBottom:5,fontWeight:500,color:"#555",lineHeight:1.4,verticalAlign:"middle"}}),a="Pause"===this.props.animationPlayPauseButton,l=!a;return r.createElement(d.Z,{center:!0,infocard:!0},r.createElement("div",{style:i.base},r.createElement("div",{width:this.props.width,style:i.title},this.props.metadata.title||""),r.createElement("div",{width:this.props.width,style:i.byline},r.createElement(S,null)),r.createElement("div",{width:this.props.width},r.createElement(k,null)),r.createElement("div",{width:this.props.width,style:i.n},a?e("Animation in progress")+". ":null,l&&r.createElement(r.Fragment,null,(0,P.Cm)(se(se({},this.props),{},{mainTreeNumTips:this.props.metadata.mainTreeNumTips})),r.createElement(oe,null)))))}}],n&&ue(t.prototype,n),l}(r.Component))||ae;const he=(0,f.Z)()(de);var me=n(54710);const ye=(0,a.$j)((function(e){return{tree:e.tree,treeToo:e.treeToo,selectedNode:e.controls.selectedNode,dateMinNumeric:e.controls.dateMinNumeric,dateMaxNumeric:e.controls.dateMaxNumeric,filters:e.controls.filters,quickdraw:e.controls.quickdraw,colorBy:e.controls.colorBy,colorByConfidence:e.controls.colorByConfidence,layout:e.controls.layout,scatterVariables:e.controls.scatterVariables,temporalConfidence:e.controls.temporalConfidence,distanceMeasure:e.controls.distanceMeasure,explodeAttr:e.controls.explodeAttr,focus:e.controls.focus,colorScale:e.controls.colorScale,colorings:e.metadata.colorings,genomeMap:e.entropy.genomeMap,showTreeToo:e.controls.showTreeToo,showTangle:e.controls.showTangle,panelsToDisplay:e.controls.panelsToDisplay,selectedBranchLabel:e.controls.selectedBranchLabel,canRenderBranchLabels:e.controls.canRenderBranchLabels,showAllBranchLabels:e.controls.showAllBranchLabels,tipLabelKey:e.controls.tipLabelKey,narrativeMode:e.narrative.display,animationPlayPauseButton:e.controls.animationPlayPauseButton,showOnlyPanels:e.controls.showOnlyPanels,performanceFlags:e.controls.performanceFlags}}))(me.ZP);var ge=n(84398),ve=n.n(ge),be=n(40740),we=(n(11073),n(76465),n(97686)),Me=n.n(we),Se=n(55263),je=n.n(Se),xe=n(23599),Le=n.n(xe),Ce=n(1326),Te=(n(2955),n(23153)),Ee=n.n(Te),Oe=n(72526),_e=n.n(Oe),De=n(92201),Ie=n(17264),ze=n(32857),Ae=n(92173),ke=(0,De.Z)().x((function(e){return e.x})).y((function(e){return e.y})).curve(Ie.ZP),Ne=function(e,t,n,r,o,i,a,l,s){if("hidden"===a)return[];var c=Ee()(s,(function(t){return t>e})),u=_e()(s,(function(e){return e<t}));if(-1===c||-1===u)return[];var p,f,d=l.slice(c,u+1);if(c>0){var h=s[c]-s[c-1],m=(e-s[c-1])/h,y=(s[c]-e)/h;p={x:y*l[c-1].x+m*l[c].x,y:y*l[c-1].y+m*l[c].y}}if(u<l.length-1){var g=s[u+1]-s[u],v=(t-s[u])/g,b=(s[u+1]-t)/g;f={x:b*l[u].x+v*l[u+1].x,y:b*l[u].y+v*l[u+1].y}}return p&&d.unshift(p),f&&d.push(f),d},Pe=function(e){var t=[];return e.forEach((function(e){e.arcs.forEach((function(e){t.push(e)}))})),t},Re=function(e,t,n,r,o,i,a,l,s,c){var u,p=n.selectAll("transmissions").data(t).enter().append("path").attr("d",(function(e){return ke(Ne(i,a,e.originCoords,e.destinationCoords,e.originNumDate,e.destinationNumDate,e.visible,e.bezierCurve,e.bezierDates))})).attr("fill","none").attr("stroke-opacity",.6).attr("stroke-linecap","round").attr("stroke",(function(e){return e.color})).attr("stroke-width",1),f=o[0].tipCount,d=F.y1/Math.sqrt(je()([Math.sqrt(f*o.length),F.co]));if(l){var h=Pe(e);h.forEach((function(t){t.outerRadius=Math.sqrt(e[t.demeDataIdx].count)*d})),u=n.selectAll("demes").data(h).enter().append("path").attr("d",(function(e){return(0,ze.Z)()(e)})).style("stroke","none").style("fill-opacity",.65).style("fill",(function(e){return e.color})).style("stroke-opacity",.85).style("stroke",(function(e){return e.color})).style("pointer-events","all").attr("transform",(function(t){return"translate("+e[t.demeDataIdx].coords.x+","+e[t.demeDataIdx].coords.y+")"})).on("mouseover",(function(t){c((0,R.VB)({geoFilter:[s,e[t.demeDataIdx].name]}))})).on("mouseout",(function(){c((0,R.VB)())}))}else u=n.selectAll("demes").data(e).enter().append("circle").attr("r",(function(e){return d*Math.sqrt(e.count)})).style("stroke","none").style("fill-opacity",.65).style("fill",(function(e){return e.color})).style("stroke-opacity",.85).style("stroke",(function(e){return e.color})).style("pointer-events","all").attr("transform",(function(e){return"translate("+e.coords.x+","+e.coords.y+")"})).on("mouseover",(function(e){c((0,R.VB)({geoFilter:[s,e.name]}))})).on("mouseout",(function(){c((0,R.VB)())}));return{demes:u,transmissions:p}},Be=n(48291),Fe=n.n(Be),Ze=n(21305),He=n.n(Ze),We=n(69034),Ye=n(9045),Ue=n(448),Ge=n.n(Ue),Ve=n(66708),Qe=n.n(Ve),qe=n(70616),Xe=n.n(qe),$e=n(55467),Je=n.n($e),Ke=n(37275),et=n(12225),tt=n(11234);function nt(e){return function(e){if(Array.isArray(e))return it(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ot(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||ot(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){if(e){if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?it(e,t):void 0}}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var at,lt,st=-360,ct=function(e,t,n){return n.latLngToLayerPoint(new L.LatLng(e,t))},ut=function(e,t,n){var r={};return e.forEach((function(e,o){if(!e.children){var i=(0,Ke.rs)(e,n);i&&(r[i]||(r[i]=[]),t[o]!==F.OR&&r[i].push(e))}})),r},pt=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=(0,et.O$)(n),l={},s=t.length;i?(o=i,t.forEach((function(e,t){l[e]=t,o[t]._count=0})),o[s]._count=0):(o=t.map((function(e,t){return l[e]=t,{innerRadius:0,_count:0}}))).push({innerRadius:0,_count:0}),e.forEach((function(e){var t=a?e.currentGt:(0,Ke.rs)(e,n),i=l[t];void 0===i&&(i=s),o[i]._count++,o[i].color||(o[i].color=r[e.arrayIdx])}));var c=0;return o.forEach((function(t){t.startAngle=c,c+=2*Math.PI*t._count/e.length,t.endAngle=c,t.startAngle===t.endAngle&&(t.color="")})),o},ft=function(e,t,n){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:15,o=function(e,t,n){var r=e.x,o=e.y,i=t.x,a=t.y,l=Math.sign(i-r),s=(a-o)/(i-r),c=Math.sqrt(Math.pow(a-o,2)+Math.pow(i-r,2)),u=200*Math.log(Math.pow(c,.05))+n*F.iO,p=Math.sqrt(Math.pow(u,2)+Math.pow(c,2)/4);return{x:r+p*Math.cos(Math.atan(2*u/c)+Math.atan(s))*l,y:o+p*Math.sin(Math.atan(2*u/c)+Math.atan(s))*l}}(e,t,n),i=[e,o,t],a=Ge()(i.length),l=Qe()(0,1,r),s=[];return Ge()(r).forEach((function(e){s[e]={x:0,y:0}})),a.forEach((function(e){var t,n,o,c=(t=a.length-1,n=e,o=Je().get(t,n),function(e){return o*Math.pow(e,n)*Math.pow(1-e,t-n)}),u=l.map(c),p=[i[e].x,i[e].y],f=Xe()([Ge()(u.length),Ge()(p.length)]);Ge()(s.length).forEach((function(e){s[e].x+=u[f[e][0]]*p[f[e][1]],s[e].y+=u[f[e+r][0]]*p[f[e+r][1]]}))})),s}(e,t,n)},dt=function(e,t,n,r,o,i,a){var l=o?[-360,0,360]:[0],s=[],c={},u=new Set,p={};return e.forEach((function(e){var o=(0,Ke.rs)(e,n);e.children&&e.children.forEach((function(c){var f=(0,Ke.rs)(c,n);if(o&&f&&o!==f){[o,f]in p?p[[o,f]]+=1:p[[o,f]]=1;var d=p[[o,f]];l.forEach((function(o){var l=function(e,t,n,r,o,i,a,l,s,c){var u=[];return[-360,0,360].forEach((function(p){var f=function(e,t,n,r,o,i,a,l,s,c,u){var p,f,d,h,m,y=(0,Ke.rs)(e,r),g=(0,Ke.rs)(t,r),v=n.filter((function(e){return e.key===r}))[0].demes;try{p=v[y].latitude,f=v[y].longitude}catch(e){c.add(y)}try{d=v[g].latitude,h=v[g].longitude}catch(e){c.add(g)}var b=function(e,t,n,r,o){var i=null;return(t>st||r>st)&&(t<360||r<360)&&Math.abs(t-r)<180&&(i=[ct(e,t,o),ct(n,r,o)]),i}(p,f+l,d,h+s,a);if(b){var w=ft(b[0],b[1],u),M=(0,We.Z)((0,Ke.rs)(e,"num_date"),(0,Ke.rs)(t,"num_date")),S=[];w.forEach((function(e,t){S.push(M(t/(w.length-1)))})),m={id:e.arrayIdx.toString()+"-"+t.arrayIdx.toString(),originNode:e,destinationNode:t,bezierCurve:w,bezierDates:S,originName:(0,Ke.rs)(e,r),destinationName:(0,Ke.rs)(t,r),originCoords:b[0],destinationCoords:b[1],originLatitude:p,destinationLatitude:d,originLongitude:f+l,destinationLongitude:h+s,originNumDate:(0,Ke.rs)(e,"num_date"),destinationNumDate:(0,Ke.rs)(t,"num_date"),color:o[e.arrayIdx],visible:i[t.arrayIdx]!==F.OR?"visible":"hidden",extend:u}}return m}(e,t,n,r,o,i,a,l,p,s,c);f&&u.push(f)})),u.length>0?He()(u,(function(e){return Math.abs(e.destinationCoords.x-e.originCoords.x)})):null}(e,c,i.geoResolutions,n,r,t,a,o,u,d);l&&s.push(l)}))}}))})),s.forEach((function(e,t){c[e.id]?c[e.id].push(t):c[e.id]=[t]})),{transmissionData:s,transmissionIndices:c,demesMissingLatLongs:u}},ht=function(e,t,n,r,o,i,a,l,s,c,u,p){var f=function(e,t,n,r,o,i,a,l,s,c){var u=[],p={},f=ut(e,t,n),d=o?[-360,0,360]:[0],h=i.geoResolutions.filter((function(e){return e.key===n}))[0].demes,m=0;return d.forEach((function(e){for(var t=0,n=Object.entries(f);t<n.length;t++){var o=rt(n[t],2),i=o[0],d=o[1],y=0,g=0,v=!0;h[i]?(y=h[i].latitude,g=h[i].longitude+e):(v=!1,console.warn("Warning: Lat/long missing from metadata for",i));var b=ct(y,g,a);if(g>st&&g<360&&!0===v){var w={name:i,count:d.length,latitude:y,longitude:g,coords:b};l?function(){w.arcs=pt(d,s,c,r);var e=u.length;w.arcs.forEach((function(t){t.demeDataIdx=e}))}():w.color=(0,Ye.bE)(d,r),u.push(w),p[i]?p[i].push(m):p[i]=[m],m+=1}}})),{demeData:u,demeIndices:p}}(e,t,n,r,o,i,a,l,s,c),d=f.demeData,h=f.demeIndices,m=[],y={},g=new Set;if(u){var v=dt(e,t,n,r,o,i,a);m=v.transmissionData,y=v.transmissionIndices,g=v.demesMissingLatLongs}var b=nt(g).filter((function(e){return"unknown"!==e.toLowerCase()}));return b.size&&p((0,tt.A)({message:"The following demes are missing lat/long information",details:nt(b).join(", ")})),{demeData:d,transmissionData:m,demeIndices:h,transmissionIndices:y,demesMissingLatLongs:g}},mt=(n(91204),n(14303)),yt=n(14866);function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t){return Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mt(e,t)}function St(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jt(e){return jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jt(e)}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(69086);var Lt=(0,a.$j)((function(e){return{branchLengthsToDisplay:e.controls.branchLengthsToDisplay,absoluteDateMin:e.controls.absoluteDateMin,absoluteDateMax:e.controls.absoluteDateMax,treeVersion:e.tree.version,treeLoaded:e.tree.loaded,nodes:e.tree.nodes,nodeColors:e.tree.nodeColors,visibility:e.tree.visibility,visibilityVersion:e.tree.visibilityVersion,metadata:e.metadata,colorScaleVersion:e.controls.colorScale.version,map:e.map,geoResolution:e.controls.geoResolution,mapTriplicate:e.controls.mapTriplicate,dateMinNumeric:e.controls.dateMinNumeric,dateMaxNumeric:e.controls.dateMaxNumeric,panelLayout:e.controls.panelLayout,colorBy:e.controls.colorScale.colorBy,narrativeMode:e.narrative.display,pieChart:!e.controls.colorScale.continuous&&e.controls.geoResolution!==e.controls.colorScale.colorBy,legendValues:e.controls.colorScale.legendValues,showTransmissionLines:e.controls.showTransmissionLines,showOnlyPanels:e.controls.showOnlyPanels}}))((lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=jt(o);if(i){var n=jt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===gt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return St(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),xt(St(t=a.call(this,e)),"getStyles",(function(){return{resetZoomButton:{zIndex:100,position:"absolute",right:5,top:0,cursor:"pointer",color:c.I6}}})),t.state={map:null,d3DOMNode:null,d3elems:null,responsive:null,demeData:null,transmissionData:null,demeIndices:null,transmissionIndices:null,userHasInteractedWithMap:!1,tilesSettings:(0,F.JA)()},t.fitMapBoundsToData=t.fitMapBoundsToData.bind(St(t)),t}return t=l,n=[{key:"UNSAFE_componentWillMount",value:function(){var e=this;window.L||ve()(),window.L.getMapSvg||(window.L.getMapSvg=function(t){var n=e.state.map.getSize(),r=e.state.map._getMapPanePos();Le().toSvg(e.state.map.getContainer(),{width:n.x,height:n.y,filter:function(e){return"leaflet-control-container"!==e.className}}).then((function(e){t({mapSvg:e.replace("data:image/svg+xml;charset=utf-8,",""),mapDimensions:n,panOffsets:r})}))})}},{key:"componentDidMount",value:function(){this.maybeChangeSize(this.props),this.maybeRemoveAllDemesAndTransmissions(this.props)||this.maybeUpdateDemesAndTransmissions(this.props),this.maybeInvalidateMapSize(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.modulateInterfaceForNarrativeMode(e),this.maybeChangeSize(e),this.maybeRemoveAllDemesAndTransmissions(e)||this.maybeUpdateDemesAndTransmissions(e),this.maybeInvalidateMapSize(e)}},{key:"componentDidUpdate",value:function(e){null!==this.props.nodes&&(this.maybeCreateLeafletMap(),this.maybeSetupD3DOMNode(),this.maybeDrawDemesAndTransmissionsAndMoveMap(e))}},{key:"maybeInvalidateMapSize",value:function(e){!this.state.map||this.props.width===e.width&&this.props.height===e.height||(this.map_timeout&&window.clearTimeout(this.map_timeout),this.map_timeout=window.setTimeout(this.invalidateMapSize.bind(this),this.props.narrativeMode?100:750))}},{key:"invalidateMapSize",value:function(){this.state.map.invalidateSize()}},{key:"maybeCreateLeafletMap",value:function(){this.props.metadata.loaded&&!this.state.map&&document.getElementById("map")&&this.createMap()}},{key:"maybeChangeSize",value:function(e){this.props.width===e.width&&this.props.height===e.height&&this.state.responsive&&this.props.treeVersion===e.treeVersion||this.setState({responsive:{width:e.width,height:e.height}})}},{key:"maybeSetupD3DOMNode",value:function(){if(this.state.map&&this.state.responsive&&!this.state.d3DOMNode){var e=(0,Ce.Z)("#map svg").attr("id","d3DemesTransmissions").append("g").append("g").append("g").append("g");this.setState({d3DOMNode:e})}}},{key:"modulateInterfaceForNarrativeMode",value:function(e){this.props.narrativeMode!==e.narrativeMode&&this.state.map&&(e.narrativeMode?(L.zoomControlButtons.remove(),this.state.map.dragging.disable(),this.state.map.doubleClickZoom.disable()):(L.zoomControlButtons=L.control.zoom({position:"bottomright"}).addTo(this.state.map),this.state.map.dragging.enable(),this.state.map.doubleClickZoom.enable()))}},{key:"maybeDrawDemesAndTransmissionsAndMoveMap",value:function(e){var t=!!this.state.map,n=!!(this.props.metadata.loaded&&this.props.treeLoaded&&this.state.responsive&&this.state.d3DOMNode),r=!this.state.demeData&&!this.state.transmissionData;if(t&&n&&r){var o=ht(this.props.nodes,this.props.visibility,this.props.geoResolution,this.props.nodeColors,this.props.mapTriplicate,this.props.metadata,this.state.map,this.props.pieChart,this.props.legendValues,this.props.colorBy,this.props.showTransmissionLines,this.props.dispatch),i=o.demeData,a=o.transmissionData,l=o.demeIndices,s=o.transmissionIndices;this.moveMapAccordingToData({geoResolutionChanged:e.geoResolution!==this.props.geoResolution,visibilityChanged:e.visibility!==this.props.visibility,demeData:i,demeIndices:l});var c=Re(i,a,this.state.d3DOMNode,this.state.map,this.props.nodes,this.props.dateMinNumeric,this.props.dateMaxNumeric,this.props.pieChart,this.props.geoResolution,this.props.dispatch,this.props.showTransmissionLines);this.setState({boundsSet:!0,d3elems:c,demeData:i,transmissionData:a,demeIndices:l,transmissionIndices:s})}}},{key:"maybeRemoveAllDemesAndTransmissions",value:function(e){var t=!!this.state.map,n=this.props.geoResolution!==e.geoResolution,r=this.props.showTransmissionLines!==e.showTransmissionLines,o=!e.treeLoaded||this.props.treeVersion!==e.treeVersion,i=e.colorScaleVersion!==this.props.colorScaleVersion;return!(!t||!(n||o||i||r)||(this.state.d3DOMNode.selectAll("*").remove(),this.setState({d3elems:null,demeData:null,transmissionData:null,demeIndices:null,transmissionIndices:null}),0))}},{key:"respondToLeafletEvent",value:function(e){var t=this;if("moveend"===e.type){if(!this.state.demeData||!this.state.transmissionData)return void window.setTimeout((function(){return t.respondToLeafletEvent(e)}),50);var n=function(e,t){return Fe()(e,(function(e){return e.coords=ct(e.latitude,e.longitude,t),e}))}(this.state.demeData,this.state.map),r=function(e,t){var n=e.slice();return n.forEach((function(e){e.originCoords=ct(e.originLatitude,e.originLongitude,t),e.destinationCoords=ct(e.destinationLatitude,e.destinationLongitude,t),e.bezierCurve=ft(e.originCoords,e.destinationCoords,e.extend)})),n}(this.state.transmissionData,this.state.map);!function(e,t,n,r,o,i){if(n){if(i){var a=Pe(e);n.demes.data(a).attr("transform",(function(t){return"translate("+e[t.demeDataIdx].coords.x+","+e[t.demeDataIdx].coords.y+")"}))}else n.demes.data(e).attr("transform",(function(e){return"translate("+e.coords.x+","+e.coords.y+")"}));n.transmissions.data(t).attr("d",(function(e){return ke(Ne(r,o,e.originCoords,e.destinationCoords,e.originNumDate,e.destinationNumDate,e.visible,e.bezierCurve,e.bezierDates))}))}}(n,r,this.state.d3elems,this.props.dateMinNumeric,this.props.dateMaxNumeric,this.props.pieChart),this.setState({demeData:n,transmissionData:r})}}},{key:"getGeoRange",value:function(e,t){var n=this,r=[],o=[];this.props.metadata.geoResolutions.forEach((function(i){if(i.key===n.props.geoResolution){var a=i.demes;Object.keys(a).forEach((function(n){t&&e&&t[n]?t[n].forEach((function(t){e[t]&&e[t].count>0&&(r.push(a[n].latitude),o.push(a[n].longitude))})):(r.push(a[n].latitude),o.push(a[n].longitude))}))}}));var i=je()(r),a=Me()(r),l=je()(o),s=Me()(o),c=(l-s)%360,u=i-a,p=je()([-55,a-.1*u]),f=Me()([70,i+.1*u]),d=je()([-180,s-.1*c]),h=Me()([180,l+.1*c]);return[L.latLng(p,h),L.latLng(f,d)]}},{key:"maybeUpdateDemesAndTransmissions",value:function(e){if(this.state.map&&this.props.treeLoaded&&this.state.d3elems){var t=e.visibilityVersion!==this.props.visibilityVersion,n=e.nodes&&e.visibility&&e.geoResolution&&e.nodeColors;if(t&&n)if(this.props.geoResolution!==e.geoResolution){var r=ht(e.nodes,e.visibility,e.geoResolution,e.nodeColors,e.mapTriplicate,e.metadata,this.state.map,e.pieChart,e.legendValues,e.colorBy,e.showTransmissionLines,e.dispatch),o=r.demeData,i=r.transmissionData,a=r.demeIndices,l=r.transmissionIndices,s=Re(o,i,this.state.d3DOMNode,this.state.map,e.nodes,e.dateMinNumeric,e.dateMaxNumeric,e.pieChart,e.geoResolution,e.dispatch);this.setState({d3elems:s,demeData:o,transmissionData:i,demeIndices:a,transmissionIndices:l})}else{var c=function(e,t,n,r,o,i,a,l,s,c,u){var p=e?function(e,t,n,r,o,i,a,l,s){for(var c=e.slice(),u=ut(n,r,o),p=function(){var e=rt(d[f],2),n=e[0],r=e[1];t[n]&&t[n].forEach((function(e){c[e].count=r.length,a?c[e].arcs=pt(r,s,l,i,c[e].arcs):c[e].color=(0,Ye.bE)(r,i)}))},f=0,d=Object.entries(u);f<d.length;f++)p();return c}(e,n,o,i,a,l,s,c,u):e,f=t&&t.length?function(e,t,n,r,o,i){var a=e.slice();return n.forEach((function(e){e.children&&e.children.forEach((function(n){var l=(0,Ke.rs)(e,o),s=(0,Ke.rs)(n,o);if(l&&s&&l!==s){var c=e.arrayIdx.toString()+"-"+n.arrayIdx.toString(),u=i[e.arrayIdx],p=r[n.arrayIdx]!==F.OR?"visible":"hidden";try{t[c].forEach((function(e){a[e].color=u,a[e].visible=p}))}catch(e){console.warn("Error trying to access ".concat(c," in transmissionIndices. Map transmissions may be wrong."))}}}))})),a}(t,r,o,i,a,l):t;return{newDemes:p,newTransmissions:f}}(this.state.demeData,this.state.transmissionData,this.state.demeIndices,this.state.transmissionIndices,e.nodes,e.visibility,e.geoResolution,e.nodeColors,e.pieChart,e.colorBy,e.legendValues),u=c.newDemes,p=c.newTransmissions;!function(e,t,n,r,o,i,a,l){if(n){var s=o[0].tipCount,c=F.y1/Math.sqrt(je()([Math.sqrt(s*o.length),F.co]));if(l){var u=Pe(e);u.forEach((function(t){t.outerRadius=Math.sqrt(e[t.demeDataIdx].count)*c})),n.demes.data(u).attr("d",(function(e){return(0,ze.Z)()(e)})).style("fill",(function(e){return e.color})).style("stroke",(function(e){return e.color}))}else n.demes.data(e).transition().duration(200).ease(Ae.G).style("stroke",(function(e){return e.count>0?e.color:"white"})).style("fill",(function(e){return e.count>0?e.color:"white"})).attr("r",(function(e){return c*Math.sqrt(e.count)}));n.transmissions.data(t).attr("d",(function(e){return ke(Ne(i,a,e.originCoords,e.destinationCoords,e.originNumDate,e.destinationNumDate,e.visible,e.bezierCurve,e.bezierDates))})).attr("stroke",(function(e){return e.color}))}else console.error("d3elems is not defined!")}(u,p,this.state.d3elems,this.state.map,e.nodes,e.dateMinNumeric,e.dateMaxNumeric,e.pieChart),this.moveMapAccordingToData({geoResolutionChanged:!1,visibilityChanged:e.visibility!==this.props.visibility,demeData:u,demeIndices:this.state.demeIndices}),this.setState({demeData:u,transmissionData:p})}}}},{key:"getInitialBounds",value:function(){var e,t;return this.props.mapTriplicate?(e=L.latLng(-70,-360),t=L.latLng(80,360)):(e=L.latLng(-70,-180),t=L.latLng(80,180)),L.latLngBounds(e,t)}},{key:"createMap",value:function(){var e=this;L.Map.addInitHook("addHandler","gestureHandling",be.GestureHandling);var t=L.map("map",{center:[0,0],zoom:2,gestureHandling:!0,maxBounds:this.getInitialBounds(),minZoom:1,maxZoom:14,zoomSnap:.5,zoomControl:!1,doubleClickZoom:!this.props.narrativeMode});t.getRenderer(t).options.padding=2,L.tileLayer(this.state.tilesSettings.api,{attribution:this.state.tilesSettings.attribution||""}).addTo(t),this.props.narrativeMode||(L.zoomControlButtons=L.control.zoom({position:"bottomright"}).addTo(t)),this.state.tilesSettings.mapboxWordmark&&new(L.Control.extend({onAdd:function(){var e=L.DomUtil.create("a","mapbox-wordmark");return e.href="http://mapbox.com/about/maps",e.target="_blank",e}}))({position:"bottomleft"}).addTo(t),t.on("moveend",this.respondToLeafletEvent.bind(this)),t.on("resize",(function(){e.props.narrativeMode&&e.fitMapBoundsToData(e.state.demeData,e.state.demeIndices)})),this.setState({map:t})}},{key:"maybeCreateMapDiv",value:function(){var e=this,t=null;return this.state.responsive&&(t=r.createElement("div",{style:{position:"relative"}},r.createElement("div",{onClick:function(){e.setState({userHasInteractedWithMap:!0})},id:"map",style:{height:this.state.responsive.height,width:this.state.responsive.width}}))),t}},{key:"moveMapAccordingToData",value:function(e){var t=e.geoResolutionChanged,n=e.visibilityChanged,r=e.demeData,o=e.demeIndices;this.state.boundsSet?(t||n)&&(this.props.narrativeMode?this.state.map.fire("resize"):this.state.userHasInteractedWithMap||this.fitMapBoundsToData(r,o)):this.fitMapBoundsToData(r,o)}},{key:"getMaxZoomForFittingMapToData",value:function(){switch(this.props.geoResolution.toLowerCase()){case"region":return 4;case"country":return 5;case"state":return 7;case"city":return 12;case"block":return 14;default:return 8}}},{key:"fitMapBoundsToData",value:function(e,t){var n=this;this.bounds_timeout&&window.clearTimeout(this.bounds_timeout),this.bounds_timeout=window.setTimeout((function(r){var o=n.getGeoRange(e,t),i=n.getMaxZoomForFittingMapToData();r.fitBounds(window.L.latLngBounds(o[0],o[1]),{maxZoom:i})}),this.props.narrativeMode?100:750,this.state.map)}},{key:"render",value:function(){var e=this,t=this.props.t,n=this.getStyles(),o=this.state.transmissionData&&this.state.transmissionData.length;return r.createElement(d.Z,{center:!0,infocard:this.props.showOnlyPanels,title:t(o?"Transmissions":"Geography")},this.props.legend&&r.createElement(mt.Z,null,r.createElement(yt.Z,{right:!0,width:this.props.width})),this.maybeCreateMapDiv(),this.props.narrativeMode?null:r.createElement("button",{style:bt(bt({},c.PJ),n.resetZoomButton),onClick:function(){e.fitMapBoundsToData(e.state.demeData,e.state.demeIndices),e.setState({userHasInteractedWithMap:!1})}},t("reset zoom")))}},{key:"componentWillUnmount",value:function(){this.state.map.off("moveend"),this.state.map.off("resize")}}],n&&wt(t.prototype,n),l}(r.Component),xt(lt,"propTypes",{treeVersion:i().number.isRequired,treeLoaded:i().bool.isRequired,colorScaleVersion:i().number.isRequired}),at=lt))||at;const Ct=(0,f.Z)()(Lt);var Tt,Et=n(1359),Ot=n(45862),_t=n(17494),Dt=n.n(_t),It=n(15742),zt=n(72640),At=n(80075),kt=n(40500);function Nt(e){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt(e)}function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t){return Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ft(e,t)}function Zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ht(e){return Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ht(e)}var Wt=(0,a.$j)((function(e){return{browserDimensions:e.browserDimensions.browserDimensions,modal:e.controls.modal}}))(Tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ht(o);if(i){var n=Ht(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zt(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).getStyles=function(e,t){return{behind:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"all",zIndex:2e3,backgroundColor:"rgba(80, 80, 80, .20)",display:"flex",justifyContent:"center",alignItems:"center",wordWrap:"break-word",wordBreak:"break-word"},title:{fontWeight:500,fontSize:32,marginTop:"20px",marginBottom:"20px"},secondTitle:{fontWeight:500,marginTop:"0px",marginBottom:"20px"},modal:{marginLeft:200,marginTop:130,width:e-400,height:t-260,borderRadius:2,backgroundColor:"rgba(250, 250, 250, 1)",overflowY:"auto"},break:{marginBottom:"10px"}}},t.dismissModal=t.dismissModal.bind(Zt(t)),t}return t=l,n=[{key:"componentDidMount",value:function(){var e=this;Dt().bind("d",(function(){e.props.dispatch({type:It.i0,modal:e.props.modal?null:"download"})}))}},{key:"componentWillUnmount",value:function(){Dt().unbind("d")}},{key:"dismissModal",value:function(){this.props.dispatch({type:It.i0,modal:null})}},{key:"render",value:function(){var e=this.props.t,t=null;switch(this.props.modal){case"download":t=At.Z;break;case"linkOut":t=kt.E;break;default:return null}var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c.fu.panel);return n.width=.66*this.props.browserDimensions.width,n.maxWidth=n.width,n.maxHeight=.66*this.props.browserDimensions.height,n.fontSize=14,n.lineHeight=1.4,r.createElement("div",{style:c.fu.modalContainer,onClick:this.dismissModal},r.createElement("div",{style:n,onClick:function(e){return(0,zt.Tq)(e)}},r.createElement("p",{style:c.fu.topRightMessage},"(",e("click outside this box to return to the app"),")"),r.createElement(t,null)))}}],n&&Bt(t.prototype,n),l}(r.Component))||Tt;const Yt=(0,f.Z)()(Wt);var Ut,Gt=n(85917),Vt=n(76367);function Qt(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}var qt=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ut){e.next=4;break}return e.next=3,Promise.resolve().then(n.t.bind(n,28718,23));case 3:Ut=e.sent.default;case 4:return e.abrupt("return",new Promise((function(e,n){Ut.parse(t,{header:!0,complete:function(t){e(t)},error:function(e){n(e)},encoding:"UTF-8",comments:"#",delimiter:",",skipEmptyLines:!0,dynamicTyping:!1})})));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qt(i,r,o,a,l,"next",e)}function l(e){Qt(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();function Xt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Jt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function $t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Jt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){if(e){if("string"==typeof e)return Kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kt(e,t):void 0}}function Kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function en(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function tn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){en(i,r,o,a,l,"next",e)}function l(e){en(i,r,o,a,l,"throw",e)}a(void 0)}))}}const nn=function(){var e=tn(regeneratorRuntime.mark((function e(t,r,o){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.name,(a=new FileReader).onload=function(){var e=tn(regeneratorRuntime.mark((function e(o){var a,l,s,c,u,p,f,d,h,m,y,g,v,b,w,M;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.e(550).then(n.t.bind(n,83550,23));case 3:return a=e.sent.default,l=a.read(o.target.result,{type:"binary",raw:!0}),s=l.Sheets[l.SheetNames[0]],c=a.utils.sheet_to_csv(s),e.next=9,qt(c);case 9:if(u=e.sent,p=u.errors,f=u.data,d=u.meta,!p.length){e.next=16;break}throw console.error(p),new Error(p.map((function(e){return e.message})).join(", "));case 16:if(h=rn(d.fields),m=h.coloringInfo,y=h.strainKey,g=h.latLongKeys,h.ignoredFields,v={},f.forEach((function(e){v[e[y]]=e})),w=on(b={},m,v,i),M=g?ln(b,g,v,i):void 0,sn(t,r,b,w,0,i)){e.next=25;break}return e.abrupt("return",void 0);case 25:return t({type:It.JS,newColorings:w,newGeoResolution:M,newNodeAttrs:b}),e.abrupt("return",t((0,tt.GO)({message:"Adding metadata from ".concat(i),details:"".concat(Object.keys(w).length," new coloring").concat(Object.keys(w).length>1?"s":""," for ").concat(Object.keys(b).length," node").concat(Object.keys(b).length>1?"s":"")})));case 29:return e.prev=29,e.t0=e.catch(0),e.abrupt("return",t((0,tt.A)({message:"Parsing of ".concat(i," failed"),details:e.t0.message})));case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",a.readAsBinaryString(o));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function rn(e){var t=e[0],n=new Set(["name","div","vaccine","labels","hidden","mutations","url","authors","accession","traits","children"]);n.add("num_date").add("year").add("month").add("date");var r=new Set(["__latitude","__longitude","latitude","longitude"]),o=new Set,i=e.slice(1).map((function(e){if(n.has(e))return o.add(e),null;if(r.has(e))return null;var t=e,i=e;if(e.includes("__")){var a=$t(e.split("__"),2),l=a[0],s=a[1];if(["shape","colour","color"].includes(s))return o.add(e),null;"autocolour"===s&&(t=l)}return{name:t,lookupKey:i,scaleKey:void 0,scaleType:"categorical"}})).filter((function(e){return!!e})).map((function(t){return e.includes("".concat(t.name,"__colour"))?t.scaleKey="".concat(t.name,"__colour"):e.includes("".concat(t.name,"__color"))&&(t.scaleKey="".concat(t.name,"__color")),t})),a=e.includes("latitude")&&e.includes("longitude")?{latitude:"latitude",longitude:"longitude"}:e.includes("__latitude")&&e.includes("__longitude")?{latitude:"__latitude",longitude:"__longitude"}:void 0;return{coloringInfo:i,header:e,strainKey:t,latLongKeys:a,ignoredFields:o}}function on(e,t,n,r){var o,i={},a=Xt(t);try{for(a.s();!(o=a.n()).done;){for(var l=o.value,s=new Map,c=0,u=Object.entries(n);c<u.length;c++){var p=$t(u[c],2),f=p[0],d=p[1],h=d[l.lookupKey];h&&(e[f]||(e[f]={}),e[f][l.name]={value:h},l.scaleKey&&d[l.scaleKey]&&d[l.scaleKey].match(/^#[A-Fa-f0-9]{6}$/)&&(s.has(h)||s.set(h,[]),s.get(h).push(d[l.scaleKey])))}i[l.name]={title:l.name,type:l.scaleType},s.size&&(i[l.name].scale=an(l.name,s))}}catch(e){a.e(e)}finally{a.f()}return i[r]={title:r,type:"boolean"},Object.keys(n).forEach((function(t){e[t]||(e[t]={}),e[t][r]={value:"Strains in ".concat(r)}})),i}function an(e,t){var n,r=[],o=Xt(t);try{for(o.s();!(n=o.n()).done;){var i=$t(n.value,2),a=i[0],l=i[1];if(1===new Set(l).size)r.push([a,l[0]]);else{var s=0,c=0,u=0;l.forEach((function(e){var t=(0,Vt.B8)(e);s+=t.r,c+=t.g,u+=t.b}));var p=l.length;r.push([a,(0,Vt.B8)(s/p,c/p,u/p).toString()])}}}catch(e){o.e(e)}finally{o.f()}return r}function ln(e,t,n,r){var o=new Map;Object.entries(n).forEach((function(e){var n=$t(e,2),r=n[0],i=n[1],a=[Number(i[t.latitude]),Number(i[t.longitude])],l=a[0],s=a[1];if(!(isNaN(l)||isNaN(s)||l>90||l<-90||s>180||s<-180)){var c=String(i[t.latitude])+String(i[t.longitude]);o.has(c)||o.set(c,{latitude:l,longitude:s,strains:new Set}),o.get(c).strains.add(r)}}));var i=r+"_geo",a={key:i,demes:{}},l=0;return o.values().forEach((function(t){var n=t.latitude,r=t.longitude,o=t.strains,s="deme_".concat(l++);a.demes[s]={latitude:n,longitude:r},o.forEach((function(t){e[t]||(e[t]={}),e[t][i]={value:s}}))})),a}function sn(e,t,n,r,o,i){var a=t(),l=a.controls,s=a.tree,c=a.treeToo,u=new Set,p=new Set,f=new Set(s.nodes.map((function(e){return e.name})));Array.isArray(c.nodes)&&c.nodes.forEach((function(e){return f.add(e.name)}));for(var d=0,h=Object.keys(n);d<h.length;d++){var m=h[d];f.has(m)||(p.add(m),delete n[m])}for(var y=function(){var e=v[g];Object.keys(n).filter((function(t){return n[t][e]})).length||(u.add(e),delete r[e])},g=0,v=Object.keys(r);g<v.length;g++)y();for(var b=0,w=Object.keys(r);b<w.length;b++){var M=w[b];l.coloringsPresentOnTree.has(M)&&(u.add(M),delete r[M])}var S,j=Xt(u);try{for(j.s();!(S=j.n()).done;)for(var x=S.value,L=0,C=Object.values(n);L<C.length;L++)delete C[L][x]}catch(e){j.e(e)}finally{j.f()}return Object.keys(n).length&&Object.keys(r).length?(u.size&&e((0,tt.p5)({message:"Ignoring ".concat(u.size,' columns as they are already set as colorings or are "special" cases to be ignored'),details:u.join(", ")})),p.size&&e((0,tt.p5)({message:"Ignoring ".concat(p.size," taxa (CSV rows) nodes (rows) as they don't appear in the tree"),details:p.join(", ")})),!0):(e((0,tt.A)({message:"".concat(i," had no (relevent) information"),details:Object.keys(n).length?"No columns to add as colorings":"No taxa which match those in the tree"})),!1)}var cn=["text/csv","text/tab-separated-values","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];var un,pn=n(59180),fn=n(58640);function dn(e){return dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dn(e)}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mn(e,t){return mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mn(e,t)}function yn(e){return yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yn(e)}const gn=(0,a.$j)((function(e){return{animationPlayPauseButton:e.controls.animationPlayPauseButton,absoluteDateMaxNumeric:e.controls.absoluteDateMaxNumeric,absoluteDateMinNumeric:e.controls.absoluteDateMinNumeric,dateMinNumeric:e.controls.dateMinNumeric,dateMaxNumeric:e.controls.dateMaxNumeric,mapAnimationCumulative:e.controls.mapAnimationCumulative,mapAnimationShouldLoop:e.controls.mapAnimationShouldLoop,mapAnimationDurationInMilliseconds:e.controls.mapAnimationDurationInMilliseconds}}))(un=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mn(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yn(r);if(o){var n=yn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===dn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,e)}return t=a,(n=[{key:"componentDidMount",value:function(){this.maybeAnimate()}},{key:"componentDidUpdate",value:function(){this.maybeAnimate()}},{key:"render",value:function(){return null}},{key:"maybeAnimate",value:function(){var e=this;if("Pause"===this.props.animationPlayPauseButton&&!window.NEXTSTRAIN.animationTickReference){var t=this.props.absoluteDateMaxNumeric-this.props.absoluteDateMinNumeric,n=F.S4*t/this.props.mapAnimationDurationInMilliseconds,r=F.O7*t;this.props.dateMaxNumeric-this.props.dateMinNumeric<1.3*r?window.NEXTSTRAIN.animationStartPoint&&window.NEXTSTRAIN.animationEndPoint||(window.NEXTSTRAIN.animationStartPoint=this.props.dateMinNumeric,window.NEXTSTRAIN.animationEndPoint=this.props.absoluteDateMaxNumeric):(window.NEXTSTRAIN.animationStartPoint=this.props.dateMinNumeric,window.NEXTSTRAIN.animationEndPoint=this.props.dateMaxNumeric);var o=this.props.dateMinNumeric,i=o+r;this.props.dispatch({type:It.Hb}),window.NEXTSTRAIN.animationTickReference=setInterval((function(){if("Play"===e.props.animationPlayPauseButton)return clearInterval(window.NEXTSTRAIN.animationTickReference),void(window.NEXTSTRAIN.animationTickReference=null);e.props.dispatch((0,R.ms)({newMin:(0,fn.hT)(o),newMax:(0,fn.hT)(i),quickdraw:!0})),e.props.mapAnimationCumulative||(o+=n),(i+=n)>=window.NEXTSTRAIN.animationEndPoint&&(e.props.mapAnimationShouldLoop?(o=window.NEXTSTRAIN.animationStartPoint,i=o+r):(clearInterval(window.NEXTSTRAIN.animationTickReference),window.NEXTSTRAIN.animationTickReference=null,e.props.dispatch({type:It.if,data:"Play"}),e.props.dispatch((0,R.ms)({newMin:(0,fn.hT)(window.NEXTSTRAIN.animationStartPoint),newMax:(0,fn.hT)(window.NEXTSTRAIN.animationEndPoint),quickdraw:!1})),window.NEXTSTRAIN.animationStartPoint=void 0,window.NEXTSTRAIN.animationEndPoint=void 0))}),F.S4)}}}])&&hn(t.prototype,n),a}(r.Component))||un;var vn=n(27881);function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){Mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sn=l.ZP.div.withConfig({displayName:"styles__NarrativeStyles",componentId:"sc-19vjmtz-0"})(["top:",";font-weight:300;font-size:14px;line-height:1.3;@media (max-width:1080px){font-size:13px;line-height:1.1;}p,h1,h2,h3,h4,li,table{color:",";}table,th,td{border:1px solid;}td,th{padding:3px;}h1{font-weight:700;font-size:2em;margin-bottom:30px;@media (max-width:1080px){font-size:1.8em;margin-bottom:10px;}}h2{font-weight:500;font-size:1.8em;@media (max-width:1080px){font-size:1.6em;}}h3{font-weight:500;font-size:1.6em;@media (max-width:1080px){font-size:1.4em;}}h4{font-weight:500;font-size:1.4em;@media (max-width:1080px){font-size:1.2em;}}div p{text-align:justify;margin:10px 0px;font-weight:inherit;line-height:inherit;}li{margin:10px 0px 10px 0px;font-weight:inherit;line-height:inherit;}table{width:100%;}strong{font-weight:500;background-color:inherit;font-size:inherit;line-height:inherit;}img{display:block;margin-left:auto;margin-right:auto;width:90%;padding:15px 0px 15px 0px;}figcaption{font-style:italic;font-size:0.9em;text-align:center;margin-bottom:15px;}#NarrativeBlock_0{margin-top:15px;}#NarrativeBlock_0 h3{font-weight:inherit;font-size:1.2em;}#NarrativeBlock_0 h4{text-align:justify;font-size:inherit;margin:0;margin-bottom:30px;font-weight:inherit;font-style:italic;line-height:inherit;}#NarrativeBlock_0 .explanation{text-align:justify;font-size:inherit;color:",";margin:0;margin-bottom:30px;font-weight:inherit;font-style:italic;line-height:inherit;}#NarrativeBlock_0 sup{font-size:65%;vertical-align:super;}"],(function(e){return e.narrativeNavBarHeight+"px"}),(function(e){return e.theme.unselectedColor}),(function(e){return e.theme.selectedColor})),jn=l.ZP.div.withConfig({displayName:"styles__OpacityFade",componentId:"sc-19vjmtz-1"})(["z-index:200;position:absolute;background-image:",";width:100%;height:30px;",";",";"],(function(e){return"linear-gradient(to ".concat(e.position,", rgba(255, 255, 255, 0), ").concat(e.theme.background,")")}),(function(e){return"top"===e.position&&"top: ".concat(e.topHeight,"px")}),(function(e){return"bottom"===e.position&&"bottom: 0px;"})),xn={color:"#5097BA",textDecoration:"none",cursor:"pointer",fontFamily:'"Lato", "Helvetica Neue", "Helvetica", "sans-serif"',fontWeight:"400",fontSize:"1.8em"},Ln=l.ZP.div.withConfig({displayName:"styles__ProgressBar",componentId:"sc-19vjmtz-2"})(["width:100%;background-color:inherit;box-shadow:0px -3px 3px -3px rgba(0,0,0,0.2) inset;display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;"]),Cn=l.ZP.div.withConfig({displayName:"styles__ProgressButton",componentId:"sc-19vjmtz-3"})(["background:#74a9cf;border-radius:50%;cursor:pointer;transition:transform .1s;align-self:center;margin:auto;&:hover{transform:scale(3);}"]),Tn=(0,l.iv)(["width:100%;color:white;font-size:24px;font-weight:500;cursor:pointer;display:flex;align-items:center;justify-content:center;"]),En=l.ZP.div.withConfig({displayName:"styles__EndOfNarrative",componentId:"sc-19vjmtz-4"})(["text-align:center;display:grid;grid-template-rows:1fr;grid-row-gap:10px;"]),On=l.ZP.nav.withConfig({displayName:"styles__MobileBannerTop",componentId:"sc-19vjmtz-5"})([""," top:0;height:","px;background-color:#E67F2C;"],Tn,(function(e){return e.height})),_n=l.ZP.nav.withConfig({displayName:"styles__MobileBannerBottom",componentId:"sc-19vjmtz-6"})([""," bottom:0;height:","px;background-color:#65B0A4;"],Tn,(function(e){return e.height})),Dn=l.ZP.div.withConfig({displayName:"styles__MobileContentContainer",componentId:"sc-19vjmtz-7"})(["min-height:","px;max-height:","px;overflow-y:scroll;color:",";background-color:",";font-weight:300;font-size:14px;line-height:1.3;"],(function(e){return e.height}),(function(e){return e.height}),(function(e){return e.theme.unselectedColor}),(function(e){return e.theme.background})),In=n(40590),zn=n.n(In),An=n(77912),kn=n.n(An),Nn=n(82961),Pn=n.n(Nn);function Rn(e){return Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(e)}function Bn(e){return function(e){if(Array.isArray(e))return Fn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hn(e,t){return Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Hn(e,t)}function Wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yn(e){return Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yn(e)}function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gn=Symbol(),Vn=Symbol(),Qn=Symbol(),qn=Symbol(),Xn=Symbol(),$n=Symbol(),Jn=Symbol(),Kn=Symbol(),er=Symbol(),tr=200,nr=25,rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yn(o);if(i){var n=Yn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Rn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wn(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),Un(Wn(t=a.call(this,e)),"componentDidMount",(function(){window.addEventListener("resize",t[$n]),document.ontouchmove=function(e){e.preventDefault()},t._pageContainer.addEventListener("wheel",t[Qn]),t._pageContainer.addEventListener("touchmove",t[qn]),t._pageContainer.addEventListener("keydown",t[Xn]);var e=[];kn()(t.props.children[t.state.componentIndex])?e.push(r.createElement("div",{ref:function(e){return t["container_"+t.state.componentIndex]=e},style:{height:"calc(100% - 20px)",width:"100%",paddingBottom:"20px"}},t.props.children)):e.push(r.createElement("div",{key:t.state.componentIndex,ref:function(e){return t["container_"+t.state.componentIndex]=e},style:{height:"calc(100% - 20px)",width:"100%",paddingBottom:"20px"}},t.props.children[t.state.componentIndex])),t[Jn](e)})),Un(Wn(t),"componentWillUnmount",(function(){window.removeEventListener("resize",t[$n]),t._pageContainer.removeEventListener("wheel",t[Qn]),t._pageContainer.removeEventListener("touchmove",t[qn]),t._pageContainer.removeEventListener("keydown",t[Xn])})),Un(Wn(t),"goToPage",(function(e){var n=t.props,o=n.pageOnChange,i=n.children,a=t.state.componentIndex,l=Bn(t.state.componentsToRender);if(!zn()(a,e))if(kn()(t["container_"+e])||t[Vn]){if(!t[Vn]&&!kn()(i[e])){for(var s=function(e){l.push(r.createElement("div",{key:e,ref:function(n){return t["container_"+e]=n},style:{height:"calc(100% - 20px)",width:"100%",paddingBottom:"20px"}},i[e]))},c=l.length;c<=e;c++)s(c);kn()(i[e+1])||l.push(r.createElement("div",{key:e+1,ref:function(n){return t["container_"+(e+1)]=n},style:{height:"calc(100% - 20px)",width:"100%",paddingBottom:"20px"}},i[e+1])),t[Vn]=!0,t.setState({componentsToRender:l},(function(){t._pageContainer.style.transform="translate3d(0, ".concat(-100*e,"%, 0)"),o&&o(e+1),setTimeout((function(){t.setState({componentIndex:e},(function(){t[Vn]=!1,t[Gn]=null}))}),t.props.animationTimer+tr)}))}}else t[Vn]=!0,t._pageContainer.style.transform="translate3d(0, ".concat(-100*e,"%, 0)"),o&&o(e+1),kn()(t["container_"+(e+1)])&&!kn()(i[e+1])&&l.push(r.createElement("div",{key:e+1,ref:function(n){return t["container_"+(e+1)]=n},style:{height:"calc(100% - 20px)",width:"100%",paddingBottom:"20px"}},i[e+1])),setTimeout((function(){t.setState({componentIndex:e,componentsToRender:l},(function(){t[Vn]=!1,t[Gn]=null}))}),t.props.animationTimer+tr)})),t.state={componentIndex:0,componentsToRender:[]},t[Gn]=null,t[Vn]=!1,t[Qn]=function(e){e.deltaY<0?t[Kn](-e.deltaY):t[er](e.deltaY)},t[qn]=function(e){Pn()(t[Gn])?t[Gn]=e.touches[0].clientY:e.touches[0].clientY>t[Gn]?t[Kn](nr):t[er](nr)},t[Xn]=function(e){zn()(e.keyCode,38)&&t[Kn](nr),zn()(e.keyCode,40)&&t[er](nr)},t[$n]=function(){t.forceUpdate()},t[Jn]=function(e){var n=[];kn()(e)||(n=Bn(e)),(n=[].concat(Bn(n),Bn(t.state.componentsToRender)))[t.state.componentIndex+1]||kn()(t.props.children[t.state.componentIndex+1])||n.push(r.createElement("div",{key:t.state.componentIndex+1,ref:function(e){return t["container_"+(t.state.componentIndex+1)]=e},style:{height:"100%",width:"100%",overflow:"hidden"}},t.props.children[t.state.componentIndex+1])),t.setState({componentsToRender:Bn(n)})},t[Kn]=function(e){kn()(t["container_"+(t.state.componentIndex-1)])||t[Vn]?t.props.scrollUnavailable&&t.props.scrollUnavailable():0===t["container_"+t.state.componentIndex].getElementsByTagName("div")[0].scrollTop&&e>=nr&&(t[Vn]=!0,t._pageContainer.style.transform="translate3d(0, ".concat(-100*(t.state.componentIndex-1),"%, 0)"),t.props.pageOnChange&&t.props.pageOnChange(t.state.componentIndex),setTimeout((function(){t.setState((function(e){return{componentIndex:e.componentIndex-1}}),(function(){t[Vn]=!1,t[Gn]=null}))}),t.props.animationTimer+tr))},t[er]=function(e){if(kn()(t["container_"+(t.state.componentIndex+1)])||t[Vn])t.props.scrollUnavailable&&t.props.scrollUnavailable();else{var n=t["container_"+t.state.componentIndex].getElementsByTagName("div")[0];n.scrollTop===n.scrollHeight-n.clientHeight&&e>=nr&&(t[Vn]=!0,t._pageContainer.style.transform="translate3d(0, ".concat(-100*(t.state.componentIndex+1),"%, 0)"),t.props.pageOnChange&&t.props.pageOnChange(t.state.componentIndex+2),setTimeout((function(){t.setState((function(e){return{componentIndex:e.componentIndex+1}}),(function(){t[Vn]=!1,t[Gn]=null,t[Jn]()}))}),t.props.animationTimer+tr))}},t}return t=l,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.animationTimer,o=t.transitionTimingFunction,i=t.containerHeight;return t.containerWidth,r.createElement("div",{id:"PageScroller",style:{height:i,width:"inherit",overflow:"hidden",padding:"0px 0px 0px 0px"}},r.createElement("div",{ref:function(t){return e._pageContainer=t},tabIndex:0,style:{height:"100%",width:"100%",transition:"transform ".concat(n,"ms ").concat(o)}},this.state.componentsToRender))}}])&&Zn(t.prototype,n),l}(r.Component);Un(rr,"propTypes",{animationTimer:i().number,transitionTimingFunction:i().string,pageOnChange:i().func,scrollUnavailable:i().func,containerHeight:i().number,containerWidth:i().number}),Un(rr,"defaultProps",{animationTimer:1e3,transitionTimingFunction:"ease-in-out",containerHeight:window.innerHeight,containerWidth:window.innerWidth});var or,ir=n(2011);function ar(e){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(e)}function lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(n),!0).forEach((function(t){cr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t){return pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pr(e,t)}function fr(e){return fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fr(e)}const dr=(0,a.$j)((function(e){return{loaded:e.narrative.loaded,blocks:e.narrative.blocks,currentInFocusBlockIdx:e.narrative.blockIdx}}))(or=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fr(o);if(i){var n=fr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ar(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).goToSlide=function(e){var n=e-1;t.props.dispatch((0,ir.oO)(hr(t.props.blocks,t.props.currentInFocusBlockIdx,n)))},t.goToNextSlide=function(){t.props.currentInFocusBlockIdx!==t.props.blocks.length-1&&t.reactPageScroller.goToPage(t.props.currentInFocusBlockIdx+1)},t.goToPreviousSlide=function(){0!==t.props.currentInFocusBlockIdx&&t.reactPageScroller.goToPage(t.props.currentInFocusBlockIdx-1)},t}return t=l,(n=[{key:"componentDidMount",value:function(){window.twttr&&window.twttr.ready&&window.twttr.widgets.load(),0!==this.props.currentInFocusBlockIdx&&this.reactPageScroller.goToPage(this.props.currentInFocusBlockIdx),Dt().bind(["left","up"],this.goToPreviousSlide),Dt().bind(["right","down"],this.goToNextSlide)}},{key:"renderChevron",value:function(e){var t={zIndex:200,position:"absolute",cursor:"pointer",left:"".concat(this.props.width/2-15,"px"),fontSize:"".concat(30,"px"),height:"".concat(30,"px")};e&&(t.top=F.bj+25),t.bottom=e?0:"5px";var n=e?r.createElement(s.s$2,null):r.createElement(s.RiI,null);return r.createElement("div",{id:"hand".concat(e?"Up":"Down"),style:t,onClick:e?this.goToPreviousSlide:this.goToNextSlide},n)}},{key:"renderProgress",value:function(){var e=this;return r.createElement(Ln,{style:{height:"".concat(25,"px")},role:"navigation"},this.props.blocks.map((function(t,n){var o=e.props.currentInFocusBlockIdx===n?"14px":"6px";return r.createElement(Cn,{key:n,style:{width:o,height:o},onClick:function(){return e.reactPageScroller.goToPage(n)}})})))}},{key:"renderBlocks",value:function(){var e=this;return this.props.blocks.map((function(t,n){if(t.isEndOfNarrativeSlide)return r.createElement(En,{key:"EON",id:"EndOfNarrative"},r.createElement("h1",null,"END OF NARRATIVE"),r.createElement("a",{style:sr({},xn),onClick:function(){return e.reactPageScroller.goToPage(0)}},"Scroll back to the beginning"),r.createElement("br",null),r.createElement("a",{style:sr({},xn),onClick:function(){return e.props.dispatch({type:It.$f,narrativeOn:!1})}},"Leave the narrative & explore the data yourself"));var o=0===n?'\n  <p class="explanation">\n  Explore the narrative by scrolling on the left panel, or click "explore the data yourself" in the top right to interact with the data.\n  </p>\n'+t.__html:t.__html;return r.createElement("div",{dir:"auto",id:"NarrativeBlock_".concat(n),key:n,style:{padding:"10px 20px",height:"inherit",overflowX:"hidden",overflowY:"auto"},dangerouslySetInnerHTML:{__html:o}})}))}},{key:"render",value:function(){var e=this;return this.props.loaded?r.createElement(Sn,{id:"NarrativeContainer",narrativeNavBarHeight:F.bj},this.renderProgress(),r.createElement(jn,{position:"top",topHeight:F.bj+25}),r.createElement(jn,{position:"bottom"}),0!==this.props.currentInFocusBlockIdx?this.renderChevron(!0):null,this.props.currentInFocusBlockIdx!==this.props.blocks.length-1?this.renderChevron(!1):null,r.createElement(rr,{ref:function(t){e.reactPageScroller=t},containerHeight:this.props.height-25,pageOnChange:this.goToSlide},this.renderBlocks())):null}},{key:"componentWillUnmount",value:function(){Dt().unbind(["left","right","up","down"])}}])&&ur(t.prototype,n),l}(r.Component))||or;function hr(e,t,n){var r={query:{n},push:!0};return e[t].dataset!==e[n].dataset&&(r.path=e[n].dataset,r.changeDatasetOnly=!0),r}var mr,yr,gr=n(1409),vr=n(35776),br=n(83645),wr=n.n(br),Mr=n(63463),Sr=n(24177);function jr(e){return jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jr(e)}function xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(n),!0).forEach((function(t){_r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tr(e,t){return Tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Tr(e,t)}function Er(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Or(e){return Or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Or(e)}function _r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dr=(0,a.$j)((function(e){return{colorBy:e.controls.colorBy,colorings:e.metadata.colorings,genomeMap:e.entropy.genomeMap}}))((yr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tr(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Or(o);if(i){var n=Or(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===jr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Er(e)}(this,e)});function l(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),_r(Er(t=a.call(this,e)),"dispatchColorByGenotype",wr()((function(e){t.dispatchColorBy(e,"genotype")}),400)),t.BLANK_STATE={colorBySelected:"",geneSelected:"",positionSelected:""},(0,et.O$)(e.colorBy)){var n=(0,et.kW)(e.colorBy);n&&(t.state=t.newState({colorBySelected:"gt",geneSelected:n.gene,positionSelected:n.positions.join(",")}))}else t.state=t.newState({colorBySelected:e.colorBy});return t}return t=l,n=[{key:"replaceState",value:function(e){var t=this;this.setState((function(n,r){return t.newState(e)}))}},{key:"newState",value:function(e){return Lr(Lr({},this.BLANK_STATE),e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.props.colorBy!==e.colorBy)if((0,et.O$)(e.colorBy)){var t=(0,et.kW)(e.colorBy);t&&this.replaceState({colorBySelected:"gt",geneSelected:t.gene,positionSelected:t.positions.join(",")})}else this.replaceState({colorBySelected:e.colorBy})}},{key:"componentDidUpdate",value:function(){var e=this.state.colorBySelected;if("gt"===e){var t=this.state,n=t.geneSelected,r=t.positionSelected;if(n&&r){var o=(0,et.bP)({gene:n,positions:(0,et.bQ)(r,(0,et.Q$)(this.props.genomeMap,n))});o&&o!==this.props.colorBy&&this.dispatchColorByGenotype(o)}}else this.dispatchColorBy(e)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.colorBySelected!==t.colorBySelected||this.state.geneSelected!==t.geneSelected||this.state.positionSelected!==t.positionSelected||this.props.colorings!==e.colorings}},{key:"dispatchColorBy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;(0,Gt.fs)("color-by-".concat(t)),this.props.dispatch((0,Mr.j)(e))}},{key:"getGtGeneOptions",value:function(){var e;if(null===(e=this.props.genomeMap)||void 0===e||!e.length)return[];var t=[{value:F.BJ,label:"nucleotide"}];return this.props.genomeMap[0].genes.forEach((function(e){e.cds.forEach((function(e){t.push({value:e.name,label:e.name})}))})),t}},{key:"gtGeneSelect",value:function(){var e=this,t=this.getGtGeneOptions();return r.createElement(Sr.Z,{name:"selectGenotype",id:"selectGenotype",placeholder:"gene…",value:t.filter((function(t){return t.value===e.state.geneSelected})),options:t,isClearable:!1,isSearchable:!0,isMulti:!1,onChange:function(t){e.setState({geneSelected:t.value})}})}},{key:"gtPositionInput",value:function(){var e=this,t=this.state.geneSelected,n=t?"".concat(t," position (1–").concat((0,et.Q$)(this.props.genomeMap,t),")…"):"position…";return r.createElement("input",{type:"text",style:c.H2,placeholder:n,value:this.state.positionSelected,onChange:function(t){e.setState({positionSelected:t.target.value})}})}},{key:"isNormalInteger",value:function(e){var t=Math.floor(Number(e));return String(t)===e&&t>=0}},{key:"getStyles",value:function(){return{base:{width:F.HB,marginBottom:0,fontSize:14}}}},{key:"render",value:function(){var e=this,t=this.getStyles(),n=Object.keys(this.props.colorings).map((function(t){return{value:t,label:e.props.colorings[t].title}}));return r.createElement("div",{style:t.base,id:"selectColorBy"},r.createElement(Sr.Z,{name:"selectColorBy",value:n.filter((function(t){return t.value===e.state.colorBySelected})),options:n,isClearable:!1,isSearchable:!0,isMulti:!1,onChange:function(t){e.replaceState({colorBySelected:t.value})}}),"gt"===this.state.colorBySelected?r.createElement("div",null,this.gtGeneSelect(),this.gtPositionInput()):null)}}],n&&Cr(t.prototype,n),l}(r.Component),_r(yr,"propTypes",{colorBy:i().string.isRequired,colorings:i().object.isRequired,dispatch:i().func.isRequired,genomeMap:i().array}),mr=yr))||mr,Ir=r.createElement(r.Fragment,null,"Change the metadata field which the visualisation is coloured by.",r.createElement("br",null),"The phylogeny, map and frequencies panel (if available) will all be coloured in a consistent fashion.");const zr=Dr;var Ar=n(11e3),kr=n.n(Ar),Nr=n(63182),Pr=n.n(Nr),Rr=n(71304),Br=n.n(Rr);function Fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(n),!0).forEach((function(t){Hr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wr={base:{position:"relative",borderRadius:6},horizontalSlider:{width:"100%",height:12},verticalSlider:{maxHeight:500,width:12,border:"1px solid grey"},handle:{fontSize:"0.9em",textAlign:"center",backgroundColor:"#FAFAFA",color:"white",border:"1px solid #555",cursor:"pointer",height:12,width:12,borderRadius:12,top:-4},bar:{position:"relative",backgroundColor:"rgb(200,200,200)",borderRadius:2},unselectedBar:{backgroundColor:"#777",height:1,top:2},selectedBar:{backgroundColor:"#CCC",height:6}};function Yr(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1}function Ur(e){return null==e?[]:Array.isArray(e)?e:[e]}function Gr(e){return null!=e&&1===e.length?e[0]:e}var Vr=kr()({displayName:"Slider",propTypes:{min:i().number,max:i().number,step:i().number,minDistance:i().number,defaultValue:i().oneOfType([i().number,i().arrayOf(i().number)]),value:i().oneOfType([i().number,i().arrayOf(i().number)]),orientation:i().oneOf(["horizontal","vertical"]),className:i().string,handleClassName:i().string,handleActiveClassName:i().string,withBars:i().bool,barClassName:i().string,pearling:i().bool,disabled:i().bool,snapDragDisabled:i().bool,invert:i().bool,onBeforeChange:i().func,onChange:i().func,onAfterChange:i().func,onSliderClick:i().func},getDefaultProps:function(){return{min:0,max:100,step:1e-5,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",handleClassName:"handle",handleActiveClassName:"active",barClassName:"bar",withBars:!1,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1}},getInitialState:function(){var e=this._or(Ur(this.props.value),Ur(this.props.defaultValue));this.tempArray=e.slice();for(var t=[],n=0;n<e.length;n++)e[n]=this._trimAlignValue(e[n],this.props),t.push(n);return{index:-1,upperBound:208,sliderLength:220,handleSize:12,sliderStart:20,value:e,zIndices:t}},UNSAFE_componentWillReceiveProps:function(e){var t=this._or(Ur(e.value),this.state.value);this.tempArray=t.slice();for(var n=[],r=0;r<t.length;r++)n[r]=this._trimAlignValue(t[r],e);this.setState({value:n})},_or:function(e,t){var n=r.Children.count(this.props.children);switch(n){case 0:return e.length>0?e:t;case e.length:return e;case t.length:return t;default:return e.length===n&&t.length===n||console.warn(this.constructor.displayName+": Number of values does not match number of children."),function(e,t,n){for(var r=(t-e)/(n-1),o=[],i=0;i<n;i++)o.push(e+r*i);return o}(this.props.min,this.props.max,n)}},getValue:function(){return Gr(this.state.value)},_calcOffset:function(e){return(e-this.props.min)/(this.props.max-this.props.min)*this.state.upperBound},_calcValue:function(e){return e/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},_buildHandleStyle:function(e,t){var n={position:"absolute",willChange:this.state.index>=0?this._posMinKey():""};return n[this._posMinKey()]=e+"px",n},_getClosestIndex:function(e){for(var t=Number.MAX_VALUE,n=-1,r=this.state.value,o=r.length,i=0;i<o;i++){var a=this._calcOffset(r[i]),l=Math.abs(e-a);l<t&&(t=l,n=i)}return n},_calcOffsetFromPosition:function(e){var t=e-this.state.sliderStart;return this.props.invert&&(t=this.state.sliderLength-t),t-this.state.handleSize/2},_forceValueFromPosition:function(e,t){var n=this._calcOffsetFromPosition(e),r=this._getClosestIndex(n),o=this._trimAlignValue(this._calcValue(n)),i=this.state.value.slice();i[r]=o;for(var a=0;a<i.length-1;a+=1)if(i[a+1]-i[a]<this.props.minDistance)return;this.setState({value:i},t.bind(this,r))},_getMousePosition:function(e){return[e["page"+this._axisKey()],e["page"+this._orthogonalAxisKey()]]},_getTouchPosition:function(e){var t=e.touches[0];return[t["page"+this._axisKey()],t["page"+this._orthogonalAxisKey()]]},_getMouseEventMap:function(){return{mousemove:this._onMouseMove,mouseup:this._onMouseUp}},_getTouchEventMap:function(){return{touchmove:this._onTouchMove,touchend:this._onTouchEnd}},_createOnMouseDown:function(e){return function(t){if(!this.props.disabled){var n=this._getMousePosition(t);this._start(e,n[0]),this._addHandlers(this._getMouseEventMap()),Yr(t)}}.bind(this)},_createOnTouchStart:function(e){return function(t){if(!(this.props.disabled||t.touches.length>1)){var n=this._getTouchPosition(t);this.startPosition=n,this.isScrolling=void 0,this._start(e,n[0]),this._addHandlers(this._getTouchEventMap()),function(e){e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0}(t)}}.bind(this)},_addHandlers:function(e){for(var t in e)document.addEventListener(t,e[t],!1)},_removeHandlers:function(e){for(var t in e)document.removeEventListener(t,e[t],!1)},_start:function(e,t){document.activeElement&&document.activeElement!==document.body&&document.activeElement.blur(),this.hasMoved=!1,this._fireChangeEvent("onBeforeChange");var n=this.state.zIndices;n.splice(n.indexOf(e),1),n.push(e),this.setState({startValue:this.state.value[e],startPosition:t,index:e,zIndices:n})},_onMouseUp:function(){this._onEnd(this._getMouseEventMap())},_onTouchEnd:function(){this._onEnd(this._getTouchEventMap())},_onEnd:function(e){this._removeHandlers(e),this.setState({index:-1},this._fireChangeEvent.bind(this,"onAfterChange"))},_onMouseMove:function(e){var t=this._getMousePosition(e);this._move(t[0])},_onTouchMove:function(e){if(!(e.touches.length>1)){var t=this._getTouchPosition(e);if(void 0===this.isScrolling){var n=t[0]-this.startPosition[0],r=t[1]-this.startPosition[1];this.isScrolling=Math.abs(r)>Math.abs(n)}this.isScrolling?this.setState({index:-1}):(Yr(e),this._move(t[0]))}},_move:function(e){this.hasMoved=!0;var t=this.props,n=this.state,r=n.index,o=n.value,i=o.length,a=o[r],l=e-n.startPosition;t.invert&&(l*=-1);var s=l/(n.sliderLength-n.handleSize)*(t.max-t.min),c=this._trimAlignValue(n.startValue+s),u=t.minDistance;if(!t.pearling){if(r>0){var p=o[r-1];c<p+u&&(c=p+u)}if(r<i-1){var f=o[r+1];c>f-u&&(c=f-u)}}o[r]=c,t.pearling&&i>1&&(c>a?(this._pushSucceeding(o,u,r),this._trimSucceeding(i,o,u,t.max)):c<a&&(this._pushPreceding(o,u,r),this._trimPreceding(i,o,u,t.min))),c!==a&&this.setState({value:o},this._fireChangeEvent.bind(this,"onChange"))},_pushSucceeding:function(e,t,n){var r,o;for(o=e[r=n]+t;null!=e[r+1]&&o>e[r+1];o=e[++r]+t)e[r+1]=this._alignValue(o)},_trimSucceeding:function(e,t,n,r){for(var o=0;o<e;o++){var i=r-o*n;t[e-1-o]>i&&(t[e-1-o]=i)}},_pushPreceding:function(e,t,n){var r,o;for(o=e[r=n]-t;null!=e[r-1]&&o<e[r-1];o=e[--r]-t)e[r-1]=this._alignValue(o)},_trimPreceding:function(e,t,n,r){for(var o=0;o<e;o++){var i=r+o*n;t[o]<i&&(t[o]=i)}},_axisKey:function(){var e=this.props.orientation;return"horizontal"===e?"X":"vertical"===e?"Y":"X"},_orthogonalAxisKey:function(){var e=this.props.orientation;return"horizontal"===e?"Y":"vertical"===e?"X":"Y"},_posMinKey:function(){var e=this.props.orientation;return"horizontal"===e?this.props.invert?"right":"left":"vertical"===e?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},_posMaxKey:function(){var e=this.props.orientation;return"horizontal"===e?this.props.invert?"left":"right":"vertical"===e?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},_sizeKey:function(){var e=this.props.orientation;return"horizontal"===e?"clientWidth":"vertical"===e?"clientHeight":"clientWidth"},_trimAlignValue:function(e,t){return this._alignValue(this._trimValue(e,t),t)},_trimValue:function(e,t){return e<=(t=t||this.props).min&&(e=t.min),e>=t.max&&(e=t.max),e},_alignValue:function(e,t){var n=(e-(t=t||this.props).min)%t.step,r=e-n;return 2*Math.abs(n)>=t.step&&(r+=n>0?t.step:-t.step),parseFloat(r.toFixed(5))},_renderHandle:function(e,t){var n=this.props.handleClassName+" "+this.props.handleClassName+"-"+t+" "+(this.state.index===t?this.props.handleActiveClassName:"");return r.createElement("div",{ref:"handle"+t,key:"handle"+t,className:n,style:Zr(Zr({},Wr.handle),e),onMouseDown:this._createOnMouseDown(t),onTouchStart:this._createOnTouchStart(t)})},_renderHandles:function(e){for(var t=e.length,n=this.tempArray,r=0;r<t;r++)n[r]=this._buildHandleStyle(e[r],r);for(var o=this.tempArray,i=0;i<t;i++)o[i]=this._renderHandle(n[i],i);return o},_buildBarStyle:function(e,t){var n={position:"absolute",willChange:this.state.index>=0?this._posMinKey()+","+this._posMaxKey():""};return n[this._posMinKey()]=e,n[this._posMaxKey()]=t,n},_renderBar:function(e,t,n){var o=this.props.barClassName+" "+this.props.barClassName+"-"+e,i=this._buildBarStyle(t,this.state.upperBound-n);return i=0===e&&!Br()(this.props.defaultValue)||1===e&&Br()(this.props.defaultValue)?Pr()({},i,Wr.selectedBar):Pr()({},i,Wr.unselectedBar),r.createElement("div",{key:"bar"+e,ref:"bar"+e,className:o,style:Zr(Zr({},Wr.bar),i)})},_renderBars:function(e){var t=[],n=e.length-1;t.push(this._renderBar(0,0,e[0]));for(var r=0;r<n;r++)t.push(this._renderBar(r+1,e[r],e[r+1]));return t.push(this._renderBar(n+1,e[n],this.state.upperBound)),t},_onSliderMouseDown:function(e){var t=this;if(!this.props.disabled){if(this.hasMoved=!1,!this.props.snapDragDisabled){var n=this._getMousePosition(e);this._forceValueFromPosition(n[0],(function(e){t._fireChangeEvent("onChange"),t._start(e,n[0]),t._addHandlers(t._getMouseEventMap())}))}Yr(e)}},_onSliderClick:function(e){if(!this.props.disabled&&this.props.onSliderClick&&!this.hasMoved){var t=this._getMousePosition(e),n=this._trimAlignValue(this._calcValue(this._calcOffsetFromPosition(t[0])));this.props.onSliderClick(n)}},_fireChangeEvent:function(e){this.props[e]&&this.props[e](Gr(this.state.value))},render:function(){for(var e=this.tempArray,t=this.state.value,n=this.state.value.length,o=0;o<n;o++)e[o]=this._calcOffset(t[o],o);var i="vertical"===this.props.orientation?Wr.verticalSlider:Wr.horizontalSlider;return r.createElement("div",{ref:"slider",style:Zr(Zr({},Wr.base),i),onMouseDown:this._onSliderMouseDown,onClick:this._onSliderClick},this.props.withBars?this._renderBars(e):null,this._renderHandles(e))}});const Qr=Vr;var qr=n(74399),Xr=n(13588);function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jr=l.ZP.div.withConfig({displayName:"date-label__FloatDiv",componentId:"sc-g74a89-0"})(["float:",";"],(function(e){return e.right?"right":"left"})),Kr=l.ZP.span.withConfig({displayName:"date-label__TextSpan",componentId:"sc-g74a89-1"})(["font-family:",";font-size:12px;font-weight:400;color:",";"],(function(e){return e.theme["font-family"]}),(function(e){return e.theme.color})),eo=(0,l.ZP)(Kr).withConfig({displayName:"date-label__TextSpanClickable",componentId:"sc-g74a89-2"})(["cursor:pointer;"]),to=(0,l.ZP)(Kr).withConfig({displayName:"date-label__IconSpan",componentId:"sc-g74a89-3"})(["font-size:16px;margin:0 3px;vertical-align:middle;"]),no=function(e){var t,n,o=e.value,i=e.minDate,a=e.maxDate,l=e.onChange,s=e.right,c=(t=r.useState(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return $r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$r(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],p=c[1],f=(0,r.useCallback)((function(e){p(!1),l(e)}),[p,l]),d=(0,r.useCallback)((function(e){"Enter"===e.key&&f(e.target.value)}),[f]),h=(0,r.useCallback)((function(e){f(e.target.value)}),[f]);if(u){var m=r.createElement("input",{type:"date",defaultValue:o,min:i,max:a,onKeyUp:d,onBlur:h}),y=r.createElement(to,{onClick:function(){return p(!1)}},r.createElement(Xr.mW3,null));return s?r.createElement(r.Fragment,null,m,y):r.createElement(r.Fragment,null,y,m)}var g=r.createElement(eo,{onClick:function(){return p(!0)}},o),v=r.createElement(to,{onClick:function(){return p(!0)}},r.createElement(qr.f$3,null));return s?r.createElement(r.Fragment,null,g,v):r.createElement(r.Fragment,null,v,g)};const ro=function(e){var t,n=e.value,o=e.minDate,i=e.maxDate,a=e.onChange,l=e.right;return t=+n==+n?r.createElement(Kr,null,n):r.createElement(no,{value:n,minDate:o,maxDate:i,onChange:a,right:l}),r.createElement(Jr,{right:l},t)};function oo(e){return oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(e)}var io;function ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lo(e,t){return lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lo(e,t)}function so(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function co(e){return co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},co(e)}var uo=(0,a.$j)((function(e){return{branchLengthsToDisplay:e.controls.branchLengthsToDisplay,dateMin:e.controls.dateMin,dateMax:e.controls.dateMax,dateMinNumeric:e.controls.dateMinNumeric,dateMaxNumeric:e.controls.dateMaxNumeric,absoluteDateMin:e.controls.absoluteDateMin,absoluteDateMax:e.controls.absoluteDateMax,absoluteDateMinNumeric:e.controls.absoluteDateMinNumeric,absoluteDateMaxNumeric:e.controls.absoluteDateMaxNumeric}}))(io=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lo(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=co(o);if(i){var n=co(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===oo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return so(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).state={lastSliderUpdateTime:Date.now()},t.updateFromSliderNotDebounced=t.updateFromSlider.bind(so(t),!1),t.updateFromSliderDebounced=t.updateFromSlider.bind(so(t),!0),t.updateMinFromDatePicker=t.updateMinFromDatePicker.bind(so(t)),t.updateMaxFromDatePicker=t.updateMaxFromDatePicker.bind(so(t)),t}return t=l,n=[{key:"maybeClearMapAnimationInterval",value:function(){window.NEXTSTRAIN&&window.NEXTSTRAIN.animationTickReference&&(clearInterval(window.NEXTSTRAIN.animationTickReference),window.NEXTSTRAIN.animationTickReference=null,this.props.dispatch({type:It.if,data:"Play"}))}},{key:"updateFromSlider",value:function(e,t){if(this.maybeClearMapAnimationInterval(),e){var n=Date.now();if(n<this.state.lastSliderUpdateTime+100)return null;this.setState({lastSliderUpdateTime:n})}var r={min:(0,fn.hT)(t[0]),max:(0,fn.hT)(t[1])};return this.props.dateMin!==r.min&&this.props.dateMax===r.max?this.props.dispatch((0,R.ms)({newMin:r.min,quickdraw:e})):this.props.dateMin===r.min&&this.props.dateMax!==r.max?this.props.dispatch((0,R.ms)({newMax:r.max,quickdraw:e})):this.props.dateMin!==r.min&&this.props.dateMax!==r.max?this.props.dispatch((0,R.ms)({newMin:r.min,newMax:r.max,quickdraw:e})):!1===e&&this.props.dispatch((0,R.ms)({quickdraw:e})),null}},{key:"updateMinFromDatePicker",value:function(e){this.props.dispatch((0,R.ms)({newMin:e}))}},{key:"updateMaxFromDatePicker",value:function(e){this.props.dispatch((0,R.ms)({newMax:e}))}},{key:"render",value:function(){return"divOnly"===this.props.branchLengthsToDisplay?null:r.createElement("div",null,r.createElement("div",{style:{width:F.HB}},r.createElement(Qr,{min:this.props.absoluteDateMinNumeric,max:this.props.absoluteDateMaxNumeric,defaultValue:[this.props.absoluteDateMinNumeric,this.props.absoluteDateMaxNumeric],value:[this.props.dateMinNumeric,this.props.dateMaxNumeric],onChange:this.updateFromSliderDebounced,onAfterChange:this.updateFromSliderNotDebounced,minDistance:F.u4*(this.props.absoluteDateMaxNumeric-this.props.absoluteDateMinNumeric),pearling:!0,withBars:!0})),r.createElement("div",{style:{height:5}}),r.createElement("div",{style:{width:F.HB}},r.createElement(ro,{value:this.props.dateMin,minDate:this.props.absoluteDateMin,maxDate:this.props.dateMax,onChange:this.updateMinFromDatePicker}),r.createElement(ro,{right:!0,value:this.props.dateMax,minDate:this.props.dateMin,maxDate:this.props.absoluteDateMax,onChange:this.updateMaxFromDatePicker})))}}],n&&ao(t.prototype,n),l}(r.Component))||io,po=r.createElement(r.Fragment,null,"Use this slider to filter the data based on the sample date. This may include inferred dates for ancestral nodes in the tree, and thus the date range here can be wider than the sample collection range.");const fo=uo;var ho,mo=n(18466),yo=n(56113);function go(e){return go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(e)}function vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bo(e,t){return bo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bo(e,t)}function wo(e){return wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wo(e)}var Mo=(0,a.$j)((function(e){return{absoluteDateMin:e.controls.absoluteDateMin,absoluteDateMax:e.controls.absoluteDateMax,animationPlayPauseButton:e.controls.animationPlayPauseButton,branchLengthsToDisplay:e.controls.branchLengthsToDisplay}}))(ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bo(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=wo(o);if(i){var n=wo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===go(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"getPlayPauseButton",value:function(){var e=this;return r.createElement(yo.fP,{onClick:function(){"Play"===e.props.animationPlayPauseButton?e.props.dispatch({type:It.if,data:"Pause"}):e.props.dispatch({type:It.if,data:"Play"})}},r.createElement("span",null,"Play"===this.props.animationPlayPauseButton?r.createElement(s.gmG,{color:"#888"}):r.createElement(s.Wh,{color:"#888"})," "+this.props.t("Play"===this.props.animationPlayPauseButton?"Play":"Pause")))}},{key:"getResetButton",value:function(){var e=this;return r.createElement(yo.fP,{onClick:function(){e.props.dispatch({type:It.if,data:"Play"}),e.props.dispatch((0,R.ms)({newMin:e.props.absoluteDateMin,newMax:e.props.absoluteDateMax,quickdraw:!1}))}},r.createElement("span",null,r.createElement(s.wXW,{color:"#888"})," "+this.props.t("Reset")))}},{key:"render",value:function(){return"divOnly"===this.props.branchLengthsToDisplay?null:r.createElement("div",{style:{marginBottom:0}},r.createElement(mo.Z,{justifyContent:"space-between"},this.getPlayPauseButton(),this.getResetButton()))}}])&&vo(t.prototype,n),l}(r.Component))||ho;const So=(0,f.Z)()(Mo);var jo,xo=n(7193);function Lo(e){return Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lo(e)}function Co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return To(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?To(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function To(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oo(e,t){return Oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oo(e,t)}function _o(e){return _o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_o(e)}var Do=(0,a.$j)((function(e){return{selected:e.controls.explodeAttr,available:e.metadata.colorings,showThisUI:!e.controls.showTreeToo,mobileDisplay:e.general.mobileDisplay}}))(jo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oo(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_o(o);if(i){var n=_o(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Lo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).change=function(e){t.props.dispatch((0,R.lz)(e.value))},t}return t=l,(n=[{key:"gatherAttrs",value:function(){var e=Object.entries(this.props.available).filter((function(e){var t=Co(e,2);return t[0],"continuous"!==t[1].type})).filter((function(e){return"gt"!==Co(e,1)[0]})).map((function(e){var t=Co(e,2),n=t[0];return{value:n,label:t[1].title||n}}));return this.props.selected&&e.unshift({value:void 0,label:"None"}),e}},{key:"render",value:function(){var e=this;if(!this.props.showThisUI)return null;var t=this.props,n=t.t,o=t.tooltip,i=this.gatherAttrs();return r.createElement("div",{style:{paddingTop:10}},r.createElement(yo.iq,{"data-tip":!0,"data-for":"explode_tree"},r.createElement("span",{style:{position:"relative"}},r.createElement(xo.ooh,{style:{position:"absolute",left:"-14px",top:"2px",fontSize:"10px"}}),n("sidebar:Explode Tree By")),o&&!this.props.mobileDisplay&&r.createElement(r.Fragment,null,r.createElement(yo.vb,{"data-tip":!0,"data-for":"select-explode"},r.createElement(s.DAO,null)),r.createElement(yo.mi,{place:"bottom",type:"dark",effect:"solid",id:"select-explode"},o))),r.createElement("div",{style:{width:F.HB,fontSize:14}},r.createElement(Sr.Z,{value:i.filter((function(t){return t.value===e.props.selected})),options:i,isClearable:!1,isSearchable:!1,isMulti:!1,onChange:this.change})))}}])&&Eo(t.prototype,n),l}(r.Component))||jo;const Io=(0,f.Z)()(Do);var zo=l.ZP.div.withConfig({displayName:"toggle__ToggleContainer",componentId:"sc-1r21f6e-0"})(["height:21px;position:relative;"]),Ao=l.ZP.label.withConfig({displayName:"toggle__ToggleBackground",componentId:"sc-1r21f6e-1"})(["position:relative;display:inline-block;width:35px;height:21px;input{display:none;}input:checked{background-color:",";}"],(function(e){return e.theme.unselectedColor})),ko=(0,l.ZP)(yo.om).withConfig({displayName:"toggle__ToggleSubtitle",componentId:"sc-1r21f6e-2"})(["margin-left:40px;margin-top:4px;width:200px;"]),No=l.ZP.span.withConfig({displayName:"toggle__ExperimentalIcon",componentId:"sc-1r21f6e-3"})(["color:",";font-size:10px;position:absolute;left:-12px;top:6px;"],(function(e){return e.theme.color})),Po=l.ZP.div.withConfig({displayName:"toggle__Slider",componentId:"sc-1r21f6e-4"})(["&{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:",';-webkit-transition:.4s;transition:.4s;border-radius:12px;}&:before{position:absolute;content:"";height:15px;width:15px;left:4px;bottom:3px;background-color:#FFF;-webkit-transition:.4s;transition:.4s;border-radius:50%;}input:checked + &:before{-webkit-transform:translateX(13px);-ms-transform:translateX(13px);transform:translateX(13px);}'],(function(e){return e.theme.alternateBackground})),Ro=l.ZP.input.withConfig({displayName:"toggle__Input",componentId:"sc-1r21f6e-5"})(['&{margin-left:"40px"}&:checked + ',"{background-color:",";}&:focus{box-shadow:0 0 1px #2196F3;}"],Po,(function(e){return e.theme.selectedColor}));const Bo=function(e){var t=e.display,n=e.isExperimental,o=void 0!==n&&n,i=e.on,a=e.callback,l=e.label,s=e.style,c=void 0===s?{}:s;return t?r.createElement(zo,{style:c},o&&r.createElement(No,null,r.createElement(xo.ooh,null)),r.createElement(Ao,null,r.createElement(Ro,{type:"checkbox",checked:i,onChange:a}),r.createElement(Po,null),""===l?null:r.createElement(ko,null,l))):null};function Fo(e){return Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(e)}var Zo;function Ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wo(e,t){return Wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wo(e,t)}function Yo(e){return Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yo(e)}var Uo=(0,a.$j)((function(e){var t,n;return{selected:e.controls.selectedBranchLabel,showAll:e.controls.showAllBranchLabels,available:Array.from(new Set(e.tree.availableBranchLabels).union(new Set(null!==(t=null===(n=e.treeToo)||void 0===n?void 0:n.availableBranchLabels)&&void 0!==t?t:[]))),canRenderBranchLabels:e.controls.canRenderBranchLabels}}))(Zo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wo(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yo(o);if(i){var n=Yo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Fo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).change=function(e){t.props.dispatch({type:It.Ct,value:e.value})},t}return t=l,(n=[{key:"render",value:function(){var e=this;if(!this.props.canRenderBranchLabels)return null;var t=this.props.t,n=this.props.available.map((function(e){return{value:e,label:e}}));return r.createElement("div",{style:{paddingTop:5}},r.createElement(yo.om,null,t("sidebar:Branch Labels")),r.createElement("div",{style:{width:F.HB,fontSize:14}},r.createElement(Sr.Z,{value:n.filter((function(t){return t.value===e.props.selected})),options:n,isClearable:!1,isSearchable:!1,isMulti:!1,onChange:this.change})),"none"!==this.props.selected&&r.createElement(Bo,{display:!0,on:this.props.showAll,callback:function(){return e.props.dispatch({type:It.sJ,value:!e.props.showAll})},label:t("sidebar:Show all labels"),style:{paddingBottom:"5px",paddingTop:"10px"}}))}}])&&Ho(t.prototype,n),l}(r.Component))||Zo;const Go=(0,f.Z)()(Uo);var Vo=n(19146),Qo=n(72061);function qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qo(Object(n),!0).forEach((function(t){$o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jo,Ko,ei=function(e){var t=e.layout,n=e.showBranches,r=e.showRegression,o=e.x,i=e.xLabel,a=e.y,l=e.yLabel;return function(e,s){if(!window.NEXTSTRAIN||!window.NEXTSTRAIN.animationTickReference){var c=s(),u=c.controls,p=c.tree,f=c.metadata;if("rect"!==t&&"unrooted"!==t&&"radial"!==t){var d="clock"===t||"scatter"===t?(0,Qo.HO)(u,f,p,"clock"===t):u.scatterVariables;o&&i&&(d=Xo(Xo({},d),(0,Qo.Sg)({x:o,xLabel:i},"x",u,p,f))),a&&l&&(d=Xo(Xo({},d),(0,Qo.Sg)({y:a,yLabel:l},"y",u,p,f))),void 0!==n&&(d.showBranches=n),void 0!==r&&(d.showRegression=r),"scatter"!==t||d.xContinuous&&d.yContinuous||(d.showRegression=!1),e({type:It.v8,layout:t||u.layout,scatterVariables:Xo({},d),canRenderBranchLabels:d.showBranches})}else e({type:It.v8,layout:t,scatterVariables:u.scatterVariables,canRenderBranchLabels:!0})}}};function ti(e){return ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ti(e)}function ni(){return ni=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ni.apply(this,arguments)}function ri(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oi(e,t){return oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oi(e,t)}function ii(e){return ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ii(e)}var ai,li,si,ci=(0,l.Zz)(Vo.oO),ui=(0,l.Zz)(Vo.qI),pi=(0,l.Zz)(Vo.tj),fi=(0,l.Zz)(Vo.SU),di=(0,l.Zz)(Vo.bp),hi=l.ZP.div.withConfig({displayName:"choose-layout__RowContainer",componentId:"sc-16x4jtt-0"})(["padding:0px 5px 1px 5px;"]),mi=l.ZP.div.withConfig({displayName:"choose-layout__ScatterVariableContainer",componentId:"sc-16x4jtt-1"})(["display:flex;flex-direction:row;align-content:stretch;flex-wrap:nowrap;height:100%;order:0;flex-grow:0;flex-shrink:1;flex-basis:auto;align-self:auto;padding:","px 0px 2px 15px;"],(function(e){return e.padAbove?"2":"0"})),yi=l.ZP.div.withConfig({displayName:"choose-layout__ScatterAxisName",componentId:"sc-16x4jtt-2"})(["display:flex;flex-direction:column;justify-content:center;min-width:18px;font-size:14px;font-weight:400;font-family:",";color:",";"],(function(e){return e.theme["font-family"]}),(function(e){return e.theme.color})),gi=l.ZP.div.withConfig({displayName:"choose-layout__ScatterSelectContainer",componentId:"sc-16x4jtt-3"})(["width:","px;font-size:12px;"],F.HB-18),vi=(0,a.$j)((function(e){return{layout:e.controls.layout,scatterVariables:e.controls.scatterVariables,colorings:e.metadata.colorings,colorBy:e.controls.colorBy,showTreeToo:e.controls.showTreeToo,branchLengthsToDisplay:e.controls.branchLengthsToDisplay}}))((Ko=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oi(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ii(o);if(i){var n=ii(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ti(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"renderScatterplotAxesSelector",value:function(){var e=this,t=(0,Qo.dQ)(this.props.colorings,this.props.colorBy),n=t.filter((function(t){return t.value===e.props.scatterVariables.x}))[0],o=t.filter((function(t){return t.value===e.props.scatterVariables.y}))[0],i={options:t,isClearable:!1,isSearchable:!1,isMulti:!1};return r.createElement(r.Fragment,null,r.createElement(mi,null,r.createElement(yi,null,"x"),r.createElement(gi,null,r.createElement(Sr.Z,ni({},i,{value:t.filter((function(e){return e.value===n.value})),onChange:function(t){return e.props.dispatch(ei({x:t.value,xLabel:t.label}))}})))),r.createElement(mi,null,r.createElement(yi,null,"y"),r.createElement(gi,null,r.createElement(Sr.Z,ni({},i,{value:t.filter((function(e){return e.value===o.value})),onChange:function(t){return e.props.dispatch(ei({y:t.value,yLabel:t.label}))}})))))}},{key:"renderBranchToggle",value:function(){var e=this;return r.createElement(mi,{padAbove:!0},r.createElement(Bo,{display:!0,on:this.props.scatterVariables.showBranches,callback:function(){return e.props.dispatch(ei({showBranches:!e.props.scatterVariables.showBranches}))},label:"Show branches"}))}},{key:"renderRegressionToggle",value:function(){var e=this;return"scatter"!==this.props.layout||this.props.scatterVariables.xContinuous&&this.props.scatterVariables.yContinuous?r.createElement(mi,{padAbove:!0},r.createElement(Bo,{display:!0,on:this.props.scatterVariables.showRegression,callback:function(){return e.props.dispatch(ei({showRegression:!e.props.scatterVariables.showRegression}))},label:"Show regression"})):null}},{key:"render",value:function(){var e=this,t=this.props.t;if(this.props.showTreeToo)return null;var n=this.props.layout;return r.createElement("div",{style:{marginBottom:15}},r.createElement(yo.om,null,t("sidebar:Layout")),r.createElement(hi,null,r.createElement(ci,{width:25,selected:"rect"===n}),r.createElement(yo.fP,{selected:"rect"===n,onClick:function(){return e.props.dispatch(ei({layout:"rect"}))}},t("sidebar:rectangular"))),r.createElement(hi,null,r.createElement(ui,{width:25,selected:"radial"===n}),r.createElement(yo.fP,{selected:"radial"===n,onClick:function(){return e.props.dispatch(ei({layout:"radial"}))}},t("sidebar:radial"))),r.createElement(hi,null,r.createElement(pi,{width:25,selected:"unrooted"===n}),r.createElement(yo.fP,{selected:"unrooted"===n,onClick:function(){return e.props.dispatch(ei({layout:"unrooted"}))}},t("sidebar:unrooted"))),"divAndDate"===this.props.branchLengthsToDisplay?r.createElement(hi,null,r.createElement(fi,{width:25,selected:"clock"===n}),r.createElement(yo.fP,{selected:"clock"===n,onClick:function(){return e.props.dispatch(ei({layout:"clock"}))}},t("sidebar:clock")),"clock"===n&&this.renderBranchToggle(),"clock"===n&&this.renderRegressionToggle()):null,r.createElement(hi,null,r.createElement(di,{width:25,selected:"scatter"===n}),r.createElement(yo.fP,{selected:"scatter"===n,onClick:function(){return e.props.dispatch(ei({layout:"scatter"}))}},t("sidebar:scatter")),"scatter"===n&&this.renderScatterplotAxesSelector(),"scatter"===n&&this.renderBranchToggle(),"scatter"===n&&this.renderRegressionToggle()))}}])&&ri(t.prototype,n),l}(r.Component),ai=Ko,li="propTypes",si={layout:i().string.isRequired,dispatch:i().func.isRequired},li in ai?Object.defineProperty(ai,li,{value:si,enumerable:!0,configurable:!0,writable:!0}):ai[li]=si,Jo=Ko))||Jo;const bi=(0,f.Z)()(vi);function wi(e){return wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wi(e)}function Mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Si(e,t){return Si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Si(e,t)}function ji(e){return ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ji(e)}const xi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Si(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ji(o);if(i){var n=ji(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===wi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"changeDataset",value:function(e){(0,Gt.fs)("change-virus-to-".concat(e.replace(/\//g,""))),window.NEXTSTRAIN&&window.NEXTSTRAIN.animationTickReference&&(clearInterval(window.NEXTSTRAIN.animationTickReference),window.NEXTSTRAIN.animationTickReference=null,this.props.dispatch({type:It.if,data:"Play"})),this.props.dispatch((0,ir.oO)({path:e}))}},{key:"render",value:function(){var e=this,t=this.props.options||[];return r.createElement("div",{style:{width:F.HB,fontSize:14}},r.createElement(Sr.Z,{value:t.filter((function(t){return t.value===e.props.selected})),options:t,isClearable:!1,isSearchable:!1,isMulti:!1,onChange:function(t){t.value!==e.props.selected&&e.changeDataset("/".concat(t.value))}}))}}])&&Mi(t.prototype,n),l}(r.Component);var Li,Ci=function(e){var t=e.title,n=e.tooltip,o=void 0===n?void 0:n,i=(0,a.v9)((function(e){return e.general.mobileDisplay}));return r.createElement(yo.TO,null,r.createElement(yo.Gh,null,t),o&&!i&&r.createElement(r.Fragment,null,r.createElement(yo.Zw,{"data-tip":!0,"data-for":t,onClick:function(e){return e.stopPropagation()}},r.createElement(s.DAO,null)),r.createElement(yo.mi,{place:"bottom",type:"dark",effect:"solid",id:t},o)))},Ti=function(e){var t=e.title,n=e.tooltip,o=void 0===n?void 0:n;return r.createElement(yo.gM,null,r.createElement(Ci,{title:t,tooltip:o}))};function Ei(e){return Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ei(e)}function Oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _i(e,t){return _i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_i(e,t)}function Di(e){return Di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Di(e)}var Ii=(0,a.$j)((function(e){return{available:e.controls.available}}))(Li=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_i(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Di(o);if(i){var n=Di(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ei(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return t=l,n=[{key:"render",value:function(){var e=this,t=this.props.t;if(!this.props.available||!this.props.available.datasets||!this.props.available.datasets.length)return null;var n=window.location.pathname.replace(/^\//,"").replace(/\/$/,"").split(":")[0].split("/"),o=n.map((function(t,r){return Array.from(new Set(e.props.available.datasets.filter((function(e){return t=e.request.split("/"),o=n,i=r,t.slice(0,i).every((function(e,t){return e===o[t]}));var t,o,i})).map((function(e){return e.request.split("/")[r]})))).map((function(e){return{value:n.slice(0,r).concat(e).join("/"),label:e}}))}));return r.createElement(r.Fragment,null,r.createElement(Ti,{title:t("sidebar:Dataset")}),o.map((function(t,o){return r.createElement(xi,{key:n[o],dispatch:e.props.dispatch,selected:n.slice(0,o+1).join("/"),options:t})})))}}],n&&Oi(t.prototype,n),l}(r.Component))||Li;const zi=(0,f.Z)()(Ii);var Ai,ki=n(56410);function Ni(e){return Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ni(e)}function Pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ri(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bi(e,t){return Bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bi(e,t)}function Fi(e){return Fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fi(e)}var Zi=(0,a.$j)((function(e){return{available:e.controls.available,treeName:e.tree.name,showTreeToo:e.controls.showTreeToo}}))(Ai=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bi(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fi(o);if(i){var n=Fi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ni(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this,t=this.props.t;if(!this.props.available||!this.props.available.datasets)return null;var n,o=window.location.pathname.replace(/^\//,"").replace(/\/$/,"").split(":")[0],i=function(e){if(Array.isArray(e))return Pi(e)}(n=new Set(this.props.available.datasets.filter((function(e){return e.request===o})).flatMap((function(e){return e.secondTreeOptions})).filter((function(e){return!!e}))))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return Pi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pi(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();if(!i.length)return null;this.props.showTreeToo&&i.unshift("REMOVE");var a=i.map((function(e){return{value:e,label:e}}));return r.createElement("div",null,r.createElement(yo.om,{spaceAbove:!0},t("sidebar:Second Tree")),r.createElement("div",{key:"treetooselect",style:{width:F.HB,fontSize:14}},r.createElement(Sr.Z,{name:"selectTreeToo",id:"selectTreeToo",value:a.filter((function(t){return t.value===e.props.showTreeToo})),options:a,isClearable:!1,isSearchable:!1,isMulti:!1,onChange:function(t){"REMOVE"===t.value?e.props.dispatch({type:It.YU}):e.props.dispatch((0,ki.w2)(t.value,o))}})))}}])&&Ri(t.prototype,n),l}(r.Component))||Ai;const Hi=(0,f.Z)()(Zi);var Wi,Yi=n(43539);function Ui(e){return Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ui(e)}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vi(e,t){return Vi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vi(e,t)}function Qi(e){return Qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qi(e)}var qi=(0,a.$j)((function(e){return{distanceMeasure:e.controls.distanceMeasure,layout:e.controls.layout,showTreeToo:e.controls.showTreeToo,branchLengthsToDisplay:e.controls.branchLengthsToDisplay,temporalConfidence:e.controls.temporalConfidence}}))(Wi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vi(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qi(o);if(i){var n=Qi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ui(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this,t=this.props.t;return"divAndDate"!==this.props.branchLengthsToDisplay||"scatter"===this.props.layout||"clock"===this.props.layout?null:r.createElement("div",{style:{marginBottom:0}},r.createElement(yo.om,null,t("sidebar:Branch Length")),r.createElement(yo.fP,{selected:"num_date"===this.props.distanceMeasure,onClick:function(){(0,Gt.fs)("tree-metric-temporal"),e.props.dispatch({type:It.T3,data:"num_date"})}},t("sidebar:time")),r.createElement("span",{style:{paddingRight:"12px"}}),r.createElement(yo.fP,{selected:"div"===this.props.distanceMeasure,onClick:function(){(0,Gt.fs)("tree-metric-temporal"),e.props.dispatch({type:It.T3,data:"div"})}},t("sidebar:divergence")),this.props.showTreeToo?null:r.createElement("div",{style:{marginBottom:5}},r.createElement(Bo,{display:this.props.temporalConfidence.display,on:this.props.temporalConfidence.on,callback:function(){return e.props.dispatch((0,R.DP)())},label:t("sidebar:Show confidence intervals")})))}}])&&Gi(t.prototype,n),l}(r.Component))||Wi;const Xi=(0,f.Z)()(qi);function $i(e){return $i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$i(e)}var Ji;function Ki(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ea(e,t){return ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ea(e,t)}function ta(e){return ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ta(e)}var na=l.ZP.span.withConfig({displayName:"panel-layout__ButtonText",componentId:"sc-12zrah-0"})(["margin:5px;position:relative;left:4px;top:-6px;"]),ra=(0,l.Zz)(Vo._Q),oa=(0,l.Zz)(Vo.bz),ia=(0,a.$j)((function(e){return{panelLayout:e.controls.panelLayout}}))(Ji=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ea(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ta(o);if(i){var n=ta(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===$i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this,t=this.props.t;return r.createElement("div",{style:{marginTop:0,marginBottom:10}},r.createElement(yo.fP,{selected:"full"===this.props.panelLayout,onClick:function(){(0,Gt.fs)("change-layout-full"),e.props.dispatch({type:It.Lv,data:"full"})}},r.createElement(ra,{width:22,selected:"full"===this.props.panelLayout}),r.createElement(na,null,t("sidebar:full"))),r.createElement(yo.fP,{selected:"grid"===this.props.panelLayout,onClick:function(){(0,Gt.fs)("change-layout-grid"),e.props.dispatch({type:It.Lv,data:"grid"})}},r.createElement(oa,{width:22,selected:"grid"===this.props.panelLayout}),r.createElement(na,null,t("sidebar:grid"))))}}])&&Ki(t.prototype,n),l}(r.Component))||Ji;const aa=(0,f.Z)()(ia);function la(e){return la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la(e)}var sa;function ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ua(e,t){return ua=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ua(e,t)}function pa(e){return pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pa(e)}var fa=(0,a.$j)((function(e){return{metadata:e.metadata,geoResolution:e.controls.geoResolution}}))(sa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ua(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pa(o);if(i){var n=pa(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===la(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"getGeoResolutionOptions",value:function(){return this.props.metadata.loaded?this.props.metadata.geoResolutions.map((function(e){return{value:e.key,label:e.title||e.key}})):[]}},{key:"changeGeoResolution",value:function(e){(0,Gt.fs)("change-geo-resolution"),this.props.dispatch({type:It.R7,data:e})}},{key:"render",value:function(){var e=this,t=this.props.t,n=this.getGeoResolutionOptions();return r.createElement(r.Fragment,null,r.createElement(yo.om,{spaceAbove:!0},t("sidebar:Geographic resolution")),r.createElement("div",{style:{marginBottom:10,width:F.HB,fontSize:14}},r.createElement(Sr.Z,{name:"selectGeoResolution",id:"selectGeoResolution",value:n.filter((function(t){return t.value===e.props.geoResolution})),options:n,isClearable:!1,isSearchable:!1,isMulti:!1,onChange:function(t){e.changeGeoResolution(t.value)}})))}}])&&ca(t.prototype,n),l}(r.Component))||sa;const da=(0,f.Z)()(fa);function ha(e){return ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ha(e)}var ma;function ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ga(e,t){return ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ga(e,t)}function va(e){return va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},va(e)}var ba=(0,a.$j)((function(e){return{showTransmissionLines:e.controls.showTransmissionLines}}))(ma=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ga(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=va(o);if(i){var n=va(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ha(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this,t=this.props.t;return r.createElement("div",{style:{marginBottom:10,width:F.HB,fontSize:14}},r.createElement(Bo,{display:!0,on:this.props.showTransmissionLines,callback:function(){e.props.dispatch({type:It.Jv,data:!e.props.showTransmissionLines})},label:t("sidebar:Show transmission lines")}))}}])&&ya(t.prototype,n),l}(r.Component))||ma;const wa=(0,f.Z)()(ba);var Ma,Sa=n(59995);function ja(e){return ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(e)}function xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function La(e,t){return La=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},La(e,t)}function Ca(e){return Ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ca(e)}var Ta=(0,a.$j)((function(e){return{controls:e.controls,frequencies:e.frequencies,tree:e.tree}}))(Ma=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&La(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ca(o);if(i){var n=Ca(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ja(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this,t=this.props.t;return this.props.frequencies.loaded&&this.props.tree.loaded&&(0,Sa.bv)(this.props.frequencies.data,this.props.frequencies.pivots,this.props.tree.nodes,this.props.tree.visibility)?r.createElement("div",{style:{marginBottom:10,width:F.HB,fontSize:14}},r.createElement(Bo,{display:!0,on:this.props.controls.normalizeFrequencies,callback:function(){var t=!e.props.controls.normalizeFrequencies,n=(0,Sa.N0)(e.props.frequencies.data,e.props.frequencies.pivots,e.props.tree.nodes,e.props.tree.visibility,e.props.controls.colorScale,e.props.controls.colorBy,t);e.props.dispatch({type:It.yZ,matrix:n,normalizeFrequencies:t})},label:t("sidebar:Normalize frequencies")})):r.createElement(yo.om,null,"(Frequencies cannot be normalized)")}}])&&xa(t.prototype,n),l}(r.Component))||Ma;const Ea=(0,f.Z)()(Ta);function Oa(e){return Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(e)}var _a;function Da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ia(e,t){return Ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ia(e,t)}function za(e){return za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},za(e)}var Aa=(0,a.$j)((function(e){return{branchLengthsToDisplay:e.controls.branchLengthsToDisplay,mapAnimationStartDate:e.controls.mapAnimationStartDate,mapAnimationDurationInMilliseconds:e.controls.mapAnimationDurationInMilliseconds,mapAnimationCumulative:e.controls.mapAnimationCumulative,mapAnimationShouldLoop:e.controls.mapAnimationShouldLoop}}))(_a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ia(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=za(o);if(i){var n=za(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Oa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"handleChangeAnimationTimeClicked",value:function(e){var t=this;return function(){var n;window.NEXTSTRAIN&&window.NEXTSTRAIN.animationTickReference||((0,Gt.fs)("change-animation-time"),"slow"===e?n=6e4:"medium"===e?n=3e4:"fast"===e?n=15e3:console.warn("Odd... controls/map-animation.js tried to set an animation speed we don't offer..."),t.props.dispatch({type:It.Dg,data:n}))}}},{key:"render",value:function(){var e=this,t=this.props.t;return"divOnly"===this.props.branchLengthsToDisplay?null:r.createElement("div",{id:"mapAnimationControls"},r.createElement(yo.om,{spaceAbove:!0},t("sidebar:Animation Speed")),r.createElement(yo.fP,{selected:6e4===this.props.mapAnimationDurationInMilliseconds,onClick:this.handleChangeAnimationTimeClicked("slow")},t("sidebar:Slow")),r.createElement(yo.fP,{selected:3e4===this.props.mapAnimationDurationInMilliseconds,onClick:this.handleChangeAnimationTimeClicked("medium")},t("sidebar:Medium")),r.createElement(yo.fP,{selected:15e3===this.props.mapAnimationDurationInMilliseconds,onClick:this.handleChangeAnimationTimeClicked("fast")},t("sidebar:Fast")),r.createElement("div",{style:{marginBottom:5}}),r.createElement(Bo,{display:!0,on:this.props.mapAnimationShouldLoop,callback:function(){e.props.dispatch({type:It.nm,data:!e.props.mapAnimationShouldLoop})},label:t("sidebar:Loop animation")}),r.createElement("br",null),r.createElement(Bo,{display:!0,on:this.props.mapAnimationCumulative,callback:function(){(0,Gt.fs)("change-animation-cumulative"),e.props.dispatch({type:It.zp,data:!e.props.mapAnimationCumulative})},label:t("sidebar:Animate cumulative history")}))}}])&&Da(t.prototype,n),l}(r.Component))||_a;const ka=(0,f.Z)()(Aa);var Na=n(36584),Pa=l.ZP.span.withConfig({displayName:"panelChevron__Container",componentId:"sc-e8i5tk-0"})(["padding-right:6px;color:",";"],(function(e){return e.theme.color})),Ra=function(e){var t=e.show?r.createElement(s.RiI,null):r.createElement(s.Dli,null);return r.createElement(Pa,null,t)},Ba=function(e){var t=e.panel,n=e.title,o=e.tooltip,i=e.panelIsVisible,a=e.hasOptions,l=e.optionsAreVisible,s=e.setOptionsAreVisible,c=(0,Na.T)();return r.createElement(yo.gM,a?{onClick:function(){s(!l)},style:{cursor:"pointer"}}:{},r.createElement("span",null,a&&r.createElement(Ra,{show:l}),r.createElement(Ci,{title:n,tooltip:o})),r.createElement("span",{onClick:function(e){return e.stopPropagation()}},r.createElement(Bo,{display:!0,on:i,callback:function(){c((0,pn._$)(t))},label:""})))};function Fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Za=function(e){var t,n,o=e.panel,i=e.title,l=e.tooltip,s=e.options,c=void 0===s?void 0:s,u=(0,a.v9)((function(e){return e.controls.panelsToDisplay})).includes(o),p=(t=r.useState(u),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Fa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fa(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=p[0],d=p[1];return r.useEffect((function(){d(u)}),[u]),r.createElement(yo.c8,null,r.createElement(Ba,{panel:o,title:i,tooltip:l,panelIsVisible:u,hasOptions:void 0!==c,optionsAreVisible:f,setOptionsAreVisible:d}),f&&c)};const Ha=(0,a.$j)((function(e){return{focus:e.controls.focus,layout:e.controls.layout,mobileDisplay:e.general.mobileDisplay}}))((function(e){var t=e.tooltip,n=e.focus,o=e.layout,i=e.dispatch,a=e.mobileDisplay;if(!new Set(["rect","radial"]).has(o))return r.createElement(r.Fragment,null);var l=r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement("span",{style:{marginRight:"5px"}},"Focus on Selected"),t&&!a&&r.createElement(r.Fragment,null,r.createElement(yo.vb,{style:{display:"inline-flex"},"data-tip":!0,"data-for":"toggle-focus"},r.createElement(s.DAO,null)),r.createElement(yo.mi,{place:"bottom",type:"dark",effect:"solid",id:"toggle-focus"},t)));return r.createElement(Bo,{display:!0,isExperimental:!0,on:n,callback:function(){return i({type:It.Ab})},label:l,style:{paddingBottom:"10px"}})}));function Wa(e){return Wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wa(e)}var Ya;function Ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ga(e,t){return Ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ga(e,t)}function Va(e){return Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Va(e)}const Qa=(0,a.$j)((function(e){return{showTreeToo:e.controls.showTreeToo,showTangle:e.controls.showTangle}}))(Ya=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ga(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Va(o);if(i){var n=Va(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Wa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this;return this.props.showTreeToo?r.createElement(Bo,{display:!0,on:this.props.showTangle,callback:function(){return e.props.dispatch({type:It.Rj})},label:"Show Tanglegram",style:{paddingTop:"10px"}}):null}}])&&Ua(t.prototype,n),l}(r.Component))||Ya;var qa,Xa=n(75805);function $a(e){return $a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(e)}function Ja(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function Ka(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ja(i,r,o,a,l,"next",e)}function l(e){Ja(i,r,o,a,l,"throw",e)}a(void 0)}))}}function el(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tl(e,t){return tl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tl(e,t)}function nl(e){return nl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nl(e)}var rl=(0,a.$j)((function(e){return{metadata:e.metadata,language:e.general.language}}))(qa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tl(e,t)}(p,e);var t,o,i,a,l,s,c,u=(s=p,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=nl(s);if(c){var n=nl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===$a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),u.apply(this,arguments)}return t=p,o=[{key:"ensureLanguageResources",value:(l=Ka(regeneratorRuntime.mark((function e(t){var r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0,o=["language","sidebar","translation"];case 1:if(!(r<o.length)){e.next=17;break}if(i=o[r],Xa.Z.hasResourceBundle(t,i)){e.next=14;break}return e.prev=4,e.next=7,n(9482)("./".concat(t,"/").concat(i,".json"));case 7:a=e.sent,Xa.Z.addResourceBundle(t,i,a.default),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Language ".concat(t," not found!"));case 14:r++,e.next=1;break;case 17:case"end":return e.stop()}}),e,null,[[4,11]])}))),function(e){return l.apply(this,arguments)})},{key:"UNSAFE_componentWillMount",value:(a=Ka(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.language&&"en"!==this.props.language){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.ensureLanguageResources(this.props.language);case 4:Xa.Z.changeLanguage(this.props.language);case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getlanguageOptions",value:function(){return[{value:"de",label:"Deutsch"},{value:"en",label:"English"},{value:"es",label:"Español"},{value:"ru",label:"Русский"},{value:"lt",label:"Lietuvių"},{value:"pt",label:"Português"},{value:"fr",label:"Français"},{value:"tr",label:"Türkçe"},{value:"ja",label:"日本語"},{value:"ar",label:"العربية"},{value:"it",label:"Italiano"},{value:"pl",label:"Polski"}]}},{key:"changeLanguage",value:(i=Ka(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t!==this.props.language){e.next=2;break}return e.abrupt("return");case 2:return(0,Gt.fs)("change-language"),e.next=5,this.ensureLanguageResources(t);case 5:Xa.Z.changeLanguage(t),this.props.dispatch({type:It.s3,data:t});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.getlanguageOptions();return r.createElement("div",{style:{paddingBottom:100,width:F.HB,fontSize:14}},r.createElement(Sr.Z,{name:"selectLanguage",id:"selectLanguage",value:t.filter((function(t){return t.value===e.props.language})),options:t,isClearable:!1,isSearchable:!1,isMulti:!1,onChange:function(t){e.changeLanguage(t.value)}}))}}],o&&el(t.prototype,o),p}(r.Component))||qa;const ol=rl;var il=n(75064),al=n(65260),ll=n(6223),sl=n(79427),cl=n(58783),ul=n(63382),pl=n(88569),fl=n(1335),dl=n(57024);function hl(e){return hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(e)}function ml(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"===hl(e))if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=ml(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function yl(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=ml(e))&&(r&&(r+=" "),r+=t);return r}function gl(e){var t=e.cellCount,n=e.cellSize,r=e.computeMetadataCallback,o=e.computeMetadataCallbackProps,i=e.nextCellsCount,a=e.nextCellSize,l=e.nextScrollToIndex,s=e.scrollToIndex,c=e.updateScrollOffsetForScrollToIndex;t===i&&("number"!=typeof n&&"number"!=typeof a||n===a)||(r(o),s>=0&&s===l&&c())}var vl=n(91032),bl=function(){function e(t){var n=t.cellCount,r=t.cellSizeGetter,o=t.estimatedCellSize;(0,ll.Z)(this,e),(0,dl.Z)(this,"_cellSizeAndPositionData",{}),(0,dl.Z)(this,"_lastMeasuredIndex",-1),(0,dl.Z)(this,"_lastBatchedIndex",-1),(0,dl.Z)(this,"_cellCount",void 0),(0,dl.Z)(this,"_cellSizeGetter",void 0),(0,dl.Z)(this,"_estimatedCellSize",void 0),this._cellSizeGetter=r,this._cellCount=n,this._estimatedCellSize=o}return(0,sl.Z)(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,n=e.estimatedCellSize,r=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=n,this._cellSizeGetter=r}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index ".concat(e," is outside of range 0..").concat(this._cellCount));if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),n=t.offset+t.size,r=this._lastMeasuredIndex+1;r<=e;r++){var o=this._cellSizeGetter({index:r});if(void 0===o||isNaN(o))throw Error("Invalid size returned for cell ".concat(r," of value ").concat(o));null===o?(this._cellSizeAndPositionData[r]={offset:n,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[r]={offset:n,size:o},n+=o,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;if(r<=0)return 0;var a,l=this.getSizeAndPositionOfCell(i),s=l.offset,c=s-r+l.size;switch(n){case"start":a=s;break;case"end":a=c;break;case"center":a=s-(r-l.size)/2;break;default:a=Math.max(c,Math.min(s,o))}var u=this.getTotalSize();return Math.max(0,Math.min(u-r,a))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;if(0===this.getTotalSize())return{};var r=n+t,o=this._findNearestCell(n),i=this.getSizeAndPositionOfCell(o);n=i.offset+i.size;for(var a=o;n<r&&a<this._cellCount-1;)a++,n+=this.getSizeAndPositionOfCell(a).size;return{start:o,stop:a}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,n){for(;t<=e;){var r=t+Math.floor((e-t)/2),o=this.getSizeAndPositionOfCell(r).offset;if(o===n)return r;o<n?t=r+1:o>n&&(e=r-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var n=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=n,n*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset ".concat(e," specified"));e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(n,0,e):this._exponentialSearch(n,e)}}]),e}(),wl=function(){function e(t){var n=t.maxScrollSize,r=void 0===n?"undefined"!=typeof window&&window.chrome?16777100:15e5:n,o=(0,vl.Z)(t,["maxScrollSize"]);(0,ll.Z)(this,e),(0,dl.Z)(this,"_cellSizeAndPositionManager",void 0),(0,dl.Z)(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new bl(o),this._maxScrollSize=r}return(0,sl.Z)(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(i*(o-r))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;o=this._safeOffsetToOffset({containerSize:r,offset:o});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:r,currentOffset:o,targetIndex:i});return this._offsetToSafeOffset({containerSize:r,offset:a})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;return n=this._safeOffsetToOffset({containerSize:t,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:n})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,n=e.offset,r=e.totalSize;return r<=t?0:n/(r-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(i*(o-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(i*(r-t))}}]),e}();function Ml(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(n){var r=n.callback,o=n.indices,i=Object.keys(o),a=!e||i.every((function(e){var t=o[e];return Array.isArray(t)?t.length>0:t>=0})),l=i.length!==Object.keys(t).length||i.some((function(e){var n=t[e],r=o[e];return Array.isArray(r)?n.join(",")!==r.join(","):n!==r}));t=o,a&&l&&r(o)}}function Sl(e){var t=e.cellSize,n=e.cellSizeAndPositionManager,r=e.previousCellsCount,o=e.previousCellSize,i=e.previousScrollToAlignment,a=e.previousScrollToIndex,l=e.previousSize,s=e.scrollOffset,c=e.scrollToAlignment,u=e.scrollToIndex,p=e.size,f=e.sizeJustIncreasedFromZero,d=e.updateScrollIndexCallback,h=n.getCellCount(),m=u>=0&&u<h;m&&(p!==l||f||!o||"number"==typeof t&&t!==o||c!==i||u!==a)?d(u):!m&&h>0&&(p<l||h<r)&&s>n.getTotalSize()-p&&d(h-1)}const jl=!("undefined"==typeof window||!window.document||!window.document.createElement);var xl,Ll;function Cl(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function Tl(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function El(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Cl.__suppressDeprecationWarning=!0,Tl.__suppressDeprecationWarning=!0,El.__suppressDeprecationWarning=!0;var Ol,_l,Dl=(Ll="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||Ll.webkitRequestAnimationFrame||Ll.mozRequestAnimationFrame||Ll.oRequestAnimationFrame||Ll.msRequestAnimationFrame||function(e){return Ll.setTimeout(e,1e3/60)},Il=Ll.cancelAnimationFrame||Ll.webkitCancelAnimationFrame||Ll.mozCancelAnimationFrame||Ll.oCancelAnimationFrame||Ll.msCancelAnimationFrame||function(e){Ll.clearTimeout(e)},zl=Dl,Al=Il,kl=function(e){return Al(e.id)};function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nl(n,!0).forEach((function(t){(0,dl.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rl="requested",Bl=(_l=Ol=function(e){function t(e){var n;(0,ll.Z)(this,t),n=(0,cl.Z)(this,(0,ul.Z)(t).call(this,e)),(0,dl.Z)((0,pl.Z)(n),"_onGridRenderedMemoizer",Ml()),(0,dl.Z)((0,pl.Z)(n),"_onScrollMemoizer",Ml(!1)),(0,dl.Z)((0,pl.Z)(n),"_deferredInvalidateColumnIndex",null),(0,dl.Z)((0,pl.Z)(n),"_deferredInvalidateRowIndex",null),(0,dl.Z)((0,pl.Z)(n),"_recomputeScrollLeftFlag",!1),(0,dl.Z)((0,pl.Z)(n),"_recomputeScrollTopFlag",!1),(0,dl.Z)((0,pl.Z)(n),"_horizontalScrollBarSize",0),(0,dl.Z)((0,pl.Z)(n),"_verticalScrollBarSize",0),(0,dl.Z)((0,pl.Z)(n),"_scrollbarPresenceChanged",!1),(0,dl.Z)((0,pl.Z)(n),"_scrollingContainer",void 0),(0,dl.Z)((0,pl.Z)(n),"_childrenToDisplay",void 0),(0,dl.Z)((0,pl.Z)(n),"_columnStartIndex",void 0),(0,dl.Z)((0,pl.Z)(n),"_columnStopIndex",void 0),(0,dl.Z)((0,pl.Z)(n),"_rowStartIndex",void 0),(0,dl.Z)((0,pl.Z)(n),"_rowStopIndex",void 0),(0,dl.Z)((0,pl.Z)(n),"_renderedColumnStartIndex",0),(0,dl.Z)((0,pl.Z)(n),"_renderedColumnStopIndex",0),(0,dl.Z)((0,pl.Z)(n),"_renderedRowStartIndex",0),(0,dl.Z)((0,pl.Z)(n),"_renderedRowStopIndex",0),(0,dl.Z)((0,pl.Z)(n),"_initialScrollTop",void 0),(0,dl.Z)((0,pl.Z)(n),"_initialScrollLeft",void 0),(0,dl.Z)((0,pl.Z)(n),"_disablePointerEventsTimeoutId",void 0),(0,dl.Z)((0,pl.Z)(n),"_styleCache",{}),(0,dl.Z)((0,pl.Z)(n),"_cellCache",{}),(0,dl.Z)((0,pl.Z)(n),"_debounceScrollEndedCallback",(function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})})),(0,dl.Z)((0,pl.Z)(n),"_invokeOnGridRenderedHelper",(function(){var e=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})})),(0,dl.Z)((0,pl.Z)(n),"_setScrollingContainerRef",(function(e){n._scrollingContainer=e})),(0,dl.Z)((0,pl.Z)(n),"_onScroll",(function(e){e.target===n._scrollingContainer&&n.handleScrollEvent(e.target)}));var r=new wl({cellCount:e.columnCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.columnWidth)(n)},estimatedCellSize:t._getEstimatedColumnSize(e)}),o=new wl({cellCount:e.rowCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.rowHeight)(n)},estimatedCellSize:t._getEstimatedRowSize(e)});return n.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:o,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:1,scrollDirectionVertical:1,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(e,n.state)),e.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(e,n.state)),n}return(0,fl.Z)(t,e),(0,sl.Z)(t,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,n=void 0===t?this.props.scrollToAlignment:t,r=e.columnIndex,o=void 0===r?this.props.scrollToColumn:r,i=e.rowIndex,a=void 0===i?this.props.scrollToRow:i,l=Pl({},this.props,{scrollToAlignment:n,scrollToColumn:o,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(l),scrollTop:this._getCalculatedScrollTop(l)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,o=void 0===r?0:r;if(!(o<0)){this._debounceScrollEnded();var i=this.props,a=i.autoHeight,l=i.autoWidth,s=i.height,c=i.width,u=this.state.instanceProps,p=u.scrollbarSize,f=u.rowSizeAndPositionManager.getTotalSize(),d=u.columnSizeAndPositionManager.getTotalSize(),h=Math.min(Math.max(0,d-c+p),n),m=Math.min(Math.max(0,f-s+p),o);if(this.state.scrollLeft!==h||this.state.scrollTop!==m){var y={isScrolling:!0,scrollDirectionHorizontal:h!==this.state.scrollLeft?h>this.state.scrollLeft?1:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?1:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:"observed"};a||(y.scrollTop=m),l||(y.scrollLeft=h),y.needToResetStyleCache=!1,this.setState(y)}this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:m,totalColumnsWidth:d,totalRowsHeight:f})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,n=e.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r,i=this.props,a=i.scrollToColumn,l=i.scrollToRow,s=this.state.instanceProps;s.columnSizeAndPositionManager.resetCell(n),s.rowSizeAndPositionManager.resetCell(o),this._recomputeScrollLeftFlag=a>=0&&(1===this.state.scrollDirectionHorizontal?n<=a:n>=a),this._recomputeScrollTopFlag=l>=0&&(1===this.state.scrollDirectionVertical?o<=l:o>=l),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,n=e.rowIndex,r=this.props.columnCount,o=this.props;r>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn(Pl({},o,{scrollToColumn:t})),void 0!==n&&this._updateScrollTopForScrollToRow(Pl({},o,{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var e=this.props,n=e.getScrollbarSize,r=e.height,o=e.scrollLeft,i=e.scrollToColumn,a=e.scrollTop,l=e.scrollToRow,s=e.width,c=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),c.scrollbarSizeMeasured||this.setState((function(e){var t=Pl({},e,{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=n(),t.instanceProps.scrollbarSizeMeasured=!0,t})),"number"==typeof o&&o>=0||"number"==typeof a&&a>=0){var u=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:a});u&&(u.needToResetStyleCache=!1,this.setState(u))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var p=r>0&&s>0;i>=0&&p&&this._updateScrollLeftForScrollToColumn(),l>=0&&p&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:a||0,totalColumnsWidth:c.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:c.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,o=r.autoHeight,i=r.autoWidth,a=r.columnCount,l=r.height,s=r.rowCount,c=r.scrollToAlignment,u=r.scrollToColumn,p=r.scrollToRow,f=r.width,d=this.state,h=d.scrollLeft,m=d.scrollPositionChangeReason,y=d.scrollTop,g=d.instanceProps;this._handleInvalidatedGridSize();var v=a>0&&0===e.columnCount||s>0&&0===e.rowCount;m===Rl&&(!i&&h>=0&&(h!==this._scrollingContainer.scrollLeft||v)&&(this._scrollingContainer.scrollLeft=h),!o&&y>=0&&(y!==this._scrollingContainer.scrollTop||v)&&(this._scrollingContainer.scrollTop=y));var b=(0===e.width||0===e.height)&&l>0&&f>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):Sl({cellSizeAndPositionManager:g.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:h,scrollToAlignment:c,scrollToIndex:u,size:f,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):Sl({cellSizeAndPositionManager:g.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:y,scrollToAlignment:c,scrollToIndex:p,size:l,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),h!==t.scrollLeft||y!==t.scrollTop){var w=g.rowSizeAndPositionManager.getTotalSize(),M=g.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:y,totalColumnsWidth:M,totalRowsHeight:w})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&kl(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,n=e.autoHeight,o=e.autoWidth,i=e.className,a=e.containerProps,l=e.containerRole,s=e.containerStyle,c=e.height,u=e.id,p=e.noContentRenderer,f=e.role,d=e.style,h=e.tabIndex,m=e.width,y=this.state,g=y.instanceProps,v=y.needToResetStyleCache,b=this._isScrolling(),w={boxSizing:"border-box",direction:"ltr",height:n?"auto":c,position:"relative",width:o?"auto":m,WebkitOverflowScrolling:"touch",willChange:"transform"};v&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var M=g.columnSizeAndPositionManager.getTotalSize(),S=g.rowSizeAndPositionManager.getTotalSize(),j=S>c?g.scrollbarSize:0,x=M>m?g.scrollbarSize:0;x===this._horizontalScrollBarSize&&j===this._verticalScrollBarSize||(this._horizontalScrollBarSize=x,this._verticalScrollBarSize=j,this._scrollbarPresenceChanged=!0),w.overflowX=M+j<=m?"hidden":"auto",w.overflowY=S+x<=c?"hidden":"auto";var L=this._childrenToDisplay,C=0===L.length&&c>0&&m>0;return r.createElement("div",(0,al.Z)({ref:this._setScrollingContainerRef},a,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:yl("ReactVirtualized__Grid",i),id:u,onScroll:this._onScroll,role:f,style:Pl({},w,{},d),tabIndex:h}),L.length>0&&r.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:l,style:Pl({width:t?"auto":M,height:S,maxWidth:M,maxHeight:S,overflow:"hidden",pointerEvents:b?"none":"",position:"relative"},s)},L),C&&p())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=e.cellRenderer,r=e.cellRangeRenderer,o=e.columnCount,i=e.deferredMeasurementCache,a=e.height,l=e.overscanColumnCount,s=e.overscanIndicesGetter,c=e.overscanRowCount,u=e.rowCount,p=e.width,f=e.isScrollingOptOut,d=t.scrollDirectionHorizontal,h=t.scrollDirectionVertical,m=t.instanceProps,y=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,g=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,v=this._isScrolling(e,t);if(this._childrenToDisplay=[],a>0&&p>0){var b=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:p,offset:g}),w=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:y}),M=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:p,offset:g}),S=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:y});this._renderedColumnStartIndex=b.start,this._renderedColumnStopIndex=b.stop,this._renderedRowStartIndex=w.start,this._renderedRowStopIndex=w.stop;var j=s({direction:"horizontal",cellCount:o,overscanCellsCount:l,scrollDirection:d,startIndex:"number"==typeof b.start?b.start:0,stopIndex:"number"==typeof b.stop?b.stop:-1}),x=s({direction:"vertical",cellCount:u,overscanCellsCount:c,scrollDirection:h,startIndex:"number"==typeof w.start?w.start:0,stopIndex:"number"==typeof w.stop?w.stop:-1}),L=j.overscanStartIndex,C=j.overscanStopIndex,T=x.overscanStartIndex,E=x.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var O=T;O<=E;O++)if(!i.has(O,0)){L=0,C=o-1;break}if(!i.hasFixedWidth())for(var _=L;_<=C;_++)if(!i.has(0,_)){T=0,E=u-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:L,columnStopIndex:C,deferredMeasurementCache:i,horizontalOffsetAdjustment:M,isScrolling:v,isScrollingOptOut:f,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:T,rowStopIndex:E,scrollLeft:g,scrollTop:y,styleCache:this._styleCache,verticalOffsetAdjustment:S,visibleColumnIndices:b,visibleRowIndices:w}),this._columnStartIndex=L,this._columnStopIndex=C,this._rowStartIndex=T,this._rowStopIndex=E}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&kl(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=function(e,t){var n;Promise.resolve().then((function(){n=Date.now()}));var r={id:zl((function o(){Date.now()-n>=t?e.call():r.id=zl(o)}))};return r}(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,o=e.totalColumnsWidth,i=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=e.scrollTop,a=t.props,l=a.height;(0,a.onScroll)({clientHeight:l,clientWidth:a.width,scrollHeight:i,scrollLeft:n,scrollTop:r,scrollWidth:o})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var n=e.scrollLeft,r=e.scrollTop,o=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:r});o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollLeftForScrollToColumnStateUpdate(e,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,n)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var r=this._rowStartIndex;r<=this._rowStopIndex;r++)for(var o=this._columnStartIndex;o<=this._columnStopIndex;o++){var i="".concat(r,"-").concat(o);this._styleCache[i]=e[i],n&&(this._cellCache[i]=t[i])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollTopForScrollToRowStateUpdate(e,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var r={};0===e.columnCount&&0!==n.scrollLeft||0===e.rowCount&&0!==n.scrollTop?(r.scrollLeft=0,r.scrollTop=0):(e.scrollLeft!==n.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==n.scrollTop&&e.scrollToRow<0)&&Object.assign(r,t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var o,i,a=n.instanceProps;return r.needToResetStyleCache=!1,e.columnWidth===a.prevColumnWidth&&e.rowHeight===a.prevRowHeight||(r.needToResetStyleCache=!0),a.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),a.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==a.prevColumnCount&&0!==a.prevRowCount||(a.prevColumnCount=0,a.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===a.prevIsScrolling&&Object.assign(r,{isScrolling:!1}),gl({cellCount:a.prevColumnCount,cellSize:"number"==typeof a.prevColumnWidth?a.prevColumnWidth:null,computeMetadataCallback:function(){return a.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:a.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){o=t._getScrollLeftForScrollToColumnStateUpdate(e,n)}}),gl({cellCount:a.prevRowCount,cellSize:"number"==typeof a.prevRowHeight?a.prevRowHeight:null,computeMetadataCallback:function(){return a.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:a.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){i=t._getScrollTopForScrollToRowStateUpdate(e,n)}}),a.prevColumnCount=e.columnCount,a.prevColumnWidth=e.columnWidth,a.prevIsScrolling=!0===e.isScrolling,a.prevRowCount=e.rowCount,a.prevRowHeight=e.rowHeight,a.prevScrollToColumn=e.scrollToColumn,a.prevScrollToRow=e.scrollToRow,a.scrollbarSize=e.getScrollbarSize(),void 0===a.scrollbarSize?(a.scrollbarSizeMeasured=!1,a.scrollbarSize=0):a.scrollbarSizeMeasured=!0,r.instanceProps=a,Pl({},r,{},o,{},i)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,n=e.scrollLeft,r=e.scrollTop,o={scrollPositionChangeReason:Rl};return"number"==typeof n&&n>=0&&(o.scrollDirectionHorizontal=n>t.scrollLeft?1:-1,o.scrollLeft=n),"number"==typeof r&&r>=0&&(o.scrollDirectionVertical=r>t.scrollTop?1:-1,o.scrollTop=r),"number"==typeof n&&n>=0&&n!==t.scrollLeft||"number"==typeof r&&r>=0&&r!==t.scrollTop?o:{}}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var n=e.columnCount,r=e.height,o=e.scrollToAlignment,i=e.scrollToColumn,a=e.width,l=t.scrollLeft,s=t.instanceProps;if(n>0){var c=n-1,u=i<0?c:Math.min(c,i),p=s.rowSizeAndPositionManager.getTotalSize(),f=s.scrollbarSizeMeasured&&p>r?s.scrollbarSize:0;return s.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:a-f,currentOffset:l,targetIndex:u})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,n){var r=n.scrollLeft,o=t._getCalculatedScrollLeft(e,n);return"number"==typeof o&&o>=0&&r!==o?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:o,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,t){var n=e.height,r=e.rowCount,o=e.scrollToAlignment,i=e.scrollToRow,a=e.width,l=t.scrollTop,s=t.instanceProps;if(r>0){var c=r-1,u=i<0?c:Math.min(c,i),p=s.columnSizeAndPositionManager.getTotalSize(),f=s.scrollbarSizeMeasured&&p>a?s.scrollbarSize:0;return s.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:n-f,currentOffset:l,targetIndex:u})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,n){var r=n.scrollTop,o=t._getCalculatedScrollTop(e,n);return"number"==typeof o&&o>=0&&r!==o?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:o}):{}}}]),t}(r.PureComponent),(0,dl.Z)(Ol,"propTypes",null),_l);(0,dl.Z)(Bl,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(e){for(var t=e.cellCache,n=e.cellRenderer,r=e.columnSizeAndPositionManager,o=e.columnStartIndex,i=e.columnStopIndex,a=e.deferredMeasurementCache,l=e.horizontalOffsetAdjustment,s=e.isScrolling,c=e.isScrollingOptOut,u=e.parent,p=e.rowSizeAndPositionManager,f=e.rowStartIndex,d=e.rowStopIndex,h=e.styleCache,m=e.verticalOffsetAdjustment,y=e.visibleColumnIndices,g=e.visibleRowIndices,v=[],b=r.areOffsetsAdjusted()||p.areOffsetsAdjusted(),w=!s&&!b,M=f;M<=d;M++)for(var S=p.getSizeAndPositionOfCell(M),j=o;j<=i;j++){var x=r.getSizeAndPositionOfCell(j),L=j>=y.start&&j<=y.stop&&M>=g.start&&M<=g.stop,C="".concat(M,"-").concat(j),T=void 0;w&&h[C]?T=h[C]:a&&!a.has(M,j)?T={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(T={height:S.size,left:x.offset+l,position:"absolute",top:S.offset+m,width:x.size},h[C]=T);var E={columnIndex:j,isScrolling:s,isVisible:L,key:C,parent:u,rowIndex:M,style:T},O=void 0;!c&&!s||l||m?O=n(E):(t[C]||(t[C]=n(E)),O=t[C]),null!=O&&!1!==O&&v.push(O)}return v},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:function(e){if((!xl&&0!==xl||e)&&jl){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),xl=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return xl},noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return 1===r?{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(t-1,i)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=Cl,t.componentWillReceiveProps=Tl),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=El;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}}(Bl);const Fl=Bl;var Zl,Hl,Wl=(Hl=Zl=function(e){function t(){var e,n;(0,ll.Z)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=(0,cl.Z)(this,(e=(0,ul.Z)(t)).call.apply(e,[this].concat(o))),(0,dl.Z)((0,pl.Z)(n),"Grid",void 0),(0,dl.Z)((0,pl.Z)(n),"_cellRenderer",(function(e){var t=e.parent,r=e.rowIndex,o=e.style,i=e.isScrolling,a=e.isVisible,l=e.key,s=n.props.rowRenderer,c=Object.getOwnPropertyDescriptor(o,"width");return c&&c.writable&&(o.width="100%"),s({index:r,style:o,isScrolling:i,isVisible:a,key:l,parent:t})})),(0,dl.Z)((0,pl.Z)(n),"_setRef",(function(e){n.Grid=e})),(0,dl.Z)((0,pl.Z)(n),"_onScroll",(function(e){var t=e.clientHeight,r=e.scrollHeight,o=e.scrollTop;(0,n.props.onScroll)({clientHeight:t,scrollHeight:r,scrollTop:o})})),(0,dl.Z)((0,pl.Z)(n),"_onSectionRendered",(function(e){var t=e.rowOverscanStartIndex,r=e.rowOverscanStopIndex,o=e.rowStartIndex,i=e.rowStopIndex;(0,n.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:r,startIndex:o,stopIndex:i})})),n}return(0,fl.Z)(t,e),(0,sl.Z)(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.noRowsRenderer,o=e.scrollToIndex,i=e.width,a=yl("ReactVirtualized__List",t);return r.createElement(Fl,(0,al.Z)({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:a,columnWidth:i,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:o}))}}]),t}(r.PureComponent),(0,dl.Z)(Zl,"propTypes",null),Hl);(0,dl.Z)(Wl,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:function(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return n=Math.max(1,n),1===r?{overscanStartIndex:Math.max(0,o-1),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(t-1,i+1)}},overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var Yl,Ul,Gl=n(42374),Vl=(Ul=Yl=function(e){function t(){var e,n;(0,ll.Z)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=(0,cl.Z)(this,(e=(0,ul.Z)(t)).call.apply(e,[this].concat(o))),(0,dl.Z)((0,pl.Z)(n),"_child",void 0),(0,dl.Z)((0,pl.Z)(n),"_measure",(function(){var e=n.props,t=e.cache,r=e.columnIndex,o=void 0===r?0:r,i=e.parent,a=e.rowIndex,l=void 0===a?n.props.index||0:a,s=n._getCellMeasurements(),c=s.height,u=s.width;c===t.getHeight(l,o)&&u===t.getWidth(l,o)||(t.set(l,o,u,c),i&&"function"==typeof i.recomputeGridSize&&i.recomputeGridSize({columnIndex:o,rowIndex:l}))})),(0,dl.Z)((0,pl.Z)(n),"_registerChild",(function(e){!e||e instanceof Element||console.warn("CellMeasurer registerChild expects to be passed Element or null"),n._child=e,e&&n._maybeMeasureCell()})),n}return(0,fl.Z)(t,e),(0,sl.Z)(t,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this.props.children;return"function"==typeof e?e({measure:this._measure,registerChild:this._registerChild}):e}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,t=this._child||(0,Gl.findDOMNode)(this);if(t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){var n=t.style.width,r=t.style.height;e.hasFixedWidth()||(t.style.width="auto"),e.hasFixedHeight()||(t.style.height="auto");var o=Math.ceil(t.offsetHeight),i=Math.ceil(t.offsetWidth);return n&&(t.style.width=n),r&&(t.style.height=r),{height:o,width:i}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,t=e.cache,n=e.columnIndex,r=void 0===n?0:n,o=e.parent,i=e.rowIndex,a=void 0===i?this.props.index||0:i;if(!t.has(a,r)){var l=this._getCellMeasurements(),s=l.height,c=l.width;t.set(a,r,c,s),o&&"function"==typeof o.invalidateCellSizeAfterRender&&o.invalidateCellSizeAfterRender({columnIndex:r,rowIndex:a})}}}]),t}(r.PureComponent),(0,dl.Z)(Yl,"propTypes",null),Ul);(0,dl.Z)(Vl,"__internalCellMeasurerFlag",!1);var Ql=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,ll.Z)(this,e),(0,dl.Z)(this,"_cellHeightCache",{}),(0,dl.Z)(this,"_cellWidthCache",{}),(0,dl.Z)(this,"_columnWidthCache",{}),(0,dl.Z)(this,"_rowHeightCache",{}),(0,dl.Z)(this,"_defaultHeight",void 0),(0,dl.Z)(this,"_defaultWidth",void 0),(0,dl.Z)(this,"_minHeight",void 0),(0,dl.Z)(this,"_minWidth",void 0),(0,dl.Z)(this,"_keyMapper",void 0),(0,dl.Z)(this,"_hasFixedHeight",void 0),(0,dl.Z)(this,"_hasFixedWidth",void 0),(0,dl.Z)(this,"_columnCount",0),(0,dl.Z)(this,"_rowCount",0),(0,dl.Z)(this,"columnWidth",(function(e){var n=e.index,r=t._keyMapper(0,n);return void 0!==t._columnWidthCache[r]?t._columnWidthCache[r]:t._defaultWidth})),(0,dl.Z)(this,"rowHeight",(function(e){var n=e.index,r=t._keyMapper(n,0);return void 0!==t._rowHeightCache[r]?t._rowHeightCache[r]:t._defaultHeight}));var r=n.defaultHeight,o=n.defaultWidth,i=n.fixedHeight,a=n.fixedWidth,l=n.keyMapper,s=n.minHeight,c=n.minWidth;this._hasFixedHeight=!0===i,this._hasFixedWidth=!0===a,this._minHeight=s||0,this._minWidth=c||0,this._keyMapper=l||ql,this._defaultHeight=Math.max(this._minHeight,"number"==typeof r?r:30),this._defaultWidth=Math.max(this._minWidth,"number"==typeof o?o:100)}return(0,sl.Z)(e,[{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);delete this._cellHeightCache[n],delete this._cellWidthCache[n],this._updateCachedColumnAndRowSizes(e,t)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var n=this._keyMapper(e,t);return void 0!==this._cellHeightCache[n]?Math.max(this._minHeight,this._cellHeightCache[n]):this._defaultHeight}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var n=this._keyMapper(e,t);return void 0!==this._cellWidthCache[n]?Math.max(this._minWidth,this._cellWidthCache[n]):this._defaultWidth}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);return void 0!==this._cellHeightCache[n]}},{key:"set",value:function(e,t,n,r){var o=this._keyMapper(e,t);t>=this._columnCount&&(this._columnCount=t+1),e>=this._rowCount&&(this._rowCount=e+1),this._cellHeightCache[o]=r,this._cellWidthCache[o]=n,this._updateCachedColumnAndRowSizes(e,t)}},{key:"_updateCachedColumnAndRowSizes",value:function(e,t){if(!this._hasFixedWidth){for(var n=0,r=0;r<this._rowCount;r++)n=Math.max(n,this.getWidth(r,t));var o=this._keyMapper(0,t);this._columnWidthCache[o]=n}if(!this._hasFixedHeight){for(var i=0,a=0;a<this._columnCount;a++)i=Math.max(i,this.getHeight(e,a));var l=this._keyMapper(e,0);this._rowHeightCache[l]=i}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),e}();function ql(e,t){return"".concat(e,"-").concat(t)}const Xl=function(e){var t,n,o=e.children,i=e.maxHeight,a=e.focusedOption,l=(0,r.useRef)(null),s=(0,r.useRef)(null),c=(0,r.useRef)(new Ql({fixedWidth:!0,defaultHeight:40}));if(o instanceof Array){var u=o.findIndex((function(e){return zn()(a,e.props.data)}));u>=0&&(t=u)}return(0,r.useLayoutEffect)((function(){var e=o instanceof Array?function(e){return e.map((function(e){return e.key}))}(o):o;zn()(s.current,e)||(c.current.clearAll(),l.current.recomputeRowHeights(),s.current=e)}),[o]),r.createElement(Wl,{ref:l,height:(n=Object.values(c.current._rowHeightCache).reduce((function(e,t){return e+t}),0),0===n?i:Math.min(i,n)),deferredMeasurementCache:c.current,rowHeight:c.current.rowHeight,rowRenderer:function(e){var t=e.index,n=e.key,i=e.parent,a=e.style;return r.createElement(Vl,{cache:c.current,columnIndex:0,key:n,parent:i,rowIndex:t},r.createElement("div",{style:a},o instanceof Array?o[t]:o))},rowCount:o.length||1,width:F.HB,scrollToIndex:t})};function $l(e){return $l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(e)}var Jl;function Kl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ts(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function es(e){return function(e){if(Array.isArray(e))return ns(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ts(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ts(e,t){if(e){if("string"==typeof e)return ns(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ns(e,t):void 0}}function ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function os(e,t){return os=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},os(e,t)}function is(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function as(e){return as=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},as(e)}function ls(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ss=(0,a.$j)((function(e){var t,n,r,o;return{activeFilters:e.controls.filters,colorings:e.metadata.colorings,totalStateCounts:e.tree.totalStateCounts,canFilterByGenotype:!!e.entropy.genomeMap,nodes:e.tree.nodes,nodesSecondTree:null===(t=e.treeToo)||void 0===t?void 0:t.nodes,totalStateCountsSecondTree:null===(n=e.treeToo)||void 0===n?void 0:n.totalStateCounts,measurementsFieldsMap:null===(r=e.measurements.collectionToDisplay)||void 0===r?void 0:r.fields,measurementsFiltersMap:null===(o=e.measurements.collectionToDisplay)||void 0===o?void 0:o.filters,measurementsFilters:e.controls.measurementsFilters}}))(Jl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&os(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=as(o);if(i){var n=as(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===$l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return is(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),ls(is(t=a.call(this,e)),"makeOptions",(function(){var e,n=[],r=Object.keys(t.props.colorings||{}),o=[].concat(es(Object.keys(t.props.totalStateCounts)),es(Object.keys(t.props.totalStateCountsSecondTree))),i=Kl([].concat(es(r.filter((function(e){return o.includes(e)}))),es(o.filter((function(e){return!r.includes(e)})))));try{for(i.s();!(e=i.n()).done;){var a,l,s,c=e.value,u=new Set([].concat(es((null===(a=t.props.totalStateCounts[c])||void 0===a?void 0:a.keys())||[]),es((null===(l=t.props.totalStateCountsSecondTree)||void 0===l||null===(s=l[c])||void 0===s?void 0:s.keys())||[])));t.props.totalStateCounts[c];var p,f=t.getFilterTitle(c),d=new Set((t.props.activeFilters[c]||[]).filter((function(e){return e.active})).map((function(e){return e.value}))),h=Kl(Array.from(u).sort());try{for(h.s();!(p=h.n()).done;){var m=p.value;d.has(m)||n.push({label:"".concat(f," → ").concat(m),value:[c,m]})}}catch(e){h.e(e)}finally{h.f()}}}catch(e){i.e(e)}finally{i.f()}if(t.props.canFilterByGenotype){var y=(0,Ke.nx)(t.props.nodes),g=t.props.nodesSecondTree?(0,Ke.nx)(t.props.nodesSecondTree).difference(y):new Set;Array.from(y).concat(Array.from(g)).sort().forEach((function(e){n.push({label:"genotype ".concat(e),value:[F.vD,e]})}))}var v=t.props.nodes.filter((function(e){return!e.hasChildren})).map((function(e){return e.name}));if(v.forEach((function(e){n.push({label:"sample → ".concat(e),value:[F.Ac,e]})})),t.props.nodesSecondTree){var b=new Set(v);t.props.nodesSecondTree.filter((function(e){return!e.hasChildren&&!b.has(e.name)})).forEach((function(e){n.push({label:"sample → ".concat(e.name),value:[F.Ac,e.name]})}))}return t.props.measurementsOn&&t.props.measurementsFiltersMap&&t.props.measurementsFieldsMap&&t.props.measurementsFiltersMap.forEach((function(e,r){var o=e.values,i=t.props.measurementsFieldsMap.get(r).title;o.forEach((function(e){n.push({_type:"measurements",label:"(M) ".concat(i," → ").concat(e),value:[r,e]})}))})),n})),ls(is(t),"selectionMade",(function(e){return"measurements"===e._type?t.props.dispatch((0,B.kq)(e.value[0],e.value[1],!0)):t.props.dispatch((0,R.Rb)("add",e.value[0],[e.value[1]]))})),ls(is(t),"summariseFilters",(function(){return Reflect.ownKeys(t.props.activeFilters).filter((function(e){return t.props.activeFilters[e].length>0})).map((function(e){var n=t.props.activeFilters[e].filter((function(e){return e.active})).length;return{filterName:e,displayName:ps(n,t.getFilterTitle(e)),anyFiltersActive:function(){return t.props.activeFilters[e].filter((function(e){return e.active})).length>0},remove:function(){t.props.dispatch((0,R.Rb)("set",e,[]))},activate:function(){t.props.dispatch((0,R.Rb)("add",e,t.props.activeFilters[e].map((function(e){return e.value}))))},inactivate:function(){t.props.dispatch((0,R.Rb)("inactivate",e,t.props.activeFilters[e].map((function(e){return e.value}))))}}}))})),ls(is(t),"summariseMeasurementsFilters",(function(){return void 0===t.props.measurementsFieldsMap?[]:Object.entries(t.props.measurementsFilters).map((function(e){var n,r,o=(r=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(n,r)||ts(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1],l=Array.from(a.values()).reduce((function(e,t){return t.active?e+1:e}),0);return{field:i,activeFiltersCount:l,badgeTitle:"".concat(l," x ").concat(t.props.measurementsFieldsMap.get(i).title)}}))})),t}return t=l,n=[{key:"getStyles",value:function(){return{base:{width:F.HB,marginBottom:0,fontSize:14}}}},{key:"getFilterTitle",value:function(e){return this.props.colorings&&this.props.colorings[e]&&this.props.colorings[e].title||e}},{key:"render",value:function(){var e=this,t=this.makeOptions(),n=wr()((function(e,n){return n(t)}),200),o=this.getStyles(),i=this.summariseFilters(),a=this.summariseMeasurementsFilters(),l=String(Object.keys(this.props.totalStateCounts).join(","));return r.createElement("div",{style:o.base,key:l},r.createElement(il.Z,{name:"filterQueryBox",placeholder:"Type filter query here...",value:null,defaultOptions:!0,loadOptions:n,filterOption:function(e,t){return t.toLowerCase().split(" ").every((function(t){return e.label.toLowerCase().includes(t)}))},isClearable:!1,isSearchable:!0,isMulti:!1,components:{DropdownIndicator:null,MenuList:Xl},onChange:this.selectionMade,styles:Sr.X}),i.length?r.createElement(r.Fragment,null,r.createElement(yo.om,{spaceAbove:!0},"Currently selected filter categories:"),i.map((function(e){return r.createElement("div",{style:{display:"inline-block",margin:"2px"},key:e.displayName},r.createElement(Z.ZK,{active:e.anyFiltersActive(),canMakeInactive:!0,id:e.displayName,remove:e.remove,activate:e.activate,inactivate:e.inactivate,onHoverMessage:"Data is currently filtered by ".concat(e.displayName)},e.displayName))}))):null,a.length?r.createElement(r.Fragment,null,r.createElement(yo.om,{spaceAbove:!0},"Currently selected measurements filters:"),a.map((function(t){var n=t.field,o=t.activeFiltersCount,i=t.badgeTitle;return r.createElement("div",{style:{display:"inline-block",margin:"2px"},key:i},r.createElement(Z.ZK,{active:o>0,canMakeInactive:!0,id:i,remove:function(){return e.props.dispatch((0,B.EW)(n))},activate:function(){return e.props.dispatch((0,B.RD)(n,!0))},inactivate:function(){return e.props.dispatch((0,B.RD)(n,!1))},onHoverMessage:"Measurements are currently filtered by ".concat(i)},i))}))):null)}}],n&&rs(t.prototype,n),l}(r.Component))||Jl,cs=r.createElement(r.Fragment,null,"Use this box to filter the displayed data based upon filtering criteria.\n    For instance, start typing a country's name to filter the data accordingly.",r.createElement("br",null),"Data is filtered by forming a union of selected values within each category, and then taking the intersection between categories (if more than one category is selected).",r.createElement("br",null),"Scroll to the bottom of the main page (under the data visualisation) to see an expanded display of filters and available values.",r.createElement("br",null),'Filter options prefixed with "(M)" are filters specific to the Measurements panel. They will have no effect on the phylogeny tree or other panels.');const us=ss;function ps(e,t){return t===F.Ac?"".concat(e," x samples"):t===F.vD?"".concat(e," x genotypes"):"".concat(e," x  ").concat(t)}var fs=r.createElement(r.Fragment,null,"This panel displays the evolutionary relationships among samples, illustrating their genetic relatedness and inferred ancestry.",r.createElement("br",null),"The exact options available depend on the dataset and specific analysis performed.",r.createElement("br",null),"If ",r.createElement("em",null,"Branch Length")," is available, you can choose to display the tree branches in terms of (nucleotide) divergence or (inferred) time. It is often helpful to toggle on ",r.createElement("em",null,"confidence intervals")," to gauge the uncertainty in the reconstruction of internal node dates."),ds=r.createElement(r.Fragment,null,"This panel displays the geographical distribution of samples.",r.createElement("br",null),"The ",r.createElement("em",null,"geographic resolution")," chooses the metadata values which define where samples are placed on the map. This can be the same as the selected ",r.createElement("em",null,"color-by")," but is often not!"),hs=r.createElement(r.Fragment,null,"Change various options relating to how the animation proceeds."),ms=r.createElement(r.Fragment,null,"Control whether to show the tree and the map side-by-side (",r.createElement("em",null,"grid"),") or expanded (",r.createElement("em",null,"full"),")."),ys=r.createElement(r.Fragment,null,"This panel displays the observed diversity across the current genome or a selected CDS. All options are in the panel itself."),gs=r.createElement(r.Fragment,null,"This panel displays the prevalence of a characteristic over time, determined by the ",r.createElement("em",null,"color-by"),".",r.createElement("br",null),r.createElement("em",null,"Normalize frequencies")," controls whether the vertical axis represents the entire dataset or only the samples currently visible (e.g. due to filtering). This option is not available when data is limited to prevent numerical issues."),vs=r.createElement(r.Fragment,null,"This panel displays multidimensional data such as serological experimental results that are linked to samples in the tree.",r.createElement("br",null),"Change collection of measurements and various display options for the collection."),bs=r.createElement(r.Fragment,null,"This functionality is experimental and should be treated with caution!",r.createElement("br",null),"Exploding a tree by trait X means that for each branch where the trait changes value, we will prune off the branch and create a separate (sub)tree. It works best when the trait doesn't change value too frequently."),ws=r.createElement(r.Fragment,null,"This functionality is experimental and should be treated with caution!",r.createElement("br",null),"When focusing on selected nodes, nodes that do not match the filter will occupy less vertical space on the tree. Only applicable to rectangular and radial layouts.");function Ms(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Ss=function(){var e,t=(0,Na.T)(),n=(0,a.v9)((function(e){return e.measurements.collectionToDisplay})),o=(0,a.v9)((function(e){return e.measurements.collections.map((function(e){return{value:e.key,label:e.title||e.key}}))}),zn()),i=(0,a.v9)((function(e){return e.controls.measurementsGroupBy})),l=(0,a.v9)((function(e){return e.controls.measurementsDisplay})),s=(0,a.v9)((function(e){return e.controls.measurementsShowOverallMean})),c=(0,a.v9)((function(e){return e.controls.measurementsShowThreshold})),u=[];return n.groupings&&(u=(e=n.groupings.keys(),function(e){if(Array.isArray(e))return Ms(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ms(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ms(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return{value:e,label:n.fields.get(e).title}}))),r.createElement("div",{id:"measurementsControls"},r.createElement(yo.om,null,"Collections"),r.createElement("div",{style:{marginBottom:10,width:F.HB,fontSize:14}},r.createElement(Sr.Z,{name:"measurementsCollections",id:"measurementsCollections",value:o.filter((function(e){return e.value===n.key})),options:o,isClearable:!1,isSearchable:!1,isMulti:!1,onChange:function(e){t((0,B.tw)(e.value))}})),r.createElement(yo.om,null,"Group By"),r.createElement("div",{style:{marginBottom:10,width:F.HB,fontSize:14}},r.createElement(Sr.Z,{name:"measurementsGroupings",id:"measurementsGroupings",value:u.filter((function(e){return e.value===i})),options:u,isClearable:!1,isSearchable:!1,isMulti:!1,onChange:function(e){t((0,B.hi)(e.value))}})),r.createElement(yo.om,null,"Measurements Display"),r.createElement(yo.fP,{selected:"mean"===l,onClick:function(){t((0,B.MP)("mean"))}},"Mean ± SD"),r.createElement(yo.fP,{selected:"raw"===l,onClick:function(){t((0,B.MP)("raw"))}},"Raw"),r.createElement(Bo,{style:{padding:"10px 0px"},display:!0,on:s,label:"Show overall mean ± SD",callback:function(){return t((0,B.jR)())}}),r.createElement(Bo,{display:Array.isArray(n.thresholds)&&n.thresholds.some((function(e){return"number"==typeof e})),on:c,label:"Show measurement threshold(s)",callback:function(){return t((0,B.Bo)())}}))},js=function(){var e=(0,vr.$)().t,t=(0,a.v9)((function(e){return e.controls.panelsAvailable})),n=(0,a.v9)((function(e){return e.controls.panelsToDisplay})),o=(0,a.v9)((function(e){return e.controls.showTreeToo})),i=(0,a.v9)((function(e){return e.controls.canTogglePanelLayout})),l=(0,a.v9)((function(e){return e.controls.branchLengthsToDisplay}));return r.createElement(yo.k2,null,r.createElement(zi,null),"divOnly"!==l&&r.createElement(r.Fragment,null,r.createElement(Ti,{title:e("sidebar:Date Range"),tooltip:po}),r.createElement(fo,null),r.createElement(So,null)),r.createElement(Ti,{title:e("sidebar:Color By"),tooltip:Ir}),r.createElement(zr,null),r.createElement(Ti,{title:e("sidebar:Filter Data"),tooltip:cs}),r.createElement(us,{measurementsOn:n.includes("measurements")}),r.createElement("span",{style:{paddingTop:"10px"}}),t.includes("tree")&&r.createElement(Za,{panel:"tree",title:e("sidebar:Tree"),tooltip:fs,options:r.createElement(r.Fragment,null,r.createElement(bi,null),r.createElement(Xi,null),r.createElement(Ha,{tooltip:ws}),r.createElement(Go,null),r.createElement(Yi.Z,null),r.createElement(Hi,null),r.createElement(Io,{tooltip:bs}),r.createElement(Qa,null))}),t.includes("measurements")&&r.createElement(Za,{panel:"measurements",title:e("sidebar:Measurements"),tooltip:vs,options:r.createElement(Ss,null)}),t.includes("map")&&!o&&r.createElement(Za,{panel:"map",title:e("sidebar:Map"),tooltip:ds,options:r.createElement(r.Fragment,null,r.createElement(da,null),r.createElement(wa,null))}),t.includes("entropy")&&r.createElement(Za,{panel:"entropy",title:e("sidebar:Entropy"),tooltip:ys}),t.includes("frequencies")&&r.createElement(Za,{panel:"frequencies",title:e("sidebar:Frequency"),tooltip:gs,options:r.createElement(Ea,null)}),"divOnly"!==l&&r.createElement("span",{style:{marginTop:"10px"}},r.createElement(Ti,{title:e("sidebar:Animation Options"),tooltip:hs}),r.createElement(ka,null)),i&&r.createElement(r.Fragment,null,r.createElement("span",{style:{paddingTop:"10px"}}),r.createElement(Ti,{title:e("sidebar:Display"),tooltip:ms}),r.createElement(aa,null)),r.createElement("span",{style:{paddingTop:"10px"}}),r.createElement(Ti,{title:e("sidebar:Language")}),r.createElement(ol,null))};var xs=n(58852);function Ls(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(n),!0).forEach((function(t){Ts(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ls(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Es=l.ZP.div.withConfig({displayName:"styles__PanelsContainer",componentId:"sc-18umnzu-0"})(["position:absolute;top:0;bottom:0;right:0;transition:left 0.3s ease-out;background-color:#fff;height:",";width:",";overflow-x:hidden;overflow-y:auto;left:",";"],(function(e){return e.height+"px"}),(function(e){return e.width+"px"}),(function(e){return e.left+"px"})),Os=l.ZP.div.withConfig({displayName:"styles__SidebarContainer",componentId:"sc-18umnzu-1"})(["position:absolute;top:0;bottom:0;right:0;transition:left 0.3s ease-out;left:",";background-color:",";height:",";width:",";max-width:",";overflow-y:auto;overflow-x:hidden;box-shadow:-3px 0px 3px -3px "," inset;font-family:",";"],(function(e){return e.left+"px"}),(function(e){return e.theme.background}),(function(e){return e.height+"px"}),(function(e){return e.width+"px"}),(function(e){return e.width+"px"}),(function(e){return e.theme.sidebarBoxShadow}),(function(e){return e.theme["font-family"]})),_s={};(0,xs.y)("sidebarTheme")&&(_s=(0,xs.R)("sidebarTheme"),Object.prototype.hasOwnProperty.call(_s,"unselectedBackground")&&(_s.alternateBackground=_s.unselectedBackground));var Ds=Cs(Cs({},{background:"#30353F",color:"#D3D3D3","font-family":"Lato, Helvetica Neue, Helvetica, sans-serif",sidebarBoxShadow:"rgba(255, 255, 255, 1)",selectedColor:"#5DA8A3",unselectedColor:"#BBB",alternateBackground:"#888"}),_s),Is=function(e){var t=e.width,n=e.height,o=e.displayNarrative,i=e.narrativeTitle,s=e.navBarHandler,c=(0,a.v9)((function(e){return e.controls.sidebarOpen}));return r.createElement(l.f6,{theme:Ds},r.createElement(Os,{left:c?0:-1*t,width:t,height:n},r.createElement(gr.Z,{sidebar:!0,toggleHandler:s,narrativeTitle:!!o&&i,width:t}),o?r.createElement(dr,{height:n-F.bj,width:t}):r.createElement(js,null)))},zs=n(53262),As=n(80724),ks=(0,r.lazy)((function(){return n.e(452).then(n.bind(n,42452))})),Ns=l.ZP.div.withConfig({displayName:"MainDisplayMarkdown__Container",componentId:"sc-5tw4mo-0"})(["margin:",";font-family:",";font-weight:300;color:",";line-height:1.4;width:","px;font-size:14px;line-height:1.4;@media (max-width:1080px){line-height:1.2;}h1{font-weight:700;font-size:2em;margin:0.3em 0;}h2{font-weight:600;font-size:1.8em;margin:0.3em 0;}h3{font-weight:500;font-size:1.6em;margin:0.3em 0;}h4{font-weight:500;font-size:1.4em;margin:0.2em 0;}h5{font-weight:500;font-size:1.2em;margin:0.2em 0;}h6{font-weight:500;font-size:1.2em;margin:0.2em 0;}pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px;}.line{margin-top:20px;margin-bottom:20px;border-bottom:1px solid #CCC;}.imageContainer{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;}img{margin-left:30px;margin-right:30px;margin-top:2px;margin-bottom:2px;max-width:100%;}table,th,td{border:1px solid;}td,th{padding:3px;}"],(function(e){return e.mobile?"10px 5% 5% 5%":"50px 30px 30px 30px"}),c.kU,(function(e){return e.theme.unselectedColor}),(function(e){return e.width-30}));const Ps=(0,a.$j)((function(e){return{narrativeBlock:e.narrative.blocks[e.narrative.blockIdx]}}))((function(e){var t=e.narrativeBlock,n=e.width,o=e.mobile;return r.createElement(Ns,{width:n,mobile:o},r.createElement(r.Suspense,null,r.createElement(ks,{dir:"auto",mdstring:t.mainDisplayMarkdown,placeholder:"Narrative content should be displayed here, however it wasn't correctly formatted."})))}));function Rs(e){return Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(e)}var Bs;function Fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fs(Object(n),!0).forEach((function(t){Gs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ws(e,t){return Ws=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ws(e,t)}function Ys(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Us(e){return Us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Us(e)}function Gs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Vs=(0,a.$j)((function(e){return{loaded:e.narrative.loaded,blocks:e.narrative.blocks,currentInFocusBlockIdx:e.narrative.blockIdx,panelsToDisplay:e.controls.panelsToDisplay,treeName:e.tree.name}}))(Bs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ws(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Us(o);if(i){var n=Us(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Rs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ys(e)}(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),Gs(Ys(t=a.call(this,e)),"NextButton",(function(e){return r.createElement(_n,{height:t.state.bannerHeight,onClick:t.goToNextPage},e.children)})),Gs(Ys(t),"PreviousButton",(function(e){return r.createElement(On,{height:t.state.bannerHeight,onClick:t.goToPreviousPage},e.children)})),t.state={bannerHeight:50,contentHeight:window.innerHeight-100},t.goToNextPage=function(){t.props.currentInFocusBlockIdx+1!==t.props.blocks.length&&t._goToPage(t.props.currentInFocusBlockIdx+1)},t.goToPreviousPage=function(){0!==t.props.currentInFocusBlockIdx&&t._goToPage(t.props.currentInFocusBlockIdx-1)},t._goToPage=function(e){t.props.dispatch((0,ir.oO)(hr(t.props.blocks,t.props.currentInFocusBlockIdx,e))),document.getElementById("progress-bar").scrollIntoView()},t}return t=l,(n=[{key:"pageNarrativeContent",value:function(){if(this.props.blocks[this.props.currentInFocusBlockIdx].mainDisplayMarkdown)return null;var e=this.props.blocks[this.props.currentInFocusBlockIdx].__html;return 0===this.props.currentInFocusBlockIdx&&(e='\n  <p class="explanation">\n  Narratives are interleaved sections of text and associated Nextstrain visualisations of the genomic data.\n  Click the coloured arrows at the top & bottom of each page to move through this narrative.\n  Within each page, you can scroll through the text to see visualisations of the genomic data.\n  </p>\n'+e),r.createElement("div",{id:"NarrativeBlock_".concat(this.props.currentInFocusBlockIdx),style:{padding:"10px 20px",height:"inherit",overflow:"hidden"},dangerouslySetInnerHTML:{__html:e}})}},{key:"renderMainMarkdown",value:function(){return this.props.panelsToDisplay.includes("MainDisplayMarkdown")?r.createElement(Ps,{width:window.innerWidth,mobile:!0}):null}},{key:"renderVizCards",value:function(e){if(this.props.blocks[this.props.currentInFocusBlockIdx].mainDisplayMarkdown)return null;if(0===this.props.currentInFocusBlockIdx)return null;var t=window.innerWidth-50;return r.createElement(r.Fragment,null,this.props.panelsToDisplay.includes("tree")?r.createElement(ye,{width:t,height:e,key:this.props.treeName}):null,this.props.panelsToDisplay.includes("map")?r.createElement(Ct,{width:t,height:e,justGotNewDatasetRenderNewMap:!1,key:this.props.treeName+"_map"}):null)}},{key:"renderEndOfNarrative",value:function(){var e=this;return r.createElement(r.Fragment,null,r.createElement(this.PreviousButton,null,"Previous"),r.createElement(Dn,{height:this.state.contentHeight+this.state.bannerHeight},this.renderProgress(),r.createElement(En,null,r.createElement("h1",null,"End of Narrative"),r.createElement("a",{style:Zs({},xn),onClick:function(){return e._goToPage(0)}},"Jump to the beginning"),r.createElement("br",null),r.createElement("a",{style:Zs({},xn),onClick:function(){return e.props.dispatch({type:It.$f,narrativeOn:!1})}},"Leave the narrative & explore the data yourself"))))}},{key:"renderStartOfNarrative",value:function(){return r.createElement(r.Fragment,null,r.createElement(Dn,{height:this.state.contentHeight+this.state.bannerHeight},this.renderProgress(),this.pageNarrativeContent(),this.renderVizCards(this.state.contentHeight),this.renderMainMarkdown()),r.createElement(this.NextButton,null,"Next"))}},{key:"renderMiddleOfNarrative",value:function(){return r.createElement(r.Fragment,null,r.createElement(this.PreviousButton,{"aria-labelledby":"nav1"},"Previous"),r.createElement(Dn,{height:this.state.contentHeight},this.renderProgress(),this.pageNarrativeContent(),this.renderVizCards(this.state.contentHeight),this.renderMainMarkdown()),r.createElement(this.NextButton,{"aria-labelledby":"nav2"},"Next"))}},{key:"renderProgress",value:function(){var e=this;return r.createElement(Ln,{id:"progress-bar",style:{height:"".concat(25,"px")}},this.props.blocks.map((function(t,n){var o=e.props.currentInFocusBlockIdx===n?"14px":"6px";return r.createElement(Cn,{key:n,style:{width:o,height:o},onClick:function(){return e._goToPage(n)}})})))}},{key:"render",value:function(){return 0===this.props.currentInFocusBlockIdx?this.renderStartOfNarrative():this.props.currentInFocusBlockIdx!==this.props.blocks.length-1?this.renderMiddleOfNarrative():this.renderEndOfNarrative()}}])&&Hs(t.prototype,n),l}(r.Component))||Bs;function Qs(e){return Qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(e)}function qs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xs(e,t){return Xs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xs(e,t)}function $s(e){return $s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$s(e)}var Js=l.ZP.div.withConfig({displayName:"panelErrorBoundary__Background",componentId:"sc-1jt7nzz-0"})(["background:repeating-linear-gradient( 45deg,transparent,transparent 20px,#f4d2ff 20px,#f4d2ff 21px );margin:10px 10px;padding:10px 10px;border:1px solid #f4d2ff;display:inline-block;position:relative;"]),Ks=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xs(e,t)}(s,e);var t,n,o,i,a,l=(i=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$s(i);if(a){var n=$s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Qs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e)).state={hasError:!1,errorMessage:""},t}return t=s,n=[{key:"componentDidCatch",value:function(e,t){console.error(e),console.error(t)}},{key:"render",value:function(){return this.state.hasError?r.createElement(Js,{style:{width:this.props.width,height:this.props.height}},r.createElement("h1",{style:{fontSize:"3rem"}},"Error! Something's gone wrong within the ".concat(this.props.name," panel")),r.createElement("p",{style:{fontSize:"1.8rem"}},'Error message: "'.concat(this.state.errorMessage,'"')),r.createElement("p",{style:{fontSize:"1.8rem"}},"Please consider making a bug report either on ",r.createElement("a",{href:"https://github.com/nextstrain/auspice/issues/new",target:"_blank",rel:"noreferrer noopener"},"GitHub")," or via ",r.createElement("a",{href:"mailto:hello@nextstrain.org",target:"_blank",rel:"noreferrer noopener"},"email"),". (The more information you can include the better - things such as steps to reproduce the bug, your browser version, the version of Auspice etc are incredibly helpful.)"),r.createElement("p",{style:{fontSize:"1.8rem"}},"In the meantime you could try refreshing the page which may fix things in the short term.")):this.props.children}}],o=[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,errorMessage:e instanceof Error?e.message:"Unknown error (thrown value was not an instance of Error)"}}}],n&&qs(t.prototype,n),o&&qs(t,o),s}(r.Component);const ec=Ks;function tc(e){return tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(e)}var nc,rc;function oc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ic(e,t){return ic=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ic(e,t)}function ac(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lc(e){return lc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lc(e)}var sc=(0,r.lazy)((function(){return Promise.all([n.e(205),n.e(815)]).then(n.bind(n,73815))})),cc=(0,r.lazy)((function(){return Promise.all([n.e(205),n.e(601)]).then(n.bind(n,4601))})),uc=(0,r.lazy)((function(){return Promise.all([n.e(205),n.e(61)]).then(n.bind(n,27679))})),pc=(0,a.$j)((function(e){return{panelsToDisplay:e.controls.panelsToDisplay,panelLayout:e.controls.panelLayout,displayNarrative:e.narrative.display,narrativeIsLoaded:e.narrative.loaded,narrativeTitle:e.narrative.title,browserDimensions:e.browserDimensions.browserDimensions,frequenciesLoaded:e.frequencies.loaded,metadataLoaded:e.metadata.loaded,treeLoaded:e.tree.loaded,sidebarOpen:e.controls.sidebarOpen,showOnlyPanels:e.controls.showOnlyPanels,treeName:e.tree.name,secondTreeName:e.controls.showTreeToo,mobileDisplay:e.general.mobileDisplay}}))((rc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ic(e,t)}(s,e);var t,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=lc(o);if(i){var n=lc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===tc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ac(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).state={showSpinner:!(t.props.metadataLoaded&&t.props.treeLoaded)},(0,Gt.MM)(),t.toggleSidebar=t.toggleSidebar.bind(ac(t)),t.eventListenerForFilesDropped=function(e){return e.preventDefault(),t.props.dispatch((n=e.dataTransfer.files,function(e,t){if(1!==n.length)return e((0,tt.p5)({message:"More than one file dropped",details:"Currently we only allow a single CSV to be used"}));var r=n[0];return function(e){return cn.includes(e.type)||function(e){return""===e.type&&e.name.endsWith(".tsv")}(e)||function(e){return"application/vnd.ms-excel"===e.type&&e.name.endsWith(".csv")}(e)}(r)?nn(e,t,r):e((0,tt.p5)({message:"Cannot parse ".concat(r.name),details:"Currently only CSV/TSV/XLSX files are allowed, not ".concat(r.type)}))}));var n},t.eventListenerForFilesDragged=function(e){e.preventDefault()},t}return t=s,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.showSpinner&&e.metadataLoaded&&e.treeLoaded&&this.setState({showSpinner:!1})}},{key:"componentDidMount",value:function(){document.addEventListener("dragover",this.eventListenerForFilesDragged,!1),document.addEventListener("drop",this.eventListenerForFilesDropped,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("dragover",this.eventListenerForFilesDragged),document.removeEventListener("drop",this.eventListenerForFilesDropped)}},{key:"toggleSidebar",value:function(){this.props.dispatch({type:It.gZ,value:!this.props.sidebarOpen})}},{key:"inGrid",value:function(){return"grid"===this.props.panelLayout}},{key:"shouldShowMeasurementsLegend",value:function(){return!this.props.panelsToDisplay.includes("tree")||!this.inGrid()}},{key:"shouldMapBeInGrid",value:function(){var e=(0,pn._w)(this.props.panelsToDisplay)%2==0;return this.inGrid()&&e}},{key:"shouldShowMapLegend",value:function(){return!this.shouldMapBeInGrid()}},{key:"render",value:function(){var e=this;if(this.state.showSpinner)return r.createElement(As.Z,null);if(this.props.mobileDisplay&&this.props.displayNarrative)return r.createElement(r.Fragment,null,r.createElement(gn,null),r.createElement(l.f6,{theme:Ds},r.createElement(Vs,null)));var t,n,o=(0,zs.V)(this.props.browserDimensions,this.props.displayNarrative,this.props.sidebarOpen,this.props.mobileDisplay),i=o.availableWidth,a=o.availableHeight,s=o.sidebarWidth,p=o.overlayStyles,f=function(){e.props.dispatch({type:It.gZ,value:!1})},d=(0,zs.E)(this.props.panelsToDisplay,this.props.displayNarrative,i,a),h=d.full,m=d.grid,y=d.chartEntropy,g=d.chartFrequencies,v="".concat(this.props.treeName).concat(this.props.secondTreeName?":".concat(this.props.secondTreeName):"");return r.createElement("span",null,r.createElement(gn,null),r.createElement(mt.Z,{showNothing:!0},r.createElement(l.f6,{theme:Ds},r.createElement(Yt,null))),r.createElement(u,{sidebarOpen:this.props.sidebarOpen,mobileDisplay:this.props.mobileDisplay,handler:this.toggleSidebar}),r.createElement(Is,{width:s,height:a,displayNarrative:this.props.displayNarrative,narrativeTitle:this.props.narrativeTitle,navBarHandler:this.toggleSidebar}),r.createElement(Es,{width:i,height:a,left:this.props.sidebarOpen?s:0},this.props.narrativeIsLoaded&&!this.props.panelsToDisplay.includes("MainDisplayMarkdown")?(t=this.props.dispatch,n=this.props.displayNarrative,r.createElement("button",{style:wn(wn({},c.PJ),{},{fontSize:14,backgroundColor:"inherit",zIndex:100,position:"fixed",right:5,top:-1,cursor:"pointer",color:c.I6}),onClick:function(){return t({type:It.$f,narrativeOn:!n})}},n?"explore the data yourself":"return to the narrative")):null,this.props.displayNarrative||this.props.showOnlyPanels?null:r.createElement(he,{width:(0,vn.j)(i,1)}),this.props.panelsToDisplay.includes("tree")?r.createElement(ec,{width:this.inGrid()?m.width:h.width,height:this.inGrid()?m.height:h.height,name:"tree"},r.createElement(ye,{width:this.inGrid()?m.width:h.width,height:this.inGrid()?m.height:h.height,key:v})):null,this.props.panelsToDisplay.includes("measurements")?r.createElement(r.Suspense,{fallback:r.createElement(As.f,{width:this.inGrid()?m.width:h.width,height:this.inGrid()?m.height:h.height,key:v+"_measurements_spinner"})},r.createElement(ec,{width:this.inGrid()?m.width:h.width,height:this.inGrid()?m.height:h.height,name:"measurements"},r.createElement(uc,{width:this.inGrid()?m.width:h.width,height:this.inGrid()?m.height:h.height,key:v+"_measurements",showLegend:this.shouldShowMeasurementsLegend()}))):null,this.props.panelsToDisplay.includes("map")?r.createElement(ec,{width:this.shouldMapBeInGrid()?m.width:h.width,height:this.shouldMapBeInGrid()?m.height:h.height,name:"map"},r.createElement(Ct,{width:this.shouldMapBeInGrid()?m.width:h.width,height:this.shouldMapBeInGrid()?m.height:h.height,key:v+"_map",justGotNewDatasetRenderNewMap:!1,legend:this.shouldShowMapLegend()})):null,this.props.panelsToDisplay.includes("entropy")?r.createElement(r.Suspense,{fallback:null},r.createElement(ec,{width:y.width,height:y.height,name:"entropy"},r.createElement(sc,{width:y.width,height:y.height,key:v+"_entropy"}))):null,this.props.panelsToDisplay.includes("frequencies")&&this.props.frequenciesLoaded?r.createElement(r.Suspense,{fallback:null},r.createElement(ec,{width:g.width,height:g.height,name:"frequencies"},r.createElement(cc,{width:g.width,height:g.height,key:v+"_frequencies"}))):null,this.props.displayNarrative||this.props.showOnlyPanels?null:r.createElement(Et.Z,{width:(0,vn.j)(i,1)}),this.props.displayNarrative||this.props.showOnlyPanels?null:r.createElement(Ot.ZP,{width:(0,vn.j)(i,1)}),this.props.displayNarrative&&this.props.panelsToDisplay.includes("MainDisplayMarkdown")?r.createElement(Ps,{width:(0,vn.j)(i,1)}):null),this.props.mobileDisplay?r.createElement("div",{style:p,onClick:f,onTouchStart:f}):null)}}])&&oc(t.prototype,n),s}(r.Component),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(rc,"propTypes",{dispatch:i().func.isRequired}),nc=rc))||nc;const fc=pc},53262:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,V:()=>a});var r=n(27881),o=n(70570),i=function(e,t,n,o){var i=.36,a=.88,l=.64;if(t){var s=!0+e.includes("entropy")+e.includes("frequencies")-1;0===s?(a=1,l=1):1===s?(a=.7,l=.7,i=.3):(a=.5,l=.5,i=.25)}return{full:(0,r.U)({horizontal:1,vertical:a,availableWidth:n,availableHeight:o}),grid:(0,r.U)({horizontal:.5,vertical:l,availableWidth:n,availableHeight:o}),chartFrequencies:(0,r.U)({horizontal:1,vertical:i,availableWidth:n,availableHeight:o,minHeight:200}),chartEntropy:(0,r.U)({horizontal:1,vertical:i,availableWidth:n,availableHeight:o,minHeight:300})}},a=function(e,t,n,r){var i,a=e.width,l=e.height,s=(i=a,t?i>1500?500:i>1e3?400:310:o.HB+o.TJ),c=n?s:0;return r||(a-=c),{overlayStyles:{position:"absolute",top:0,bottom:0,right:0,display:"block",width:a,height:l,left:n?c:0,opacity:n?1:0,visibility:n?"visible":"hidden",zIndex:8e3,backgroundColor:"rgba(0,0,0,0.5)",cursor:"pointer",overflow:"scroll",transition:n?"visibility 0s ease-out, left 0.3s ease-out, opacity 0.3s ease-out":"left 0.3s ease-out, opacity 0.3s ease-out, visibility 0s ease-out 0.3s"},availableWidth:a,availableHeight:l,sidebarWidth:s}}},1409:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(82684),o=n(63001),i=n(70570),a=n(2739);const l=function(e){var t=e.navHeight,n=e.navWidth,o=e.display,i=e.onClick,l={position:"fixed",left:n?n-12:-12,visibility:o?"visible":"hidden",width:o?12:0,top:t/2-8,backgroundColor:"inherit",boxShadow:"none",cursor:"pointer",borderRadius:"0px",fontSize:12,color:"#444",textAlign:"center",verticalAlign:"middle"};return r.createElement("div",{style:l,onClick:i},r.createElement(a.bUI,null))};var s=n(97855),c=o.ZP.div.withConfig({displayName:"content__AuspiceNavBarContainer",componentId:"sc-jg0fvy-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;height:100%;"]),u=o.ZP.a.withConfig({displayName:"content__Title",componentId:"sc-jg0fvy-1"})(["padding:0px;text-decoration:none;color:",";font-size:20px;font-weight:400;cursor:pointer;letter-spacing:1rem;"],(function(e){return e.theme.color})),p=o.ZP.a.withConfig({displayName:"content__LogoLink",componentId:"sc-jg0fvy-2"})(["padding:5px 5px;width:50px;cursor:pointer;"]),f=o.ZP.div.withConfig({displayName:"content__NarrativeTitle",componentId:"sc-jg0fvy-3"})(["white-space:nowrap;font-size:1.7rem;margin-left:auto;padding:0px 12px;float:right;color:",";max-width:","px;overflow:hidden;text-overflow:ellipsis;"],(function(e){return e.theme.color}),(function(e){return e.width-90})),d=n(58852),h=o.ZP.div.withConfig({displayName:"navBar__NavBarContainer",componentId:"sc-ygpsg-0"})(["left:0;max-width:960px;margin-top:auto;margin-right:auto;margin-bottom:auto;margin-left:auto;height:","px;justify-content:space-between;align-items:center;overflow:hidden;z-index:100;transition:left .3s ease-out;"],(function(e){return e.narrative?i.bj:i.Hy})),m=(0,d.y)("navbarComponent")?(0,d.R)("navbarComponent"):function(e){var t=e.narrativeTitle,n=e.sidebar,o=e.width;return n?r.createElement(c,null,r.createElement("div",{style:{flex:1}}),r.createElement(p,{href:"/"},r.createElement("img",{alt:"splashPage",width:"40px",src:s})),r.createElement("div",{style:{flex:1}}),function(e,t){return e?r.createElement(f,{width:t,href:"/"},e):r.createElement(u,{href:"/"},"auspice")}(t,o),r.createElement("div",{style:{flex:1}})):null};const y=function(e){var t=e.sidebar,n=e.toggleHandler,o=e.narrativeTitle,a=e.width,s=t&&!o;return r.createElement(h,null,r.createElement(m,{narrativeTitle:o,sidebar:t,width:a}),r.createElement(l,{navHeight:i.Hy,navWidth:a,display:s,onClick:n}))}},36584:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});var r=n(4667).I0},27881:(e,t,n)=>{"use strict";n.d(t,{U:()=>o,j:()=>r});var r=function(e,t){return t*(e-(1===t?40:100))},o=function(e){var t=e.horizontal,n=e.vertical,r=e.availableWidth,o=e.availableHeight,i=e.minHeight,a=void 0===i?void 0:i,l=e.maxAspectRatio,s=void 0===l?void 0:l,c=t*(r-(1===t?40:100)),u=n*o-52;return s&&u>s*c&&(u=s*c),a&&u<a&&(u=a),{width:c,height:u}}},32631:(e,t,n)=>{(t=n(55788)(!1)).push([e.id,"/* Following class taken from https://docs.mapbox.com/help/how-mapbox-works/attribution/#other-mapping-frameworks */\n.mapbox-wordmark {\n\tposition: absolute;\n\tdisplay: block;\n\tmargin: 5px;\n\theight: 20px;\n\twidth: 65px;\n\tbottom: 0;\n\ttext-indent: -9999%;\n\tz-index: 99999;\n\toverflow: hidden;\n\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgODAuNDcgMjAuMDIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDgwLjQ3IDIwLjAyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHN0eWxlIHR5cGU9InRleHQvY3NzIj4uc3Qwe29wYWNpdHk6MC42O2ZpbGw6I0ZGRkZGRjtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30uc3Qxe29wYWNpdHk6MC42O2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7fTwvc3R5bGU+PGc+PHBhdGggY2xhc3M9InN0MCIgZD0iTTc5LjI5LDEzLjYxYzAsMC4xMS0wLjA5LDAuMi0wLjIsMC4yaC0xLjUzYy0wLjEyLDAtMC4yMy0wLjA2LTAuMjktMC4xNmwtMS4zNy0yLjI4bC0xLjM3LDIuMjhjLTAuMDYsMC4xLTAuMTcsMC4xNi0wLjI5LDAuMTZoLTEuNTNjLTAuMDQsMC0wLjA4LTAuMDEtMC4xMS0wLjAzYy0wLjA5LTAuMDYtMC4xMi0wLjE4LTAuMDYtMC4yN2MwLDAsMCwwLDAsMGwyLjMxLTMuNWwtMi4yOC0zLjQ3Yy0wLjAyLTAuMDMtMC4wMy0wLjA3LTAuMDMtMC4xMWMwLTAuMTEsMC4wOS0wLjIsMC4yLTAuMmgxLjUzYzAuMTIsMCwwLjIzLDAuMDYsMC4yOSwwLjE2bDEuMzQsMi4yNWwxLjMzLTIuMjRjMC4wNi0wLjEsMC4xNy0wLjE2LDAuMjktMC4xNmgxLjUzYzAuMDQsMCwwLjA4LDAuMDEsMC4xMSwwLjAzYzAuMDksMC4wNiwwLjEyLDAuMTgsMC4wNiwwLjI3YzAsMCwwLDAsMCwwTDc2Ljk2LDEwbDIuMzEsMy41Qzc5LjI4LDEzLjUzLDc5LjI5LDEzLjU3LDc5LjI5LDEzLjYxeiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02My4wOSw5LjE2Yy0wLjM3LTEuNzktMS44Ny0zLjEyLTMuNjYtMy4xMmMtMC45OCwwLTEuOTMsMC40LTIuNiwxLjEyVjMuMzdjMC0wLjEyLTAuMS0wLjIyLTAuMjItMC4yMmgtMS4zM2MtMC4xMiwwLTAuMjIsMC4xLTAuMjIsMC4yMnYxMC4yMWMwLDAuMTIsMC4xLDAuMjIsMC4yMiwwLjIyaDEuMzNjMC4xMiwwLDAuMjItMC4xLDAuMjItMC4yMnYtMC43YzAuNjgsMC43MSwxLjYyLDEuMTIsMi42LDEuMTJjMS43OSwwLDMuMjktMS4zNCwzLjY2LTMuMTNDNjMuMjEsMTAuMyw2My4yMSw5LjcyLDYzLjA5LDkuMTZMNjMuMDksOS4xNnogTTU5LjEyLDEyLjQxYy0xLjI2LDAtMi4yOC0xLjA2LTIuMy0yLjM2VjkuOTljMC4wMi0xLjMxLDEuMDQtMi4zNiwyLjMtMi4zNnMyLjMsMS4wNywyLjMsMi4zOVM2MC4zOSwxMi40MSw1OS4xMiwxMi40MXoiLz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNNjguMjYsNi4wNGMtMS44OS0wLjAxLTMuNTQsMS4yOS0zLjk2LDMuMTNjLTAuMTIsMC41Ni0wLjEyLDEuMTMsMCwxLjY5YzAuNDIsMS44NSwyLjA3LDMuMTYsMy45NywzLjE0YzIuMjQsMCw0LjA2LTEuNzgsNC4wNi0zLjk5UzcwLjUxLDYuMDQsNjguMjYsNi4wNHogTTY4LjI0LDEyLjQyYy0xLjI3LDAtMi4zLTEuMDctMi4zLTIuMzlzMS4wMy0yLjQsMi4zLTIuNHMyLjMsMS4wNywyLjMsMi4zOVM2OS41MSwxMi40MSw2OC4yNCwxMi40Mkw2OC4yNCwxMi40MnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNNTkuMTIsNy42M2MtMS4yNiwwLTIuMjgsMS4wNi0yLjMsMi4zNnYwLjA2YzAuMDIsMS4zMSwxLjA0LDIuMzYsMi4zLDIuMzZzMi4zLTEuMDcsMi4zLTIuMzlTNjAuMzksNy42Myw1OS4xMiw3LjYzeiBNNTkuMTIsMTEuMjNjLTAuNiwwLTEuMDktMC41My0xLjExLTEuMTlWMTBjMC4wMS0wLjY2LDAuNTEtMS4xOSwxLjExLTEuMTlzMS4xMSwwLjU0LDEuMTEsMS4yMVM1OS43NCwxMS4yMyw1OS4xMiwxMS4yM3oiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNNjguMjQsNy42M2MtMS4yNywwLTIuMywxLjA3LTIuMywyLjM5czEuMDMsMi4zOSwyLjMsMi4zOXMyLjMtMS4wNywyLjMtMi4zOVM2OS41MSw3LjYzLDY4LjI0LDcuNjN6IE02OC4yNCwxMS4yM2MtMC42MSwwLTEuMTEtMC41NC0xLjExLTEuMjFzMC41LTEuMiwxLjExLTEuMnMxLjExLDAuNTQsMS4xMSwxLjIxUzY4Ljg1LDExLjIzLDY4LjI0LDExLjIzeiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00My41Niw2LjI0aC0xLjMzYy0wLjEyLDAtMC4yMiwwLjEtMC4yMiwwLjIydjAuN2MtMC42OC0wLjcxLTEuNjItMS4xMi0yLjYtMS4xMmMtMi4wNywwLTMuNzUsMS43OC0zLjc1LDMuOTlzMS42OSwzLjk5LDMuNzUsMy45OWMwLjk5LDAsMS45My0wLjQxLDIuNi0xLjEzdjAuN2MwLDAuMTIsMC4xLDAuMjIsMC4yMiwwLjIyaDEuMzNjMC4xMiwwLDAuMjItMC4xLDAuMjItMC4yMlY2LjQ0YzAtMC4xMS0wLjA5LTAuMjEtMC4yMS0wLjIxQzQzLjU3LDYuMjQsNDMuNTcsNi4yNCw0My41Niw2LjI0eiBNNDIuMDIsMTAuMDVjLTAuMDEsMS4zMS0xLjA0LDIuMzYtMi4zLDIuMzZzLTIuMy0xLjA3LTIuMy0yLjM5czEuMDMtMi40LDIuMjktMi40YzEuMjcsMCwyLjI4LDEuMDYsMi4zLDIuMzZMNDIuMDIsMTAuMDV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTM5LjcyLDcuNjNjLTEuMjcsMC0yLjMsMS4wNy0yLjMsMi4zOXMxLjAzLDIuMzksMi4zLDIuMzlzMi4yOC0xLjA2LDIuMy0yLjM2VjkuOTlDNDIsOC42OCw0MC45OCw3LjYzLDM5LjcyLDcuNjN6IE0zOC42MiwxMC4wMmMwLTAuNjcsMC41LTEuMjEsMS4xMS0xLjIxYzAuNjEsMCwxLjA5LDAuNTMsMS4xMSwxLjE5djAuMDRjLTAuMDEsMC42NS0wLjUsMS4xOC0xLjExLDEuMThTMzguNjIsMTAuNjgsMzguNjIsMTAuMDJ6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTQ5LjkxLDYuMDRjLTAuOTgsMC0xLjkzLDAuNC0yLjYsMS4xMlY2LjQ1YzAtMC4xMi0wLjEtMC4yMi0wLjIyLTAuMjJoLTEuMzNjLTAuMTIsMC0wLjIyLDAuMS0wLjIyLDAuMjJ2MTAuMjFjMCwwLjEyLDAuMSwwLjIyLDAuMjIsMC4yMmgxLjMzYzAuMTIsMCwwLjIyLTAuMSwwLjIyLTAuMjJ2LTMuNzhjMC42OCwwLjcxLDEuNjIsMS4xMiwyLjYxLDEuMTJjMi4wNywwLDMuNzUtMS43OCwzLjc1LTMuOTlTNTEuOTgsNi4wNCw0OS45MSw2LjA0eiBNNDkuNiwxMi40MmMtMS4yNiwwLTIuMjgtMS4wNi0yLjMtMi4zNlY5Ljk5YzAuMDItMS4zMSwxLjA0LTIuMzcsMi4yOS0yLjM3YzEuMjYsMCwyLjMsMS4wNywyLjMsMi4zOVM1MC44NiwxMi40MSw0OS42LDEyLjQyTDQ5LjYsMTIuNDJ6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTQ5LjYsNy42M2MtMS4yNiwwLTIuMjgsMS4wNi0yLjMsMi4zNnYwLjA2YzAuMDIsMS4zMSwxLjA0LDIuMzYsMi4zLDIuMzZzMi4zLTEuMDcsMi4zLTIuMzlTNTAuODYsNy42Myw0OS42LDcuNjN6IE00OS42LDExLjIzYy0wLjYsMC0xLjA5LTAuNTMtMS4xMS0xLjE5VjEwQzQ4LjUsOS4zNCw0OSw4LjgxLDQ5LjYsOC44MWMwLjYsMCwxLjExLDAuNTUsMS4xMSwxLjIxUzUwLjIxLDExLjIzLDQ5LjYsMTEuMjN6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTM0LjM2LDEzLjU5YzAsMC4xMi0wLjEsMC4yMi0wLjIyLDAuMjJoLTEuMzRjLTAuMTIsMC0wLjIyLTAuMS0wLjIyLTAuMjJWOS4yNGMwLTAuOTMtMC43LTEuNjMtMS41NC0xLjYzYy0wLjc2LDAtMS4zOSwwLjY3LTEuNTEsMS41NGwwLjAxLDQuNDRjMCwwLjEyLTAuMSwwLjIyLTAuMjIsMC4yMmgtMS4zNGMtMC4xMiwwLTAuMjItMC4xLTAuMjItMC4yMlY5LjI0YzAtMC45My0wLjctMS42My0xLjU0LTEuNjNjLTAuODEsMC0xLjQ3LDAuNzUtMS41MiwxLjcxdjQuMjdjMCwwLjEyLTAuMSwwLjIyLTAuMjIsMC4yMmgtMS4zM2MtMC4xMiwwLTAuMjItMC4xLTAuMjItMC4yMlY2LjQ0YzAuMDEtMC4xMiwwLjEtMC4yMSwwLjIyLTAuMjFoMS4zM2MwLjEyLDAsMC4yMSwwLjEsMC4yMiwwLjIxdjAuNjNjMC40OC0wLjY1LDEuMjQtMS4wNCwyLjA2LTEuMDVoMC4wM2MxLjA0LDAsMS45OSwwLjU3LDIuNDgsMS40OGMwLjQzLTAuOSwxLjMzLTEuNDgsMi4zMi0xLjQ5YzEuNTQsMCwyLjc5LDEuMTksMi43NiwyLjY1TDM0LjM2LDEzLjU5eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MC4zMiwxMi45N2wtMC4wNy0wLjEyTDc4LjM4LDEwbDEuODUtMi44MWMwLjQyLTAuNjQsMC4yNS0xLjQ5LTAuMzktMS45MmMtMC4wMS0wLjAxLTAuMDItMC4wMS0wLjAzLTAuMDJjLTAuMjItMC4xNC0wLjQ4LTAuMjEtMC43NC0wLjIxaC0xLjUzYy0wLjUzLDAtMS4wMywwLjI4LTEuMywwLjc0bC0wLjMyLDAuNTNsLTAuMzItMC41M2MtMC4yOC0wLjQ2LTAuNzctMC43NC0xLjMxLTAuNzRoLTEuNTNjLTAuNTcsMC0xLjA4LDAuMzUtMS4yOSwwLjg4Yy0yLjA5LTEuNTgtNS4wMy0xLjQtNi45MSwwLjQzYy0wLjMzLDAuMzItMC42MiwwLjY5LTAuODUsMS4wOWMtMC44NS0xLjU1LTIuNDUtMi42LTQuMjgtMi42Yy0wLjQ4LDAtMC45NiwwLjA3LTEuNDEsMC4yMlYzLjM3YzAtMC43OC0wLjYzLTEuNDEtMS40LTEuNDFoLTEuMzNjLTAuNzcsMC0xLjQsMC42My0xLjQsMS40djMuNTdjLTAuOS0xLjMtMi4zOC0yLjA4LTMuOTctMi4wOWMtMC43LDAtMS4zOSwwLjE1LTIuMDIsMC40NWMtMC4yMy0wLjE2LTAuNTEtMC4yNS0wLjgtMC4yNWgtMS4zM2MtMC40MywwLTAuODMsMC4yLTEuMSwwLjUzYy0wLjAyLTAuMDMtMC4wNC0wLjA1LTAuMDctMC4wOGMtMC4yNy0wLjI5LTAuNjUtMC40NS0xLjA0LTAuNDVoLTEuMzJjLTAuMjksMC0wLjU3LDAuMDktMC44LDAuMjVDNDAuOCw1LDQwLjEyLDQuODUsMzkuNDIsNC44NWMtMS43NCwwLTMuMjcsMC45NS00LjE2LDIuMzhjLTAuMTktMC40NC0wLjQ2LTAuODUtMC43OS0xLjE5Yy0wLjc2LTAuNzctMS44LTEuMTktMi44OC0xLjE5aC0wLjAxYy0wLjg1LDAuMDEtMS42NywwLjMxLTIuMzQsMC44NGMtMC43LTAuNTQtMS41Ni0wLjg0LTIuNDUtMC44NGgtMC4wM2MtMC4yOCwwLTAuNTUsMC4wMy0wLjgyLDAuMWMtMC4yNywwLjA2LTAuNTMsMC4xNS0wLjc4LDAuMjdjLTAuMi0wLjExLTAuNDMtMC4xNy0wLjY3LTAuMTdoLTEuMzNjLTAuNzgsMC0xLjQsMC42My0xLjQsMS40djcuMTRjMCwwLjc4LDAuNjMsMS40LDEuNCwxLjRoMS4zM2MwLjc4LDAsMS40MS0wLjYzLDEuNDEtMS40MWMwLDAsMCwwLDAsMFY5LjM1YzAuMDMtMC4zNCwwLjIyLTAuNTYsMC4zNC0wLjU2YzAuMTcsMCwwLjM2LDAuMTcsMC4zNiwwLjQ1djQuMzVjMCwwLjc4LDAuNjMsMS40LDEuNCwxLjRoMS4zNGMwLjc4LDAsMS40LTAuNjMsMS40LTEuNGwtMC4wMS00LjM1YzAuMDYtMC4zLDAuMjQtMC40NSwwLjMzLTAuNDVjMC4xNywwLDAuMzYsMC4xNywwLjM2LDAuNDV2NC4zNWMwLDAuNzgsMC42MywxLjQsMS40LDEuNGgxLjM0YzAuNzgsMCwxLjQtMC42MywxLjQtMS40di0wLjM2YzAuOTEsMS4yMywyLjM0LDEuOTYsMy44NywxLjk2YzAuNywwLDEuMzktMC4xNSwyLjAyLTAuNDVjMC4yMywwLjE2LDAuNTEsMC4yNSwwLjgsMC4yNWgxLjMyYzAuMjksMCwwLjU3LTAuMDksMC44LTAuMjV2MS45MWMwLDAuNzgsMC42MywxLjQsMS40LDEuNGgxLjMzYzAuNzgsMCwxLjQtMC42MywxLjQtMS40di0xLjY5YzAuNDYsMC4xNCwwLjk0LDAuMjIsMS40MiwwLjIxYzEuNjIsMCwzLjA3LTAuODMsMy45Ny0yLjF2MC41YzAsMC43OCwwLjYzLDEuNCwxLjQsMS40aDEuMzNjMC4yOSwwLDAuNTctMC4wOSwwLjgtMC4yNWMwLjYzLDAuMywxLjMyLDAuNDUsMi4wMiwwLjQ1YzEuODMsMCwzLjQzLTEuMDUsNC4yOC0yLjZjMS40NywyLjUyLDQuNzEsMy4zNiw3LjIyLDEuODljMC4xNy0wLjEsMC4zNC0wLjIxLDAuNS0wLjM0YzAuMjEsMC41MiwwLjcyLDAuODcsMS4yOSwwLjg2aDEuNTNjMC41MywwLDEuMDMtMC4yOCwxLjMtMC43NGwwLjM1LTAuNThsMC4zNSwwLjU4YzAuMjgsMC40NiwwLjc3LDAuNzQsMS4zMSwwLjc0aDEuNTJjMC43NywwLDEuMzktMC42MywxLjM4LTEuMzlDODAuNDcsMTMuMzgsODAuNDIsMTMuMTcsODAuMzIsMTIuOTdMODAuMzIsMTIuOTd6IE0zNC4xNSwxMy44MWgtMS4zNGMtMC4xMiwwLTAuMjItMC4xLTAuMjItMC4yMlY5LjI0YzAtMC45My0wLjctMS42My0xLjU0LTEuNjNjLTAuNzYsMC0xLjM5LDAuNjctMS41MSwxLjU0bDAuMDEsNC40NGMwLDAuMTItMC4xLDAuMjItMC4yMiwwLjIyaC0xLjM0Yy0wLjEyLDAtMC4yMi0wLjEtMC4yMi0wLjIyVjkuMjRjMC0wLjkzLTAuNy0xLjYzLTEuNTQtMS42M2MtMC44MSwwLTEuNDcsMC43NS0xLjUyLDEuNzF2NC4yN2MwLDAuMTItMC4xLDAuMjItMC4yMiwwLjIyaC0xLjMzYy0wLjEyLDAtMC4yMi0wLjEtMC4yMi0wLjIyVjYuNDRjMC4wMS0wLjEyLDAuMS0wLjIxLDAuMjItMC4yMWgxLjMzYzAuMTIsMCwwLjIxLDAuMSwwLjIyLDAuMjF2MC42M2MwLjQ4LTAuNjUsMS4yNC0xLjA0LDIuMDYtMS4wNWgwLjAzYzEuMDQsMCwxLjk5LDAuNTcsMi40OCwxLjQ4YzAuNDMtMC45LDEuMzMtMS40OCwyLjMyLTEuNDljMS41NCwwLDIuNzksMS4xOSwyLjc2LDIuNjVsMC4wMSw0LjkxQzM0LjM3LDEzLjcsMzQuMjcsMTMuOCwzNC4xNSwxMy44MUMzNC4xNSwxMy44MSwzNC4xNSwxMy44MSwzNC4xNSwxMy44MXogTTQzLjc4LDEzLjU5YzAsMC4xMi0wLjEsMC4yMi0wLjIyLDAuMjJoLTEuMzNjLTAuMTIsMC0wLjIyLTAuMS0wLjIyLTAuMjJ2LTAuNzFDNDEuMzQsMTMuNiw0MC40LDE0LDM5LjQyLDE0Yy0yLjA3LDAtMy43NS0xLjc4LTMuNzUtMy45OXMxLjY5LTMuOTksMy43NS0zLjk5YzAuOTgsMCwxLjkyLDAuNDEsMi42LDEuMTJ2LTAuN2MwLTAuMTIsMC4xLTAuMjIsMC4yMi0wLjIyaDEuMzNjMC4xMS0wLjAxLDAuMjEsMC4wOCwwLjIyLDAuMmMwLDAuMDEsMCwwLjAxLDAsMC4wMlYxMy41OXogTTQ5LjkxLDE0Yy0wLjk4LDAtMS45Mi0wLjQxLTIuNi0xLjEydjMuNzhjMCwwLjEyLTAuMSwwLjIyLTAuMjIsMC4yMmgtMS4zM2MtMC4xMiwwLTAuMjItMC4xLTAuMjItMC4yMlY2LjQ1YzAtMC4xMiwwLjEtMC4yMSwwLjIyLTAuMjFoMS4zM2MwLjEyLDAsMC4yMiwwLjEsMC4yMiwwLjIydjAuN2MwLjY4LTAuNzIsMS42Mi0xLjEyLDIuNi0xLjEyYzIuMDcsMCwzLjc1LDEuNzcsMy43NSwzLjk4UzUxLjk4LDE0LDQ5LjkxLDE0eiBNNjMuMDksMTAuODdDNjIuNzIsMTIuNjUsNjEuMjIsMTQsNTkuNDMsMTRjLTAuOTgsMC0xLjkyLTAuNDEtMi42LTEuMTJ2MC43YzAsMC4xMi0wLjEsMC4yMi0wLjIyLDAuMjJoLTEuMzNjLTAuMTIsMC0wLjIyLTAuMS0wLjIyLTAuMjJWMy4zN2MwLTAuMTIsMC4xLTAuMjIsMC4yMi0wLjIyaDEuMzNjMC4xMiwwLDAuMjIsMC4xLDAuMjIsMC4yMnYzLjc4YzAuNjgtMC43MSwxLjYyLTEuMTIsMi42LTEuMTFjMS43OSwwLDMuMjksMS4zMywzLjY2LDMuMTJDNjMuMjEsOS43Myw2My4yMSwxMC4zMSw2My4wOSwxMC44N0w2My4wOSwxMC44N0w2My4wOSwxMC44N3ogTTY4LjI2LDE0LjAxYy0xLjksMC4wMS0zLjU1LTEuMjktMy45Ny0zLjE0Yy0wLjEyLTAuNTYtMC4xMi0xLjEzLDAtMS42OWMwLjQyLTEuODUsMi4wNy0zLjE1LDMuOTctMy4xNGMyLjI1LDAsNC4wNiwxLjc4LDQuMDYsMy45OVM3MC41LDE0LjAxLDY4LjI2LDE0LjAxTDY4LjI2LDE0LjAxeiBNNzkuMDksMTMuODFoLTEuNTNjLTAuMTIsMC0wLjIzLTAuMDYtMC4yOS0wLjE2bC0xLjM3LTIuMjhsLTEuMzcsMi4yOGMtMC4wNiwwLjEtMC4xNywwLjE2LTAuMjksMC4xNmgtMS41M2MtMC4wNCwwLTAuMDgtMC4wMS0wLjExLTAuMDNjLTAuMDktMC4wNi0wLjEyLTAuMTgtMC4wNi0wLjI3YzAsMCwwLDAsMCwwbDIuMzEtMy41bC0yLjI4LTMuNDdjLTAuMDItMC4wMy0wLjAzLTAuMDctMC4wMy0wLjExYzAtMC4xMSwwLjA5LTAuMiwwLjItMC4yaDEuNTNjMC4xMiwwLDAuMjMsMC4wNiwwLjI5LDAuMTZsMS4zNCwyLjI1bDEuMzQtMi4yNWMwLjA2LTAuMSwwLjE3LTAuMTYsMC4yOS0wLjE2aDEuNTNjMC4wNCwwLDAuMDgsMC4wMSwwLjExLDAuMDNjMC4wOSwwLjA2LDAuMTIsMC4xOCwwLjA2LDAuMjdjMCwwLDAsMCwwLDBMNzYuOTYsMTBsMi4zMSwzLjVjMC4wMiwwLjAzLDAuMDMsMC4wNywwLjAzLDAuMTFDNzkuMjksMTMuNzIsNzkuMiwxMy44MSw3OS4wOSwxMy44MUM3OS4wOSwxMy44MSw3OS4wOSwxMy44MSw3OS4wOSwxMy44MUw3OS4wOSwxMy44MXoiLz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTAsMS4yMWMtNC44NywwLTguODEsMy45NS04LjgxLDguODFzMy45NSw4LjgxLDguODEsOC44MXM4LjgxLTMuOTUsOC44MS04LjgxQzE4LjgxLDUuMTUsMTQuODcsMS4yMSwxMCwxLjIxeiBNMTQuMTgsMTIuMTljLTEuODQsMS44NC00LjU1LDIuMi02LjM4LDIuMmMtMC42NywwLTEuMzQtMC4wNS0yLTAuMTVjMCwwLTAuOTctNS4zNywyLjA0LTguMzljMC43OS0wLjc5LDEuODYtMS4yMiwyLjk4LTEuMjJjMS4yMSwwLDIuMzcsMC40OSwzLjIzLDEuMzVDMTUuOCw3LjczLDE1Ljg1LDEwLjUsMTQuMTgsMTIuMTl6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTEwLDAuMDJjLTUuNTIsMC0xMCw0LjQ4LTEwLDEwczQuNDgsMTAsMTAsMTBzMTAtNC40OCwxMC0xMEMxOS45OSw0LjUsMTUuNTIsMC4wMiwxMCwwLjAyeiBNMTAsMTguODNjLTQuODcsMC04LjgxLTMuOTUtOC44MS04LjgxUzUuMTMsMS4yLDEwLDEuMnM4LjgxLDMuOTUsOC44MSw4LjgxQzE4LjgxLDE0Ljg5LDE0Ljg3LDE4LjgzLDEwLDE4LjgzeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNC4wNCw1Ljk4Yy0xLjc1LTEuNzUtNC41My0xLjgxLTYuMi0wLjE0QzQuODMsOC44Niw1LjgsMTQuMjMsNS44LDE0LjIzczUuMzcsMC45Nyw4LjM5LTIuMDRDMTUuODUsMTAuNSwxNS44LDcuNzMsMTQuMDQsNS45OHogTTExLjg4LDkuODdsLTAuODcsMS43OGwtMC44Ni0xLjc4TDguMzgsOS4wMWwxLjc3LTAuODZsMC44Ni0xLjc4bDAuODcsMS43OGwxLjc3LDAuODZMMTEuODgsOS44N3oiLz48cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjEzLjY1LDkuMDEgMTEuODgsOS44NyAxMS4wMSwxMS42NSAxMC4xNSw5Ljg3IDguMzgsOS4wMSAxMC4xNSw4LjE1IDExLjAxLDYuMzcgMTEuODgsOC4xNSAiLz48L2c+PC9zdmc+);\n\tbackground-repeat: no-repeat;\n\tbackground-position: 0 0;\n  background-size: 65px 20px;\n  cursor: pointer;\n}",""]),e.exports=t},69086:(e,t,n)=>{var r=n(32631);"string"==typeof r&&(r=[[e.id,r,""]]),n(14246)(r,{}),r.locals&&(e.exports=r.locals)},9482:(e,t,n)=>{var r={"./ar/language.json":44235,"./ar/sidebar.json":9196,"./ar/translation.json":91679,"./de/language.json":99952,"./de/sidebar.json":1351,"./de/translation.json":62168,"./en/language.json":76369,"./en/sidebar.json":78336,"./en/translation.json":61996,"./es/language.json":26316,"./es/sidebar.json":91021,"./es/translation.json":64107,"./fr/language.json":78150,"./fr/sidebar.json":85633,"./fr/translation.json":65387,"./it/language.json":31935,"./it/sidebar.json":67422,"./it/translation.json":22755,"./ja/language.json":67771,"./ja/sidebar.json":67942,"./ja/translation.json":76908,"./lt/language.json":66085,"./lt/sidebar.json":15451,"./lt/translation.json":89245,"./pl/language.json":69530,"./pl/sidebar.json":72453,"./pl/translation.json":50450,"./pt/language.json":13687,"./pt/sidebar.json":65710,"./pt/translation.json":26362,"./ru/language.json":70073,"./ru/sidebar.json":3364,"./ru/translation.json":85188,"./tr/language.json":1736,"./tr/sidebar.json":95222,"./tr/translation.json":10096};function o(e){return i(e).then((e=>n.t(e,19)))}function i(e){return n.e(832).then((()=>{if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}))}o.keys=()=>Object.keys(r),o.resolve=i,o.id=9482,e.exports=o},97855:(e,t,n)=>{"use strict";e.exports=n.p+"1730310c32752e095ee7.svg"}}]);